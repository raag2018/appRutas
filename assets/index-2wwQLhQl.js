function A1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var C1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rv={exports:{}},Sh={},bv={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),P1=Symbol.for("react.portal"),R1=Symbol.for("react.fragment"),b1=Symbol.for("react.strict_mode"),N1=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),O1=Symbol.for("react.context"),D1=Symbol.for("react.forward_ref"),L1=Symbol.for("react.suspense"),V1=Symbol.for("react.memo"),M1=Symbol.for("react.lazy"),e_=Symbol.iterator;function F1(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var Nv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xv=Object.assign,Ov={};function oa(t,e,n){this.props=t,this.context=e,this.refs=Ov,this.updater=n||Nv}oa.prototype.isReactComponent={};oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dv(){}Dv.prototype=oa.prototype;function Rp(t,e,n){this.props=t,this.context=e,this.refs=Ov,this.updater=n||Nv}var bp=Rp.prototype=new Dv;bp.constructor=Rp;xv(bp,oa.prototype);bp.isPureReactComponent=!0;var t_=Array.isArray,Lv=Object.prototype.hasOwnProperty,Np={current:null},Vv={key:!0,ref:!0,__self:!0,__source:!0};function Mv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lv.call(e,r)&&!Vv.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Gl,type:t,key:s,ref:o,props:i,_owner:Np.current}}function U1(t,e){return{$$typeof:Gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gl}function j1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n_=/\/+/g;function Cd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?j1(""+t.key):e.toString(36)}function pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gl:case P1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cd(o,0):r,t_(i)?(n="",t!=null&&(n=t.replace(n_,"$&/")+"/"),pc(i,e,n,"",function(d){return d})):i!=null&&(xp(i)&&(i=U1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t_(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+Cd(s,u);o+=pc(s,e,n,c,i)}else if(c=F1(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+Cd(s,u++),o+=pc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wu(t,e,n){if(t==null)return t;var r=[],i=0;return pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},mc={transition:null},z1={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:mc,ReactCurrentOwner:Np};function Fv(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Wu,forEach:function(t,e,n){Wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wu(t,function(){e++}),e},toArray:function(t){return Wu(t,function(e){return e})||[]},only:function(t){if(!xp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=oa;ve.Fragment=R1;ve.Profiler=N1;ve.PureComponent=Rp;ve.StrictMode=b1;ve.Suspense=L1;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z1;ve.act=Fv;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Np.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)Lv.call(e,c)&&!Vv.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Gl,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:O1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x1,_context:t},t.Consumer=t};ve.createElement=Mv;ve.createFactory=function(t){var e=Mv.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:D1,render:t}};ve.isValidElement=xp;ve.lazy=function(t){return{$$typeof:M1,_payload:{_status:-1,_result:t},_init:$1}};ve.memo=function(t,e){return{$$typeof:V1,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=mc.transition;mc.transition={};try{t()}finally{mc.transition=e}};ve.unstable_act=Fv;ve.useCallback=function(t,e){return Qt.current.useCallback(t,e)};ve.useContext=function(t){return Qt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Qt.current.useEffect(t,e)};ve.useId=function(){return Qt.current.useId()};ve.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Qt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};ve.useRef=function(t){return Qt.current.useRef(t)};ve.useState=function(t){return Qt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Qt.current.useTransition()};ve.version="18.3.1";bv.exports=ve;var X=bv.exports;const Uv=k1(X),B1=A1({__proto__:null,default:Uv},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=X,W1=Symbol.for("react.element"),q1=Symbol.for("react.fragment"),K1=Object.prototype.hasOwnProperty,G1=H1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q1={key:!0,ref:!0,__self:!0,__source:!0};function jv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)K1.call(e,r)&&!Q1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:W1,type:t,key:s,ref:o,props:i,_owner:G1.current}}Sh.Fragment=q1;Sh.jsx=jv;Sh.jsxs=jv;Rv.exports=Sh;var Z=Rv.exports,hf={},$v={exports:{}},gn={},zv={exports:{}},Bv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,le){var F=Y.length;Y.push(le);e:for(;0<F;){var Me=F-1>>>1,Re=Y[Me];if(0<i(Re,le))Y[Me]=le,Y[F]=Re,F=Me;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var le=Y[0],F=Y.pop();if(F!==le){Y[0]=F;e:for(var Me=0,Re=Y.length,Be=Re>>>1;Me<Be;){var ct=2*(Me+1)-1,Bt=Y[ct],tt=ct+1,ln=Y[tt];if(0>i(Bt,F))tt<Re&&0>i(ln,Bt)?(Y[Me]=ln,Y[tt]=F,Me=tt):(Y[Me]=Bt,Y[ct]=F,Me=ct);else if(tt<Re&&0>i(ln,F))Y[Me]=ln,Y[tt]=F,Me=tt;else break e}}return le}function i(Y,le){var F=Y.sortIndex-le.sortIndex;return F!==0?F:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],g=1,_=null,E=3,R=!1,L=!1,V=!1,M=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Y){for(var le=n(d);le!==null;){if(le.callback===null)r(d);else if(le.startTime<=Y)r(d),le.sortIndex=le.expirationTime,e(c,le);else break;le=n(d)}}function $(Y){if(V=!1,P(Y),!L)if(n(c)!==null)L=!0,ri(q);else{var le=n(d);le!==null&&an($,le.startTime-Y)}}function q(Y,le){L=!1,V&&(V=!1,A(w),w=-1),R=!0;var F=E;try{for(P(le),_=n(c);_!==null&&(!(_.expirationTime>le)||Y&&!b());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,E=_.priorityLevel;var Re=Me(_.expirationTime<=le);le=t.unstable_now(),typeof Re=="function"?_.callback=Re:_===n(c)&&r(c),P(le)}else r(c);_=n(c)}if(_!==null)var Be=!0;else{var ct=n(d);ct!==null&&an($,ct.startTime-le),Be=!1}return Be}finally{_=null,E=F,R=!1}}var Q=!1,S=null,w=-1,I=5,C=-1;function b(){return!(t.unstable_now()-C<I)}function D(){if(S!==null){var Y=t.unstable_now();C=Y;var le=!0;try{le=S(!0,Y)}finally{le?k():(Q=!1,S=null)}}else Q=!1}var k;if(typeof T=="function")k=function(){T(D)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,er=zt.port2;zt.port1.onmessage=D,k=function(){er.postMessage(null)}}else k=function(){M(D,0)};function ri(Y){S=Y,Q||(Q=!0,k())}function an(Y,le){w=M(function(){Y(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){L||R||(L=!0,ri(q))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var F=E;E=le;try{return Y()}finally{E=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var F=E;E=Y;try{return le()}finally{E=F}},t.unstable_scheduleCallback=function(Y,le,F){var Me=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Me+F:Me):F=Me,Y){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=F+Re,Y={id:g++,callback:le,priorityLevel:Y,startTime:F,expirationTime:Re,sortIndex:-1},F>Me?(Y.sortIndex=F,e(d,Y),n(c)===null&&Y===n(d)&&(V?(A(w),w=-1):V=!0,an($,F-Me))):(Y.sortIndex=Re,e(c,Y),L||R||(L=!0,ri(q))),Y},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(Y){var le=E;return function(){var F=E;E=le;try{return Y.apply(this,arguments)}finally{E=F}}}})(Bv);zv.exports=Bv;var X1=zv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1=X,pn=X1;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hv=new Set,El={};function Hs(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(El[t]=e,t=0;t<e.length;t++)Hv.add(e[t])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=Object.prototype.hasOwnProperty,J1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r_={},i_={};function Z1(t){return df.call(i_,t)?!0:df.call(r_,t)?!1:J1.test(t)?i_[t]=!0:(r_[t]=!0,!1)}function eS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tS(t,e,n,r){if(e===null||typeof e>"u"||eS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function Dp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Op,Dp);Rt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Op,Dp);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Op,Dp);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lp(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tS(e,n,i,r)&&(n=null),r||i===null?Z1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ti=Y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qu=Symbol.for("react.element"),To=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),Wv=Symbol.for("react.provider"),qv=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),pf=Symbol.for("react.suspense"),mf=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),Kv=Symbol.for("react.offscreen"),s_=Symbol.iterator;function Wa(t){return t===null||typeof t!="object"?null:(t=s_&&t[s_]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,kd;function el(t){if(kd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kd=e&&e[1]||""}return`
`+kd+t}var Pd=!1;function Rd(t,e){if(!t||Pd)return"";Pd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{Pd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function nS(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=Rd(t.type,!1),t;case 11:return t=Rd(t.type.render,!1),t;case 1:return t=Rd(t.type,!0),t;default:return""}}function gf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Io:return"Fragment";case To:return"Portal";case ff:return"Profiler";case Vp:return"StrictMode";case pf:return"Suspense";case mf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qv:return(t.displayName||"Context")+".Consumer";case Wv:return(t._context.displayName||"Context")+".Provider";case Mp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fp:return e=t.displayName||null,e!==null?e:gf(t.type)||"Memo";case wi:e=t._payload,t=t._init;try{return gf(t(e))}catch{}}return null}function rS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gf(e);case 8:return e===Vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iS(t){var e=Gv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ku(t){t._valueTracker||(t._valueTracker=iS(t))}function Qv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _f(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xv(t,e){e=e.checked,e!=null&&Lp(t,"checked",e,!1)}function yf(t,e){Xv(t,e);var n=Wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&vf(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vf(t,e,n){(e!=="number"||Lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function Do(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(tl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wi(n)}}function Yv(t,e){var n=Wi(e.value),r=Wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ef(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gu,Zv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gu=Gu||document.createElement("div"),Gu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sS=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(t){sS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),al[e]=al[t]})});function e0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||al.hasOwnProperty(t)&&al[t]?(""+e).trim():e+"px"}function t0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=e0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var oS=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tf(t,e){if(e){if(oS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function If(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=null;function Up(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Af=null,Lo=null,Vo=null;function c_(t){if(t=Yl(t)){if(typeof Af!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Rh(e),Af(t.stateNode,t.type,e))}}function n0(t){Lo?Vo?Vo.push(t):Vo=[t]:Lo=t}function r0(){if(Lo){var t=Lo,e=Vo;if(Vo=Lo=null,c_(t),e)for(t=0;t<e.length;t++)c_(e[t])}}function i0(t,e){return t(e)}function s0(){}var bd=!1;function o0(t,e,n){if(bd)return t(e,n);bd=!0;try{return i0(t,e,n)}finally{bd=!1,(Lo!==null||Vo!==null)&&(s0(),r0())}}function Il(t,e){var n=t.stateNode;if(n===null)return null;var r=Rh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Cf=!1;if(Gr)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Cf=!1}function aS(t,e,n,r,i,s,o,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(g){this.onError(g)}}var ll=!1,Vc=null,Mc=!1,kf=null,lS={onError:function(t){ll=!0,Vc=t}};function uS(t,e,n,r,i,s,o,u,c){ll=!1,Vc=null,aS.apply(lS,arguments)}function cS(t,e,n,r,i,s,o,u,c){if(uS.apply(this,arguments),ll){if(ll){var d=Vc;ll=!1,Vc=null}else throw Error(W(198));Mc||(Mc=!0,kf=d)}}function Ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function a0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h_(t){if(Ws(t)!==t)throw Error(W(188))}function hS(t){var e=t.alternate;if(!e){if(e=Ws(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h_(i),t;if(s===r)return h_(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function l0(t){return t=hS(t),t!==null?u0(t):null}function u0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u0(t);if(e!==null)return e;t=t.sibling}return null}var c0=pn.unstable_scheduleCallback,d_=pn.unstable_cancelCallback,dS=pn.unstable_shouldYield,fS=pn.unstable_requestPaint,it=pn.unstable_now,pS=pn.unstable_getCurrentPriorityLevel,jp=pn.unstable_ImmediatePriority,h0=pn.unstable_UserBlockingPriority,Fc=pn.unstable_NormalPriority,mS=pn.unstable_LowPriority,d0=pn.unstable_IdlePriority,Ah=null,fr=null;function gS(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Ah,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:vS,_S=Math.log,yS=Math.LN2;function vS(t){return t>>>=0,t===0?32:31-(_S(t)/yS|0)|0}var Qu=64,Xu=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=nl(u):(s&=o,s!==0&&(r=nl(s)))}else o=n&~i,o!==0?r=nl(o):s!==0&&(r=nl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qn(e),i=1<<n,r|=t[n],e&=~i;return r}function wS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ES(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qn(s),u=1<<o,c=i[o];c===-1?(!(u&n)||u&r)&&(i[o]=wS(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Pf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f0(){var t=Qu;return Qu<<=1,!(Qu&4194240)&&(Qu=64),t}function Nd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ql(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function TS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $p(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function p0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var m0,zp,g0,_0,y0,Rf=!1,Yu=[],Ni=null,xi=null,Oi=null,Sl=new Map,Al=new Map,Ti=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f_(t,e){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(e.pointerId)}}function Ka(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yl(e),e!==null&&zp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SS(t,e,n,r,i){switch(e){case"focusin":return Ni=Ka(Ni,t,e,n,r,i),!0;case"dragenter":return xi=Ka(xi,t,e,n,r,i),!0;case"mouseover":return Oi=Ka(Oi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sl.set(s,Ka(Sl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Al.set(s,Ka(Al.get(s)||null,t,e,n,r,i)),!0}return!1}function v0(t){var e=Ss(t.target);if(e!==null){var n=Ws(e);if(n!==null){if(e=n.tag,e===13){if(e=a0(n),e!==null){t.blockedOn=e,y0(t.priority,function(){g0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sf=r,n.target.dispatchEvent(r),Sf=null}else return e=Yl(n),e!==null&&zp(e),t.blockedOn=n,!1;e.shift()}return!0}function p_(t,e,n){gc(t)&&n.delete(e)}function AS(){Rf=!1,Ni!==null&&gc(Ni)&&(Ni=null),xi!==null&&gc(xi)&&(xi=null),Oi!==null&&gc(Oi)&&(Oi=null),Sl.forEach(p_),Al.forEach(p_)}function Ga(t,e){t.blockedOn===e&&(t.blockedOn=null,Rf||(Rf=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,AS)))}function Cl(t){function e(i){return Ga(i,t)}if(0<Yu.length){Ga(Yu[0],t);for(var n=1;n<Yu.length;n++){var r=Yu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ni!==null&&Ga(Ni,t),xi!==null&&Ga(xi,t),Oi!==null&&Ga(Oi,t),Sl.forEach(e),Al.forEach(e),n=0;n<Ti.length;n++)r=Ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)v0(n),n.blockedOn===null&&Ti.shift()}var Mo=ti.ReactCurrentBatchConfig,jc=!0;function CS(t,e,n,r){var i=Oe,s=Mo.transition;Mo.transition=null;try{Oe=1,Bp(t,e,n,r)}finally{Oe=i,Mo.transition=s}}function kS(t,e,n,r){var i=Oe,s=Mo.transition;Mo.transition=null;try{Oe=4,Bp(t,e,n,r)}finally{Oe=i,Mo.transition=s}}function Bp(t,e,n,r){if(jc){var i=bf(t,e,n,r);if(i===null)$d(t,e,r,$c,n),f_(t,r);else if(SS(i,t,e,n,r))r.stopPropagation();else if(f_(t,r),e&4&&-1<IS.indexOf(t)){for(;i!==null;){var s=Yl(i);if(s!==null&&m0(s),s=bf(t,e,n,r),s===null&&$d(t,e,r,$c,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $d(t,e,r,null,n)}}var $c=null;function bf(t,e,n,r){if($c=null,t=Up(r),t=Ss(t),t!==null)if(e=Ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=a0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $c=t,null}function w0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pS()){case jp:return 1;case h0:return 4;case Fc:case mS:return 16;case d0:return 536870912;default:return 16}default:return 16}}var ki=null,Hp=null,_c=null;function E0(){if(_c)return _c;var t,e=Hp,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _c=i.slice(t,1<r?1-r:void 0)}function yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ju(){return!0}function m_(){return!1}function _n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ju:m_,this.isPropagationStopped=m_,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),e}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wp=_n(aa),Xl=Xe({},aa,{view:0,detail:0}),PS=_n(Xl),xd,Od,Qa,Ch=Xe({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(xd=t.screenX-Qa.screenX,Od=t.screenY-Qa.screenY):Od=xd=0,Qa=t),xd)},movementY:function(t){return"movementY"in t?t.movementY:Od}}),g_=_n(Ch),RS=Xe({},Ch,{dataTransfer:0}),bS=_n(RS),NS=Xe({},Xl,{relatedTarget:0}),Dd=_n(NS),xS=Xe({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),OS=_n(xS),DS=Xe({},aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LS=_n(DS),VS=Xe({},aa,{data:0}),__=_n(VS),MS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},US={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=US[t])?!!e[t]:!1}function qp(){return jS}var $S=Xe({},Xl,{key:function(t){if(t.key){var e=MS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(t){return t.type==="keypress"?yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zS=_n($S),BS=Xe({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y_=_n(BS),HS=Xe({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),WS=_n(HS),qS=Xe({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=_n(qS),GS=Xe({},Ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QS=_n(GS),XS=[9,13,27,32],Kp=Gr&&"CompositionEvent"in window,ul=null;Gr&&"documentMode"in document&&(ul=document.documentMode);var YS=Gr&&"TextEvent"in window&&!ul,T0=Gr&&(!Kp||ul&&8<ul&&11>=ul),v_=" ",w_=!1;function I0(t,e){switch(t){case"keyup":return XS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function JS(t,e){switch(t){case"compositionend":return S0(e);case"keypress":return e.which!==32?null:(w_=!0,v_);case"textInput":return t=e.data,t===v_&&w_?null:t;default:return null}}function ZS(t,e){if(So)return t==="compositionend"||!Kp&&I0(t,e)?(t=E0(),_c=Hp=ki=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return T0&&e.locale!=="ko"?null:e.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eA[t.type]:e==="textarea"}function A0(t,e,n,r){n0(r),e=zc(e,"onChange"),0<e.length&&(n=new Wp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cl=null,kl=null;function tA(t){V0(t,0)}function kh(t){var e=ko(t);if(Qv(e))return t}function nA(t,e){if(t==="change")return e}var C0=!1;if(Gr){var Ld;if(Gr){var Vd="oninput"in document;if(!Vd){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Vd=typeof T_.oninput=="function"}Ld=Vd}else Ld=!1;C0=Ld&&(!document.documentMode||9<document.documentMode)}function I_(){cl&&(cl.detachEvent("onpropertychange",k0),kl=cl=null)}function k0(t){if(t.propertyName==="value"&&kh(kl)){var e=[];A0(e,kl,t,Up(t)),o0(tA,e)}}function rA(t,e,n){t==="focusin"?(I_(),cl=e,kl=n,cl.attachEvent("onpropertychange",k0)):t==="focusout"&&I_()}function iA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kh(kl)}function sA(t,e){if(t==="click")return kh(e)}function oA(t,e){if(t==="input"||t==="change")return kh(e)}function aA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:aA;function Pl(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!df.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function S_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A_(t,e){var n=S_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S_(n)}}function P0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function R0(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lc(t.document)}return e}function Gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lA(t){var e=R0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P0(n.ownerDocument.documentElement,n)){if(r!==null&&Gp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=A_(n,s);var o=A_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uA=Gr&&"documentMode"in document&&11>=document.documentMode,Ao=null,Nf=null,hl=null,xf=!1;function C_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xf||Ao==null||Ao!==Lc(r)||(r=Ao,"selectionStart"in r&&Gp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hl&&Pl(hl,r)||(hl=r,r=zc(Nf,"onSelect"),0<r.length&&(e=new Wp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ao)))}function Zu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Co={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},Md={},b0={};Gr&&(b0=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Ph(t){if(Md[t])return Md[t];if(!Co[t])return t;var e=Co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in b0)return Md[t]=e[n];return t}var N0=Ph("animationend"),x0=Ph("animationiteration"),O0=Ph("animationstart"),D0=Ph("transitionend"),L0=new Map,k_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,e){L0.set(t,e),Hs(e,[t])}for(var Fd=0;Fd<k_.length;Fd++){var Ud=k_[Fd],cA=Ud.toLowerCase(),hA=Ud[0].toUpperCase()+Ud.slice(1);Xi(cA,"on"+hA)}Xi(N0,"onAnimationEnd");Xi(x0,"onAnimationIteration");Xi(O0,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(D0,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function P_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cS(r,e,void 0,t),t.currentTarget=null}function V0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;P_(i,u,d),s=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;P_(i,u,d),s=c}}}if(Mc)throw t=kf,Mc=!1,kf=null,t}function He(t,e){var n=e[Mf];n===void 0&&(n=e[Mf]=new Set);var r=t+"__bubble";n.has(r)||(M0(e,t,2,!1),n.add(r))}function jd(t,e,n){var r=0;e&&(r|=4),M0(n,t,r,e)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[ec]){t[ec]=!0,Hv.forEach(function(n){n!=="selectionchange"&&(dA.has(n)||jd(n,!1,t),jd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ec]||(e[ec]=!0,jd("selectionchange",!1,e))}}function M0(t,e,n,r){switch(w0(e)){case 1:var i=CS;break;case 4:i=kS;break;default:i=Bp}n=i.bind(null,e,n,t),i=void 0,!Cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $d(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ss(u),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}u=u.parentNode}}r=r.return}o0(function(){var d=s,g=Up(n),_=[];e:{var E=L0.get(t);if(E!==void 0){var R=Wp,L=t;switch(t){case"keypress":if(yc(n)===0)break e;case"keydown":case"keyup":R=zS;break;case"focusin":L="focus",R=Dd;break;case"focusout":L="blur",R=Dd;break;case"beforeblur":case"afterblur":R=Dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=bS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=WS;break;case N0:case x0:case O0:R=OS;break;case D0:R=KS;break;case"scroll":R=PS;break;case"wheel":R=QS;break;case"copy":case"cut":case"paste":R=LS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=y_}var V=(e&4)!==0,M=!V&&t==="scroll",A=V?E!==null?E+"Capture":null:E;V=[];for(var T=d,P;T!==null;){P=T;var $=P.stateNode;if(P.tag===5&&$!==null&&(P=$,A!==null&&($=Il(T,A),$!=null&&V.push(bl(T,$,P)))),M)break;T=T.return}0<V.length&&(E=new R(E,L,null,n,g),_.push({event:E,listeners:V}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",E&&n!==Sf&&(L=n.relatedTarget||n.fromElement)&&(Ss(L)||L[Qr]))break e;if((R||E)&&(E=g.window===g?g:(E=g.ownerDocument)?E.defaultView||E.parentWindow:window,R?(L=n.relatedTarget||n.toElement,R=d,L=L?Ss(L):null,L!==null&&(M=Ws(L),L!==M||L.tag!==5&&L.tag!==6)&&(L=null)):(R=null,L=d),R!==L)){if(V=g_,$="onMouseLeave",A="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(V=y_,$="onPointerLeave",A="onPointerEnter",T="pointer"),M=R==null?E:ko(R),P=L==null?E:ko(L),E=new V($,T+"leave",R,n,g),E.target=M,E.relatedTarget=P,$=null,Ss(g)===d&&(V=new V(A,T+"enter",L,n,g),V.target=P,V.relatedTarget=M,$=V),M=$,R&&L)t:{for(V=R,A=L,T=0,P=V;P;P=_o(P))T++;for(P=0,$=A;$;$=_o($))P++;for(;0<T-P;)V=_o(V),T--;for(;0<P-T;)A=_o(A),P--;for(;T--;){if(V===A||A!==null&&V===A.alternate)break t;V=_o(V),A=_o(A)}V=null}else V=null;R!==null&&R_(_,E,R,V,!1),L!==null&&M!==null&&R_(_,M,L,V,!0)}}e:{if(E=d?ko(d):window,R=E.nodeName&&E.nodeName.toLowerCase(),R==="select"||R==="input"&&E.type==="file")var q=nA;else if(E_(E))if(C0)q=oA;else{q=iA;var Q=rA}else(R=E.nodeName)&&R.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(q=sA);if(q&&(q=q(t,d))){A0(_,q,n,g);break e}Q&&Q(t,E,d),t==="focusout"&&(Q=E._wrapperState)&&Q.controlled&&E.type==="number"&&vf(E,"number",E.value)}switch(Q=d?ko(d):window,t){case"focusin":(E_(Q)||Q.contentEditable==="true")&&(Ao=Q,Nf=d,hl=null);break;case"focusout":hl=Nf=Ao=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,C_(_,n,g);break;case"selectionchange":if(uA)break;case"keydown":case"keyup":C_(_,n,g)}var S;if(Kp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else So?I0(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(T0&&n.locale!=="ko"&&(So||w!=="onCompositionStart"?w==="onCompositionEnd"&&So&&(S=E0()):(ki=g,Hp="value"in ki?ki.value:ki.textContent,So=!0)),Q=zc(d,w),0<Q.length&&(w=new __(w,t,null,n,g),_.push({event:w,listeners:Q}),S?w.data=S:(S=S0(n),S!==null&&(w.data=S)))),(S=YS?JS(t,n):ZS(t,n))&&(d=zc(d,"onBeforeInput"),0<d.length&&(g=new __("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:d}),g.data=S))}V0(_,e)})}function bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Il(t,n),s!=null&&r.unshift(bl(t,s,i)),s=Il(t,e),s!=null&&r.push(bl(t,s,i))),t=t.return}return r}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,i?(c=Il(n,s),c!=null&&o.unshift(bl(n,c,u))):i||(c=Il(n,s),c!=null&&o.push(bl(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function b_(t){return(typeof t=="string"?t:""+t).replace(fA,`
`).replace(pA,"")}function tc(t,e,n){if(e=b_(e),b_(t)!==e&&n)throw Error(W(425))}function Bc(){}var Of=null,Df=null;function Lf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(t){return N_.resolve(null).then(t).catch(_A)}:Vf;function _A(t){setTimeout(function(){throw t})}function zd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cl(e)}function Di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function x_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var la=Math.random().toString(36).slice(2),dr="__reactFiber$"+la,Nl="__reactProps$"+la,Qr="__reactContainer$"+la,Mf="__reactEvents$"+la,yA="__reactListeners$"+la,vA="__reactHandles$"+la;function Ss(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=x_(t);t!==null;){if(n=t[dr])return n;t=x_(t)}return e}t=n,n=t.parentNode}return null}function Yl(t){return t=t[dr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Rh(t){return t[Nl]||null}var Ff=[],Po=-1;function Yi(t){return{current:t}}function We(t){0>Po||(t.current=Ff[Po],Ff[Po]=null,Po--)}function ze(t,e){Po++,Ff[Po]=t.current,t.current=e}var qi={},$t=Yi(qi),rn=Yi(!1),Os=qi;function Wo(t,e){var n=t.type.contextTypes;if(!n)return qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Hc(){We(rn),We($t)}function O_(t,e,n){if($t.current!==qi)throw Error(W(168));ze($t,e),ze(rn,n)}function F0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,rS(t)||"Unknown",i));return Xe({},n,r)}function Wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,Os=$t.current,ze($t,t),ze(rn,rn.current),!0}function D_(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=F0(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,We(rn),We($t),ze($t,t)):We(rn),ze(rn,n)}var Fr=null,bh=!1,Bd=!1;function U0(t){Fr===null?Fr=[t]:Fr.push(t)}function wA(t){bh=!0,U0(t)}function Ji(){if(!Bd&&Fr!==null){Bd=!0;var t=0,e=Oe;try{var n=Fr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,bh=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),c0(jp,Ji),i}finally{Oe=e,Bd=!1}}return null}var Ro=[],bo=0,qc=null,Kc=0,kn=[],Pn=0,Ds=null,jr=1,$r="";function Es(t,e){Ro[bo++]=Kc,Ro[bo++]=qc,qc=t,Kc=e}function j0(t,e,n){kn[Pn++]=jr,kn[Pn++]=$r,kn[Pn++]=Ds,Ds=t;var r=jr;t=$r;var i=32-Qn(r)-1;r&=~(1<<i),n+=1;var s=32-Qn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,jr=1<<32-Qn(e)+i|n<<i|r,$r=s+t}else jr=1<<s|n<<i|r,$r=t}function Qp(t){t.return!==null&&(Es(t,1),j0(t,1,0))}function Xp(t){for(;t===qc;)qc=Ro[--bo],Ro[bo]=null,Kc=Ro[--bo],Ro[bo]=null;for(;t===Ds;)Ds=kn[--Pn],kn[Pn]=null,$r=kn[--Pn],kn[Pn]=null,jr=kn[--Pn],kn[Pn]=null}var fn=null,dn=null,qe=!1,Kn=null;function $0(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,dn=Di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ds!==null?{id:jr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,dn=null,!0):!1;default:return!1}}function Uf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jf(t){if(qe){var e=dn;if(e){var n=e;if(!L_(t,e)){if(Uf(t))throw Error(W(418));e=Di(n.nextSibling);var r=fn;e&&L_(t,e)?$0(r,n):(t.flags=t.flags&-4097|2,qe=!1,fn=t)}}else{if(Uf(t))throw Error(W(418));t.flags=t.flags&-4097|2,qe=!1,fn=t}}}function V_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function nc(t){if(t!==fn)return!1;if(!qe)return V_(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lf(t.type,t.memoizedProps)),e&&(e=dn)){if(Uf(t))throw z0(),Error(W(418));for(;e;)$0(t,e),e=Di(e.nextSibling)}if(V_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=Di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=fn?Di(t.stateNode.nextSibling):null;return!0}function z0(){for(var t=dn;t;)t=Di(t.nextSibling)}function qo(){dn=fn=null,qe=!1}function Yp(t){Kn===null?Kn=[t]:Kn.push(t)}var EA=ti.ReactCurrentBatchConfig;function Xa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function rc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function M_(t){var e=t._init;return e(t._payload)}function B0(t){function e(A,T){if(t){var P=A.deletions;P===null?(A.deletions=[T],A.flags|=16):P.push(T)}}function n(A,T){if(!t)return null;for(;T!==null;)e(A,T),T=T.sibling;return null}function r(A,T){for(A=new Map;T!==null;)T.key!==null?A.set(T.key,T):A.set(T.index,T),T=T.sibling;return A}function i(A,T){return A=Fi(A,T),A.index=0,A.sibling=null,A}function s(A,T,P){return A.index=P,t?(P=A.alternate,P!==null?(P=P.index,P<T?(A.flags|=2,T):P):(A.flags|=2,T)):(A.flags|=1048576,T)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function u(A,T,P,$){return T===null||T.tag!==6?(T=Xd(P,A.mode,$),T.return=A,T):(T=i(T,P),T.return=A,T)}function c(A,T,P,$){var q=P.type;return q===Io?g(A,T,P.props.children,$,P.key):T!==null&&(T.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===wi&&M_(q)===T.type)?($=i(T,P.props),$.ref=Xa(A,T,P),$.return=A,$):($=Ac(P.type,P.key,P.props,null,A.mode,$),$.ref=Xa(A,T,P),$.return=A,$)}function d(A,T,P,$){return T===null||T.tag!==4||T.stateNode.containerInfo!==P.containerInfo||T.stateNode.implementation!==P.implementation?(T=Yd(P,A.mode,$),T.return=A,T):(T=i(T,P.children||[]),T.return=A,T)}function g(A,T,P,$,q){return T===null||T.tag!==7?(T=bs(P,A.mode,$,q),T.return=A,T):(T=i(T,P),T.return=A,T)}function _(A,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Xd(""+T,A.mode,P),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case qu:return P=Ac(T.type,T.key,T.props,null,A.mode,P),P.ref=Xa(A,null,T),P.return=A,P;case To:return T=Yd(T,A.mode,P),T.return=A,T;case wi:var $=T._init;return _(A,$(T._payload),P)}if(tl(T)||Wa(T))return T=bs(T,A.mode,P,null),T.return=A,T;rc(A,T)}return null}function E(A,T,P,$){var q=T!==null?T.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return q!==null?null:u(A,T,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case qu:return P.key===q?c(A,T,P,$):null;case To:return P.key===q?d(A,T,P,$):null;case wi:return q=P._init,E(A,T,q(P._payload),$)}if(tl(P)||Wa(P))return q!==null?null:g(A,T,P,$,null);rc(A,P)}return null}function R(A,T,P,$,q){if(typeof $=="string"&&$!==""||typeof $=="number")return A=A.get(P)||null,u(T,A,""+$,q);if(typeof $=="object"&&$!==null){switch($.$$typeof){case qu:return A=A.get($.key===null?P:$.key)||null,c(T,A,$,q);case To:return A=A.get($.key===null?P:$.key)||null,d(T,A,$,q);case wi:var Q=$._init;return R(A,T,P,Q($._payload),q)}if(tl($)||Wa($))return A=A.get(P)||null,g(T,A,$,q,null);rc(T,$)}return null}function L(A,T,P,$){for(var q=null,Q=null,S=T,w=T=0,I=null;S!==null&&w<P.length;w++){S.index>w?(I=S,S=null):I=S.sibling;var C=E(A,S,P[w],$);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(A,S),T=s(C,T,w),Q===null?q=C:Q.sibling=C,Q=C,S=I}if(w===P.length)return n(A,S),qe&&Es(A,w),q;if(S===null){for(;w<P.length;w++)S=_(A,P[w],$),S!==null&&(T=s(S,T,w),Q===null?q=S:Q.sibling=S,Q=S);return qe&&Es(A,w),q}for(S=r(A,S);w<P.length;w++)I=R(S,A,w,P[w],$),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?w:I.key),T=s(I,T,w),Q===null?q=I:Q.sibling=I,Q=I);return t&&S.forEach(function(b){return e(A,b)}),qe&&Es(A,w),q}function V(A,T,P,$){var q=Wa(P);if(typeof q!="function")throw Error(W(150));if(P=q.call(P),P==null)throw Error(W(151));for(var Q=q=null,S=T,w=T=0,I=null,C=P.next();S!==null&&!C.done;w++,C=P.next()){S.index>w?(I=S,S=null):I=S.sibling;var b=E(A,S,C.value,$);if(b===null){S===null&&(S=I);break}t&&S&&b.alternate===null&&e(A,S),T=s(b,T,w),Q===null?q=b:Q.sibling=b,Q=b,S=I}if(C.done)return n(A,S),qe&&Es(A,w),q;if(S===null){for(;!C.done;w++,C=P.next())C=_(A,C.value,$),C!==null&&(T=s(C,T,w),Q===null?q=C:Q.sibling=C,Q=C);return qe&&Es(A,w),q}for(S=r(A,S);!C.done;w++,C=P.next())C=R(S,A,w,C.value,$),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?w:C.key),T=s(C,T,w),Q===null?q=C:Q.sibling=C,Q=C);return t&&S.forEach(function(D){return e(A,D)}),qe&&Es(A,w),q}function M(A,T,P,$){if(typeof P=="object"&&P!==null&&P.type===Io&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case qu:e:{for(var q=P.key,Q=T;Q!==null;){if(Q.key===q){if(q=P.type,q===Io){if(Q.tag===7){n(A,Q.sibling),T=i(Q,P.props.children),T.return=A,A=T;break e}}else if(Q.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===wi&&M_(q)===Q.type){n(A,Q.sibling),T=i(Q,P.props),T.ref=Xa(A,Q,P),T.return=A,A=T;break e}n(A,Q);break}else e(A,Q);Q=Q.sibling}P.type===Io?(T=bs(P.props.children,A.mode,$,P.key),T.return=A,A=T):($=Ac(P.type,P.key,P.props,null,A.mode,$),$.ref=Xa(A,T,P),$.return=A,A=$)}return o(A);case To:e:{for(Q=P.key;T!==null;){if(T.key===Q)if(T.tag===4&&T.stateNode.containerInfo===P.containerInfo&&T.stateNode.implementation===P.implementation){n(A,T.sibling),T=i(T,P.children||[]),T.return=A,A=T;break e}else{n(A,T);break}else e(A,T);T=T.sibling}T=Yd(P,A.mode,$),T.return=A,A=T}return o(A);case wi:return Q=P._init,M(A,T,Q(P._payload),$)}if(tl(P))return L(A,T,P,$);if(Wa(P))return V(A,T,P,$);rc(A,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,T!==null&&T.tag===6?(n(A,T.sibling),T=i(T,P),T.return=A,A=T):(n(A,T),T=Xd(P,A.mode,$),T.return=A,A=T),o(A)):n(A,T)}return M}var Ko=B0(!0),H0=B0(!1),Gc=Yi(null),Qc=null,No=null,Jp=null;function Zp(){Jp=No=Qc=null}function em(t){var e=Gc.current;We(Gc),t._currentValue=e}function $f(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fo(t,e){Qc=t,Jp=No=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(Jp!==t)if(t={context:t,memoizedValue:e,next:null},No===null){if(Qc===null)throw Error(W(308));No=t,Qc.dependencies={lanes:0,firstContext:t}}else No=No.next=t;return e}var As=null;function tm(t){As===null?As=[t]:As.push(t)}function W0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ei=!1;function nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xr(t,n)}return i=r.interleaved,i===null?(e.next=e,tm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xr(t,n)}function vc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$p(t,n)}}function F_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xc(t,e,n,r){var i=t.updateQueue;Ei=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var g=t.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==o&&(u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=c))}if(s!==null){var _=i.baseState;o=0,g=d=c=null,u=s;do{var E=u.lane,R=u.eventTime;if((r&E)===E){g!==null&&(g=g.next={eventTime:R,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var L=t,V=u;switch(E=e,R=n,V.tag){case 1:if(L=V.payload,typeof L=="function"){_=L.call(R,_,E);break e}_=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=V.payload,E=typeof L=="function"?L.call(R,_,E):L,E==null)break e;_=Xe({},_,E);break e;case 2:Ei=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,E=i.effects,E===null?i.effects=[u]:E.push(u))}else R={eventTime:R,lane:E,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(d=g=R,c=_):g=g.next=R,o|=E;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;E=u,u=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(g===null&&(c=_),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vs|=o,t.lanes=o,t.memoizedState=_}}function U_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Jl={},pr=Yi(Jl),xl=Yi(Jl),Ol=Yi(Jl);function Cs(t){if(t===Jl)throw Error(W(174));return t}function rm(t,e){switch(ze(Ol,e),ze(xl,t),ze(pr,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ef(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ef(e,t)}We(pr),ze(pr,e)}function Go(){We(pr),We(xl),We(Ol)}function K0(t){Cs(Ol.current);var e=Cs(pr.current),n=Ef(e,t.type);e!==n&&(ze(xl,t),ze(pr,n))}function im(t){xl.current===t&&(We(pr),We(xl))}var Ge=Yi(0);function Yc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hd=[];function sm(){for(var t=0;t<Hd.length;t++)Hd[t]._workInProgressVersionPrimary=null;Hd.length=0}var wc=ti.ReactCurrentDispatcher,Wd=ti.ReactCurrentBatchConfig,Ls=0,Qe=null,pt=null,Et=null,Jc=!1,dl=!1,Dl=0,TA=0;function Lt(){throw Error(W(321))}function om(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function am(t,e,n,r,i,s){if(Ls=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wc.current=t===null||t.memoizedState===null?CA:kA,t=n(r,i),dl){s=0;do{if(dl=!1,Dl=0,25<=s)throw Error(W(301));s+=1,Et=pt=null,e.updateQueue=null,wc.current=PA,t=n(r,i)}while(dl)}if(wc.current=Zc,e=pt!==null&&pt.next!==null,Ls=0,Et=pt=Qe=null,Jc=!1,e)throw Error(W(300));return t}function lm(){var t=Dl!==0;return Dl=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Qe.memoizedState=Et=t:Et=Et.next=t,Et}function On(){if(pt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Et===null?Qe.memoizedState:Et.next;if(e!==null)Et=e,pt=t;else{if(t===null)throw Error(W(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Qe.memoizedState=Et=t:Et=Et.next=t}return Et}function Ll(t,e){return typeof e=="function"?e(t):e}function qd(t){var e=On(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,c=null,d=s;do{var g=d.lane;if((Ls&g)===g)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var _={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=_,o=r):c=c.next=_,Qe.lanes|=g,Vs|=g}d=d.next}while(d!==null&&d!==s);c===null?o=r:c.next=u,Zn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Qe.lanes|=s,Vs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kd(t){var e=On(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zn(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function G0(){}function Q0(t,e){var n=Qe,r=On(),i=e(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,um(J0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Vl(9,Y0.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(W(349));Ls&30||X0(n,e,i)}return i}function X0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Y0(t,e,n,r){e.value=n,e.getSnapshot=r,Z0(e)&&ew(t)}function J0(t,e,n){return n(function(){Z0(e)&&ew(t)})}function Z0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function ew(t){var e=Xr(t,1);e!==null&&Xn(e,t,1,-1)}function j_(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e.queue=t,t=t.dispatch=AA.bind(null,Qe,t),[e.memoizedState,t]}function Vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tw(){return On().memoizedState}function Ec(t,e,n,r){var i=hr();Qe.flags|=t,i.memoizedState=Vl(1|e,n,void 0,r===void 0?null:r)}function Nh(t,e,n,r){var i=On();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&om(r,o.deps)){i.memoizedState=Vl(e,n,s,r);return}}Qe.flags|=t,i.memoizedState=Vl(1|e,n,s,r)}function $_(t,e){return Ec(8390656,8,t,e)}function um(t,e){return Nh(2048,8,t,e)}function nw(t,e){return Nh(4,2,t,e)}function rw(t,e){return Nh(4,4,t,e)}function iw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sw(t,e,n){return n=n!=null?n.concat([t]):null,Nh(4,4,iw.bind(null,e,t),n)}function cm(){}function ow(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&om(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aw(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&om(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lw(t,e,n){return Ls&21?(Zn(n,e)||(n=f0(),Qe.lanes|=n,Vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function IA(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Wd.transition;Wd.transition={};try{t(!1),e()}finally{Oe=n,Wd.transition=r}}function uw(){return On().memoizedState}function SA(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cw(t))hw(e,n);else if(n=W0(t,e,n,r),n!==null){var i=Gt();Xn(n,t,r,i),dw(n,e,r)}}function AA(t,e,n){var r=Mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cw(t))hw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,Zn(u,o)){var c=e.interleaved;c===null?(i.next=i,tm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=W0(t,e,i,r),n!==null&&(i=Gt(),Xn(n,t,r,i),dw(n,e,r))}}function cw(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function hw(t,e){dl=Jc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$p(t,n)}}var Zc={readContext:xn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},CA={readContext:xn,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:$_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ec(4194308,4,iw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ec(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ec(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SA.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:j_,useDebugValue:cm,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=j_(!1),e=t[0];return t=IA.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=hr();if(qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Tt===null)throw Error(W(349));Ls&30||X0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$_(J0.bind(null,r,s,t),[t]),r.flags|=2048,Vl(9,Y0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hr(),e=Tt.identifierPrefix;if(qe){var n=$r,r=jr;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kA={readContext:xn,useCallback:ow,useContext:xn,useEffect:um,useImperativeHandle:sw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:qd,useRef:tw,useState:function(){return qd(Ll)},useDebugValue:cm,useDeferredValue:function(t){var e=On();return lw(e,pt.memoizedState,t)},useTransition:function(){var t=qd(Ll)[0],e=On().memoizedState;return[t,e]},useMutableSource:G0,useSyncExternalStore:Q0,useId:uw,unstable_isNewReconciler:!1},PA={readContext:xn,useCallback:ow,useContext:xn,useEffect:um,useImperativeHandle:sw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:Kd,useRef:tw,useState:function(){return Kd(Ll)},useDebugValue:cm,useDeferredValue:function(t){var e=On();return pt===null?e.memoizedState=t:lw(e,pt.memoizedState,t)},useTransition:function(){var t=Kd(Ll)[0],e=On().memoizedState;return[t,e]},useMutableSource:G0,useSyncExternalStore:Q0,useId:uw,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xh={isMounted:function(t){return(t=t._reactInternals)?Ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Mi(t),s=qr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Li(t,s,i),e!==null&&(Xn(e,t,i,r),vc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Mi(t),s=qr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Li(t,s,i),e!==null&&(Xn(e,t,i,r),vc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=Mi(t),i=qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Li(t,i,r),e!==null&&(Xn(e,t,r,n),vc(e,t,r))}};function z_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pl(n,r)||!Pl(i,s):!0}function fw(t,e,n){var r=!1,i=qi,s=e.contextType;return typeof s=="object"&&s!==null?s=xn(s):(i=sn(e)?Os:$t.current,r=e.contextTypes,s=(r=r!=null)?Wo(t,i):qi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function B_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xh.enqueueReplaceState(e,e.state,null)}function Bf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},nm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xn(s):(s=sn(e)?Os:$t.current,i.context=Wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xh.enqueueReplaceState(i,i.state,null),Xc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qo(t,e){try{var n="",r=e;do n+=nS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RA=typeof WeakMap=="function"?WeakMap:Map;function pw(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){th||(th=!0,ep=r),Hf(t,e)},n}function mw(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hf(t,e),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function H_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BA.bind(null,t,e,n),e.then(t,t))}function W_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Li(n,e,1))),n.lanes|=1),t)}var bA=ti.ReactCurrentOwner,nn=!1;function Kt(t,e,n,r){e.child=t===null?H0(e,null,n,r):Ko(e,t.child,n,r)}function K_(t,e,n,r,i){n=n.render;var s=e.ref;return Fo(e,i),r=am(t,e,n,r,s,i),n=lm(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(qe&&n&&Qp(e),e.flags|=1,Kt(t,e,r,i),e.child)}function G_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ym(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gw(t,e,s,r,i)):(t=Ac(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(o,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=Fi(s,r),t.ref=e.ref,t.return=e,e.child=t}function gw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pl(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return Wf(t,e,n,r,i)}function _w(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Oo,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Oo,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(Oo,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(Oo,hn),hn|=r;return Kt(t,e,i,n),e.child}function yw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wf(t,e,n,r,i){var s=sn(n)?Os:$t.current;return s=Wo(e,s),Fo(e,i),n=am(t,e,n,r,s,i),r=lm(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(qe&&r&&Qp(e),e.flags|=1,Kt(t,e,n,i),e.child)}function Q_(t,e,n,r,i){if(sn(n)){var s=!0;Wc(e)}else s=!1;if(Fo(e,i),e.stateNode===null)Tc(t,e),fw(e,n,r),Bf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=xn(d):(d=sn(n)?Os:$t.current,d=Wo(e,d));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==d)&&B_(e,o,r,d),Ei=!1;var E=e.memoizedState;o.state=E,Xc(e,r,o,i),c=e.memoizedState,u!==r||E!==c||rn.current||Ei?(typeof g=="function"&&(zf(e,n,g,r),c=e.memoizedState),(u=Ei||z_(e,n,u,r,E,c,d))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,q0(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Wn(e.type,u),o.props=d,_=e.pendingProps,E=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=sn(n)?Os:$t.current,c=Wo(e,c));var R=n.getDerivedStateFromProps;(g=typeof R=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==_||E!==c)&&B_(e,o,r,c),Ei=!1,E=e.memoizedState,o.state=E,Xc(e,r,o,i);var L=e.memoizedState;u!==_||E!==L||rn.current||Ei?(typeof R=="function"&&(zf(e,n,R,r),L=e.memoizedState),(d=Ei||z_(e,n,d,r,E,L,c)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,L,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,L,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=L),o.props=r,o.state=L,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),r=!1)}return qf(t,e,n,r,s,i)}function qf(t,e,n,r,i,s){yw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&D_(e,n,!1),Yr(t,e,s);r=e.stateNode,bA.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,s),e.child=Ko(e,null,u,s)):Kt(t,e,u,s),e.memoizedState=r.state,i&&D_(e,n,!0),e.child}function vw(t){var e=t.stateNode;e.pendingContext?O_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O_(t,e.context,!1),rm(t,e.containerInfo)}function X_(t,e,n,r,i){return qo(),Yp(i),e.flags|=256,Kt(t,e,n,r),e.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Gf(t){return{baseLanes:t,cachePool:null,transitions:null}}function ww(t,e,n){var r=e.pendingProps,i=Ge.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Ge,i&1),t===null)return jf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lh(o,r,0,null),t=bs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gf(n),e.memoizedState=Kf,t):hm(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return NA(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Fi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Fi(u,s):(s=bs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Gf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kf,r}return s=t.child,t=s.sibling,r=Fi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hm(t,e){return e=Lh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ic(t,e,n,r){return r!==null&&Yp(r),Ko(e,t.child,null,n),t=hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Gd(Error(W(422))),ic(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lh({mode:"visible",children:r.children},i,0,null),s=bs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=Gf(o),e.memoizedState=Kf,s);if(!(e.mode&1))return ic(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(W(419)),r=Gd(s,r,void 0),ic(t,e,o,r)}if(u=(o&t.childLanes)!==0,nn||u){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xr(t,i),Xn(r,t,i,-1))}return _m(),r=Gd(Error(W(421))),ic(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=HA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=Di(i.nextSibling),fn=e,qe=!0,Kn=null,t!==null&&(kn[Pn++]=jr,kn[Pn++]=$r,kn[Pn++]=Ds,jr=t.id,$r=t.overflow,Ds=e),e=hm(e,r.children),e.flags|=4096,e)}function Y_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$f(t.return,e,n)}function Qd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ew(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y_(t,n,e);else if(t.tag===19)Y_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qd(e,!0,n,null,s);break;case"together":Qd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xA(t,e,n){switch(e.tag){case 3:vw(e),qo();break;case 5:K0(e);break;case 1:sn(e.type)&&Wc(e);break;case 4:rm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Gc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?ww(t,e,n):(ze(Ge,Ge.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);ze(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ew(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,_w(t,e,n)}return Yr(t,e,n)}var Tw,Qf,Iw,Sw;Tw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qf=function(){};Iw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Cs(pr.current);var s=null;switch(n){case"input":i=_f(t,i),r=_f(t,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=wf(t,i),r=wf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bc)}Tf(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(El.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(El.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&He("scroll",t),s||u===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};Sw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ya(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OA(t,e,n){var r=e.pendingProps;switch(Xp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return sn(e.type)&&Hc(),Vt(e),null;case 3:return r=e.stateNode,Go(),We(rn),We($t),sm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(rp(Kn),Kn=null))),Qf(t,e),Vt(e),null;case 5:im(e);var i=Cs(Ol.current);if(n=e.type,t!==null&&e.stateNode!=null)Iw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Vt(e),null}if(t=Cs(pr.current),nc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[dr]=e,r[Nl]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<rl.length;i++)He(rl[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":o_(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":l_(r,s),He("invalid",r)}Tf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&tc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&tc(r.textContent,u,t),i=["children",""+u]):El.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Ku(r),a_(r,s,!0);break;case"textarea":Ku(r),u_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dr]=e,t[Nl]=r,Tw(t,e,!1,!1),e.stateNode=t;e:{switch(o=If(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<rl.length;i++)He(rl[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":o_(t,r),i=_f(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),He("invalid",t);break;case"textarea":l_(t,r),i=wf(t,r),He("invalid",t);break;default:i=r}Tf(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?t0(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zv(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tl(t,c):typeof c=="number"&&Tl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(El.hasOwnProperty(s)?c!=null&&s==="onScroll"&&He("scroll",t):c!=null&&Lp(t,s,c,o))}switch(n){case"input":Ku(t),a_(t,r,!1);break;case"textarea":Ku(t),u_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Do(t,!!r.multiple,s,!1):r.defaultValue!=null&&Do(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)Sw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Cs(Ol.current),Cs(pr.current),nc(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(s=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:tc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return Vt(e),null;case 13:if(We(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&dn!==null&&e.mode&1&&!(e.flags&128))z0(),qo(),e.flags|=98560,s=!1;else if(s=nc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[dr]=e}else qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else Kn!==null&&(rp(Kn),Kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?gt===0&&(gt=3):_m())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Go(),Qf(t,e),t===null&&Rl(e.stateNode.containerInfo),Vt(e),null;case 10:return em(e.type._context),Vt(e),null;case 17:return sn(e.type)&&Hc(),Vt(e),null;case 19:if(We(Ge),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ya(s,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yc(t),o!==null){for(e.flags|=128,Ya(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Ge,Ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>Xo&&(e.flags|=128,r=!0,Ya(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ya(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Vt(e),null}else 2*it()-s.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,Ya(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=Ge.current,ze(Ge,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return gm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function DA(t,e){switch(Xp(e),e.tag){case 1:return sn(e.type)&&Hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),We(rn),We($t),sm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return im(e),null;case 13:if(We(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ge),null;case 4:return Go(),null;case 10:return em(e.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var sc=!1,Ut=!1,LA=typeof WeakSet=="function"?WeakSet:Set,te=null;function xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Xf(t,e,n){try{n()}catch(r){et(t,e,r)}}var J_=!1;function VA(t,e){if(Of=jc,t=R0(),Gp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,d=0,g=0,_=t,E=null;t:for(;;){for(var R;_!==n||i!==0&&_.nodeType!==3||(u=o+i),_!==s||r!==0&&_.nodeType!==3||(c=o+r),_.nodeType===3&&(o+=_.nodeValue.length),(R=_.firstChild)!==null;)E=_,_=R;for(;;){if(_===t)break t;if(E===n&&++d===i&&(u=o),E===s&&++g===r&&(c=o),(R=_.nextSibling)!==null)break;_=E,E=_.parentNode}_=R}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Df={focusedElem:t,selectionRange:n},jc=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var L=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var V=L.memoizedProps,M=L.memoizedState,A=e.stateNode,T=A.getSnapshotBeforeUpdate(e.elementType===e.type?V:Wn(e.type,V),M);A.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch($){et(e,e.return,$)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return L=J_,J_=!1,L}function fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xf(e,n,s)}i=i.next}while(i!==r)}}function Oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Aw(t){var e=t.alternate;e!==null&&(t.alternate=null,Aw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Nl],delete e[Mf],delete e[yA],delete e[vA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cw(t){return t.tag===5||t.tag===3||t.tag===4}function Z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bc));else if(r!==4&&(t=t.child,t!==null))for(Jf(t,e,n),t=t.sibling;t!==null;)Jf(t,e,n),t=t.sibling}function Zf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zf(t,e,n),t=t.sibling;t!==null;)Zf(t,e,n),t=t.sibling}var St=null,qn=!1;function yi(t,e,n){for(n=n.child;n!==null;)kw(t,e,n),n=n.sibling}function kw(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Ah,n)}catch{}switch(n.tag){case 5:Ut||xo(n,e);case 6:var r=St,i=qn;St=null,yi(t,e,n),St=r,qn=i,St!==null&&(qn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(qn?(t=St,n=n.stateNode,t.nodeType===8?zd(t.parentNode,n):t.nodeType===1&&zd(t,n),Cl(t)):zd(St,n.stateNode));break;case 4:r=St,i=qn,St=n.stateNode.containerInfo,qn=!0,yi(t,e,n),St=r,qn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xf(n,e,o),i=i.next}while(i!==r)}yi(t,e,n);break;case 1:if(!Ut&&(xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){et(n,e,u)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,yi(t,e,n),Ut=r):yi(t,e,n);break;default:yi(t,e,n)}}function ey(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LA),e.forEach(function(r){var i=WA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:St=u.stateNode,qn=!1;break e;case 3:St=u.stateNode.containerInfo,qn=!0;break e;case 4:St=u.stateNode.containerInfo,qn=!0;break e}u=u.return}if(St===null)throw Error(W(160));kw(s,o,i),St=null,qn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){et(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pw(e,t),e=e.sibling}function Pw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),cr(t),r&4){try{fl(3,t,t.return),Oh(3,t)}catch(V){et(t,t.return,V)}try{fl(5,t,t.return)}catch(V){et(t,t.return,V)}}break;case 1:Hn(e,t),cr(t),r&512&&n!==null&&xo(n,n.return);break;case 5:if(Hn(e,t),cr(t),r&512&&n!==null&&xo(n,n.return),t.flags&32){var i=t.stateNode;try{Tl(i,"")}catch(V){et(t,t.return,V)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Xv(i,s),If(u,o);var d=If(u,s);for(o=0;o<c.length;o+=2){var g=c[o],_=c[o+1];g==="style"?t0(i,_):g==="dangerouslySetInnerHTML"?Zv(i,_):g==="children"?Tl(i,_):Lp(i,g,_,d)}switch(u){case"input":yf(i,s);break;case"textarea":Yv(i,s);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var R=s.value;R!=null?Do(i,!!s.multiple,R,!1):E!==!!s.multiple&&(s.defaultValue!=null?Do(i,!!s.multiple,s.defaultValue,!0):Do(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nl]=s}catch(V){et(t,t.return,V)}}break;case 6:if(Hn(e,t),cr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(V){et(t,t.return,V)}}break;case 3:if(Hn(e,t),cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(e.containerInfo)}catch(V){et(t,t.return,V)}break;case 4:Hn(e,t),cr(t);break;case 13:Hn(e,t),cr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pm=it())),r&4&&ey(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(d=Ut)||g,Hn(e,t),Ut=d):Hn(e,t),cr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!g&&t.mode&1)for(te=t,g=t.child;g!==null;){for(_=te=g;te!==null;){switch(E=te,R=E.child,E.tag){case 0:case 11:case 14:case 15:fl(4,E,E.return);break;case 1:xo(E,E.return);var L=E.stateNode;if(typeof L.componentWillUnmount=="function"){r=E,n=E.return;try{e=r,L.props=e.memoizedProps,L.state=e.memoizedState,L.componentWillUnmount()}catch(V){et(r,n,V)}}break;case 5:xo(E,E.return);break;case 22:if(E.memoizedState!==null){ny(_);continue}}R!==null?(R.return=E,te=R):ny(_)}g=g.sibling}e:for(g=null,_=t;;){if(_.tag===5){if(g===null){g=_;try{i=_.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=_.stateNode,c=_.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=e0("display",o))}catch(V){et(t,t.return,V)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=d?"":_.memoizedProps}catch(V){et(t,t.return,V)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Hn(e,t),cr(t),r&4&&ey(t);break;case 21:break;default:Hn(e,t),cr(t)}}function cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cw(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tl(i,""),r.flags&=-33);var s=Z_(t);Zf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Z_(t);Jf(t,u,o);break;default:throw Error(W(161))}}catch(c){et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MA(t,e,n){te=t,Rw(t)}function Rw(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sc;if(!o){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Ut;u=sc;var d=Ut;if(sc=o,(Ut=c)&&!d)for(te=i;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?ry(i):c!==null?(c.return=o,te=c):ry(i);for(;s!==null;)te=s,Rw(s),s=s.sibling;te=i,sc=u,Ut=d}ty(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):ty(t)}}function ty(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Oh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U_(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&Cl(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ut||e.flags&512&&Yf(e)}catch(E){et(e,e.return,E)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function ny(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function ry(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oh(4,e)}catch(c){et(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){et(e,i,c)}}var s=e.return;try{Yf(e)}catch(c){et(e,s,c)}break;case 5:var o=e.return;try{Yf(e)}catch(c){et(e,o,c)}}}catch(c){et(e,e.return,c)}if(e===t){te=null;break}var u=e.sibling;if(u!==null){u.return=e.return,te=u;break}te=e.return}}var FA=Math.ceil,eh=ti.ReactCurrentDispatcher,dm=ti.ReactCurrentOwner,Nn=ti.ReactCurrentBatchConfig,Ae=0,Tt=null,ut=null,kt=0,hn=0,Oo=Yi(0),gt=0,Ml=null,Vs=0,Dh=0,fm=0,pl=null,tn=null,pm=0,Xo=1/0,Mr=null,th=!1,ep=null,Vi=null,oc=!1,Pi=null,nh=0,ml=0,tp=null,Ic=-1,Sc=0;function Gt(){return Ae&6?it():Ic!==-1?Ic:Ic=it()}function Mi(t){return t.mode&1?Ae&2&&kt!==0?kt&-kt:EA.transition!==null?(Sc===0&&(Sc=f0()),Sc):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:w0(t.type)),t):1}function Xn(t,e,n,r){if(50<ml)throw ml=0,tp=null,Error(W(185));Ql(t,n,r),(!(Ae&2)||t!==Tt)&&(t===Tt&&(!(Ae&2)&&(Dh|=n),gt===4&&Ii(t,kt)),on(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Xo=it()+500,bh&&Ji()))}function on(t,e){var n=t.callbackNode;ES(t,e);var r=Uc(t,t===Tt?kt:0);if(r===0)n!==null&&d_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d_(n),e===1)t.tag===0?wA(iy.bind(null,t)):U0(iy.bind(null,t)),gA(function(){!(Ae&6)&&Ji()}),n=null;else{switch(p0(r)){case 1:n=jp;break;case 4:n=h0;break;case 16:n=Fc;break;case 536870912:n=d0;break;default:n=Fc}n=Mw(n,bw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bw(t,e){if(Ic=-1,Sc=0,Ae&6)throw Error(W(327));var n=t.callbackNode;if(Uo()&&t.callbackNode!==n)return null;var r=Uc(t,t===Tt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rh(t,r);else{e=r;var i=Ae;Ae|=2;var s=xw();(Tt!==t||kt!==e)&&(Mr=null,Xo=it()+500,Rs(t,e));do try{$A();break}catch(u){Nw(t,u)}while(!0);Zp(),eh.current=s,Ae=i,ut!==null?e=0:(Tt=null,kt=0,e=gt)}if(e!==0){if(e===2&&(i=Pf(t),i!==0&&(r=i,e=np(t,i))),e===1)throw n=Ml,Rs(t,0),Ii(t,r),on(t,it()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!UA(i)&&(e=rh(t,r),e===2&&(s=Pf(t),s!==0&&(r=s,e=np(t,s))),e===1))throw n=Ml,Rs(t,0),Ii(t,r),on(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ts(t,tn,Mr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=pm+500-it(),10<e)){if(Uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vf(Ts.bind(null,t,tn,Mr),e);break}Ts(t,tn,Mr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Qn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FA(r/1960))-r,10<r){t.timeoutHandle=Vf(Ts.bind(null,t,tn,Mr),r);break}Ts(t,tn,Mr);break;case 5:Ts(t,tn,Mr);break;default:throw Error(W(329))}}}return on(t,it()),t.callbackNode===n?bw.bind(null,t):null}function np(t,e){var n=pl;return t.current.memoizedState.isDehydrated&&(Rs(t,e).flags|=256),t=rh(t,e),t!==2&&(e=tn,tn=n,e!==null&&rp(e)),t}function rp(t){tn===null?tn=t:tn.push.apply(tn,t)}function UA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~fm,e&=~Dh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),r=1<<n;t[n]=-1,e&=~r}}function iy(t){if(Ae&6)throw Error(W(327));Uo();var e=Uc(t,0);if(!(e&1))return on(t,it()),null;var n=rh(t,e);if(t.tag!==0&&n===2){var r=Pf(t);r!==0&&(e=r,n=np(t,r))}if(n===1)throw n=Ml,Rs(t,0),Ii(t,e),on(t,it()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ts(t,tn,Mr),on(t,it()),null}function mm(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Xo=it()+500,bh&&Ji())}}function Ms(t){Pi!==null&&Pi.tag===0&&!(Ae&6)&&Uo();var e=Ae;Ae|=1;var n=Nn.transition,r=Oe;try{if(Nn.transition=null,Oe=1,t)return t()}finally{Oe=r,Nn.transition=n,Ae=e,!(Ae&6)&&Ji()}}function gm(){hn=Oo.current,We(Oo)}function Rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mA(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Xp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hc();break;case 3:Go(),We(rn),We($t),sm();break;case 5:im(r);break;case 4:Go();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:em(r.type._context);break;case 22:case 23:gm()}n=n.return}if(Tt=t,ut=t=Fi(t.current,null),kt=hn=e,gt=0,Ml=null,fm=Dh=Vs=0,tn=pl=null,As!==null){for(e=0;e<As.length;e++)if(n=As[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}As=null}return t}function Nw(t,e){do{var n=ut;try{if(Zp(),wc.current=Zc,Jc){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jc=!1}if(Ls=0,Et=pt=Qe=null,dl=!1,Dl=0,dm.current=null,n===null||n.return===null){gt=1,Ml=e,ut=null;break}e:{var s=t,o=n.return,u=n,c=e;if(e=kt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,g=u,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var E=g.alternate;E?(g.updateQueue=E.updateQueue,g.memoizedState=E.memoizedState,g.lanes=E.lanes):(g.updateQueue=null,g.memoizedState=null)}var R=W_(o);if(R!==null){R.flags&=-257,q_(R,o,u,s,e),R.mode&1&&H_(s,d,e),e=R,c=d;var L=e.updateQueue;if(L===null){var V=new Set;V.add(c),e.updateQueue=V}else L.add(c);break e}else{if(!(e&1)){H_(s,d,e),_m();break e}c=Error(W(426))}}else if(qe&&u.mode&1){var M=W_(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),q_(M,o,u,s,e),Yp(Qo(c,u));break e}}s=c=Qo(c,u),gt!==4&&(gt=2),pl===null?pl=[s]:pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=pw(s,c,e);F_(s,A);break e;case 1:u=c;var T=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Vi===null||!Vi.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var $=mw(s,u,e);F_(s,$);break e}}s=s.return}while(s!==null)}Dw(n)}catch(q){e=q,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function xw(){var t=eh.current;return eh.current=Zc,t===null?Zc:t}function _m(){(gt===0||gt===3||gt===2)&&(gt=4),Tt===null||!(Vs&268435455)&&!(Dh&268435455)||Ii(Tt,kt)}function rh(t,e){var n=Ae;Ae|=2;var r=xw();(Tt!==t||kt!==e)&&(Mr=null,Rs(t,e));do try{jA();break}catch(i){Nw(t,i)}while(!0);if(Zp(),Ae=n,eh.current=r,ut!==null)throw Error(W(261));return Tt=null,kt=0,gt}function jA(){for(;ut!==null;)Ow(ut)}function $A(){for(;ut!==null&&!dS();)Ow(ut)}function Ow(t){var e=Vw(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?Dw(t):ut=e,dm.current=null}function Dw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DA(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ut=null;return}}else if(n=OA(n,e,hn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);gt===0&&(gt=5)}function Ts(t,e,n){var r=Oe,i=Nn.transition;try{Nn.transition=null,Oe=1,zA(t,e,n,r)}finally{Nn.transition=i,Oe=r}return null}function zA(t,e,n,r){do Uo();while(Pi!==null);if(Ae&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TS(t,s),t===Tt&&(ut=Tt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oc||(oc=!0,Mw(Fc,function(){return Uo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nn.transition,Nn.transition=null;var o=Oe;Oe=1;var u=Ae;Ae|=4,dm.current=null,VA(t,n),Pw(n,t),lA(Df),jc=!!Of,Df=Of=null,t.current=n,MA(n),fS(),Ae=u,Oe=o,Nn.transition=s}else t.current=n;if(oc&&(oc=!1,Pi=t,nh=i),s=t.pendingLanes,s===0&&(Vi=null),gS(n.stateNode),on(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(th)throw th=!1,t=ep,ep=null,t;return nh&1&&t.tag!==0&&Uo(),s=t.pendingLanes,s&1?t===tp?ml++:(ml=0,tp=t):ml=0,Ji(),null}function Uo(){if(Pi!==null){var t=p0(nh),e=Nn.transition,n=Oe;try{if(Nn.transition=null,Oe=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,nh=0,Ae&6)throw Error(W(331));var i=Ae;for(Ae|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(te=d;te!==null;){var g=te;switch(g.tag){case 0:case 11:case 15:fl(8,g,s)}var _=g.child;if(_!==null)_.return=g,te=_;else for(;te!==null;){g=te;var E=g.sibling,R=g.return;if(Aw(g),g===d){te=null;break}if(E!==null){E.return=R,te=E;break}te=R}}}var L=s.alternate;if(L!==null){var V=L.child;if(V!==null){L.child=null;do{var M=V.sibling;V.sibling=null,V=M}while(V!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fl(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,te=A;break e}te=s.return}}var T=t.current;for(te=T;te!==null;){o=te;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,te=P;else e:for(o=T;te!==null;){if(u=te,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Oh(9,u)}}catch(q){et(u,u.return,q)}if(u===o){te=null;break e}var $=u.sibling;if($!==null){$.return=u.return,te=$;break e}te=u.return}}if(Ae=i,Ji(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Ah,t)}catch{}r=!0}return r}finally{Oe=n,Nn.transition=e}}return!1}function sy(t,e,n){e=Qo(n,e),e=pw(t,e,1),t=Li(t,e,1),e=Gt(),t!==null&&(Ql(t,1,e),on(t,e))}function et(t,e,n){if(t.tag===3)sy(t,t,n);else for(;e!==null;){if(e.tag===3){sy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vi===null||!Vi.has(r))){t=Qo(n,t),t=mw(e,t,1),e=Li(e,t,1),t=Gt(),e!==null&&(Ql(e,1,t),on(e,t));break}}e=e.return}}function BA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(kt&n)===n&&(gt===4||gt===3&&(kt&130023424)===kt&&500>it()-pm?Rs(t,0):fm|=n),on(t,e)}function Lw(t,e){e===0&&(t.mode&1?(e=Xu,Xu<<=1,!(Xu&130023424)&&(Xu=4194304)):e=1);var n=Gt();t=Xr(t,e),t!==null&&(Ql(t,e,n),on(t,n))}function HA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lw(t,n)}function WA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Lw(t,n)}var Vw;Vw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,xA(t,e,n);nn=!!(t.flags&131072)}else nn=!1,qe&&e.flags&1048576&&j0(e,Kc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tc(t,e),t=e.pendingProps;var i=Wo(e,$t.current);Fo(e,n),i=am(null,e,r,t,i,n);var s=lm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,Wc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nm(e),i.updater=xh,e.stateNode=i,i._reactInternals=e,Bf(e,r,t,n),e=qf(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&Qp(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KA(r),t=Wn(r,t),i){case 0:e=Wf(null,e,r,t,n);break e;case 1:e=Q_(null,e,r,t,n);break e;case 11:e=K_(null,e,r,t,n);break e;case 14:e=G_(null,e,r,Wn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Wf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Q_(t,e,r,i,n);case 3:e:{if(vw(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,q0(t,e),Xc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qo(Error(W(423)),e),e=X_(t,e,r,n,i);break e}else if(r!==i){i=Qo(Error(W(424)),e),e=X_(t,e,r,n,i);break e}else for(dn=Di(e.stateNode.containerInfo.firstChild),fn=e,qe=!0,Kn=null,n=H0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qo(),r===i){e=Yr(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return K0(e),t===null&&jf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Lf(r,i)?o=null:s!==null&&Lf(r,s)&&(e.flags|=32),yw(t,e),Kt(t,e,o,n),e.child;case 6:return t===null&&jf(e),null;case 13:return ww(t,e,n);case 4:return rm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),K_(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(Gc,r._currentValue),r._currentValue=o,s!==null)if(Zn(s.value,o)){if(s.children===i.children&&!rn.current){e=Yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=qr(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?c.next=c:(c.next=g.next,g.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),$f(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),$f(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fo(e,n),i=xn(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),G_(t,e,r,i,n);case 15:return gw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Tc(t,e),e.tag=1,sn(r)?(t=!0,Wc(e)):t=!1,Fo(e,n),fw(e,r,i),Bf(e,r,i,n),qf(null,e,r,!0,t,n);case 19:return Ew(t,e,n);case 22:return _w(t,e,n)}throw Error(W(156,e.tag))};function Mw(t,e){return c0(t,e)}function qA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new qA(t,e,n,r)}function ym(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KA(t){if(typeof t=="function")return ym(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mp)return 11;if(t===Fp)return 14}return 2}function Fi(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ac(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ym(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Io:return bs(n.children,i,s,e);case Vp:o=8,i|=8;break;case ff:return t=bn(12,n,e,i|2),t.elementType=ff,t.lanes=s,t;case pf:return t=bn(13,n,e,i),t.elementType=pf,t.lanes=s,t;case mf:return t=bn(19,n,e,i),t.elementType=mf,t.lanes=s,t;case Kv:return Lh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wv:o=10;break e;case qv:o=9;break e;case Mp:o=11;break e;case Fp:o=14;break e;case wi:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bs(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function Lh(t,e,n,r){return t=bn(22,t,r,e),t.elementType=Kv,t.lanes=n,t.stateNode={isHidden:!1},t}function Xd(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function Yd(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nd(0),this.expirationTimes=Nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vm(t,e,n,r,i,s,o,u,c){return t=new GA(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nm(s),t}function QA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fw(t){if(!t)return qi;t=t._reactInternals;e:{if(Ws(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(sn(n))return F0(t,n,e)}return e}function Uw(t,e,n,r,i,s,o,u,c){return t=vm(n,r,!0,t,i,s,o,u,c),t.context=Fw(null),n=t.current,r=Gt(),i=Mi(n),s=qr(r,i),s.callback=e??null,Li(n,s,i),t.current.lanes=i,Ql(t,i,r),on(t,r),t}function Vh(t,e,n,r){var i=e.current,s=Gt(),o=Mi(i);return n=Fw(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Li(i,e,o),t!==null&&(Xn(t,i,o,s),vc(t,i,o)),o}function ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wm(t,e){oy(t,e),(t=t.alternate)&&oy(t,e)}function XA(){return null}var jw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Em(t){this._internalRoot=t}Mh.prototype.render=Em.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Vh(t,e,null,null)};Mh.prototype.unmount=Em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ms(function(){Vh(null,t,null,null)}),e[Qr]=null}};function Mh(t){this._internalRoot=t}Mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=_0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ti.length&&e!==0&&e<Ti[n].priority;n++);Ti.splice(n,0,t),n===0&&v0(t)}};function Tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ay(){}function YA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=ih(o);s.call(d)}}var o=Uw(e,r,t,0,null,!1,!1,"",ay);return t._reactRootContainer=o,t[Qr]=o.current,Rl(t.nodeType===8?t.parentNode:t),Ms(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=ih(c);u.call(d)}}var c=vm(t,0,!1,null,null,!1,!1,"",ay);return t._reactRootContainer=c,t[Qr]=c.current,Rl(t.nodeType===8?t.parentNode:t),Ms(function(){Vh(e,c,n,r)}),c}function Uh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var c=ih(o);u.call(c)}}Vh(e,o,t,i)}else o=YA(n,e,t,i,r);return ih(o)}m0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&($p(e,n|1),on(e,it()),!(Ae&6)&&(Xo=it()+500,Ji()))}break;case 13:Ms(function(){var r=Xr(t,1);if(r!==null){var i=Gt();Xn(r,t,1,i)}}),wm(t,1)}};zp=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=Gt();Xn(e,t,134217728,n)}wm(t,134217728)}};g0=function(t){if(t.tag===13){var e=Mi(t),n=Xr(t,e);if(n!==null){var r=Gt();Xn(n,t,e,r)}wm(t,e)}};_0=function(){return Oe};y0=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Af=function(t,e,n){switch(e){case"input":if(yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rh(r);if(!i)throw Error(W(90));Qv(r),yf(r,i)}}}break;case"textarea":Yv(t,n);break;case"select":e=n.value,e!=null&&Do(t,!!n.multiple,e,!1)}};i0=mm;s0=Ms;var JA={usingClientEntryPoint:!1,Events:[Yl,ko,Rh,n0,r0,mm]},Ja={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZA={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=l0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||XA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{Ah=ac.inject(ZA),fr=ac}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JA;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tm(e))throw Error(W(200));return QA(t,e,null,n)};gn.createRoot=function(t,e){if(!Tm(t))throw Error(W(299));var n=!1,r="",i=jw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vm(t,1,!1,null,null,n,!1,r,i),t[Qr]=e.current,Rl(t.nodeType===8?t.parentNode:t),new Em(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=l0(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return Ms(t)};gn.hydrate=function(t,e,n){if(!Fh(e))throw Error(W(200));return Uh(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!Tm(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Uw(e,null,t,1,n??null,i,!1,s,o),t[Qr]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mh(e)};gn.render=function(t,e,n){if(!Fh(e))throw Error(W(200));return Uh(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!Fh(t))throw Error(W(40));return t._reactRootContainer?(Ms(function(){Uh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};gn.unstable_batchedUpdates=mm;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Uh(t,e,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function $w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($w)}catch(t){console.error(t)}}$w(),$v.exports=gn;var eC=$v.exports,ly=eC;hf.createRoot=ly.createRoot,hf.hydrateRoot=ly.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}var Ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ri||(Ri={}));const uy="popstate";function tC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:u}=r.location;return ip("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sh(i)}return rC(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nC(){return Math.random().toString(36).substr(2,8)}function cy(t,e){return{usr:t.state,key:t.key,idx:e}}function ip(t,e,n,r){return n===void 0&&(n=null),Fl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ua(e):e,{state:n,key:e&&e.key||r||nC()})}function sh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ua(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=Ri.Pop,c=null,d=g();d==null&&(d=0,o.replaceState(Fl({},o.state,{idx:d}),""));function g(){return(o.state||{idx:null}).idx}function _(){u=Ri.Pop;let M=g(),A=M==null?null:M-d;d=M,c&&c({action:u,location:V.location,delta:A})}function E(M,A){u=Ri.Push;let T=ip(V.location,M,A);d=g()+1;let P=cy(T,d),$=V.createHref(T);try{o.pushState(P,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign($)}s&&c&&c({action:u,location:V.location,delta:1})}function R(M,A){u=Ri.Replace;let T=ip(V.location,M,A);d=g();let P=cy(T,d),$=V.createHref(T);o.replaceState(P,"",$),s&&c&&c({action:u,location:V.location,delta:0})}function L(M){let A=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof M=="string"?M:sh(M);return T=T.replace(/ $/,"%20"),st(A,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,A)}let V={get action(){return u},get location(){return t(i,o)},listen(M){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(uy,_),c=M,()=>{i.removeEventListener(uy,_),c=null}},createHref(M){return e(i,M)},createURL:L,encodeLocation(M){let A=L(M);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:E,replace:R,go(M){return o.go(M)}};return V}var hy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hy||(hy={}));function iC(t,e,n){return n===void 0&&(n="/"),sC(t,e,n,!1)}function sC(t,e,n,r){let i=typeof e=="string"?ua(e):e,s=Im(i.pathname||"/",n);if(s==null)return null;let o=Bw(t);oC(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let d=_C(s);u=mC(o[c],d,r)}return u}function Bw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Ui([r,c.relativePath]),g=n.concat(c);s.children&&s.children.length>0&&(st(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Bw(s.children,e,g,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:fC(d,s.index),routesMeta:g})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let c of Hw(s.path))i(s,o,c)}),e}function Hw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Hw(r.join("/")),u=[];return u.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function oC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aC=/^:[\w-]+$/,lC=3,uC=2,cC=1,hC=10,dC=-2,dy=t=>t==="*";function fC(t,e){let n=t.split("/"),r=n.length;return n.some(dy)&&(r+=dC),e&&(r+=uC),n.filter(i=>!dy(i)).reduce((i,s)=>i+(aC.test(s)?lC:s===""?cC:hC),r)}function pC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mC(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,g=s==="/"?e:e.slice(s.length)||"/",_=fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},g),E=c.route;if(!_&&d&&n&&!r[r.length-1].route.index&&(_=fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),o.push({params:i,pathname:Ui([s,_.pathname]),pathnameBase:EC(Ui([s,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(s=Ui([s,_.pathnameBase]))}return o}function fy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,g,_)=>{let{paramName:E,isOptional:R}=g;if(E==="*"){let V=u[_]||"";o=s.slice(0,s.length-V.length).replace(/(.)\/+$/,"$1")}const L=u[_];return R&&!L?d[E]=void 0:d[E]=(L||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function gC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _C(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Im(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ua(t):t;return{pathname:n?n.startsWith("/")?n:vC(n,e):e,search:TC(r),hash:IC(i)}}function vC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sm(t,e){let n=wC(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Am(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ua(t):(i=Fl({},t),st(!i.pathname||!i.pathname.includes("?"),Jd("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),Jd("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),Jd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=n;else{let _=e.length-1;if(!r&&o.startsWith("..")){let E=o.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}u=_>=0?e[_]:"/"}let c=yC(i,u),d=o&&o!=="/"&&o.endsWith("/"),g=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||g)&&(c.pathname+="/"),c}const Ui=t=>t.join("/").replace(/\/\/+/g,"/"),EC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ww=["post","put","patch","delete"];new Set(Ww);const AC=["get",...Ww];new Set(AC);/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(this,arguments)}const Cm=X.createContext(null),CC=X.createContext(null),Zi=X.createContext(null),jh=X.createContext(null),es=X.createContext({outlet:null,matches:[],isDataRoute:!1}),qw=X.createContext(null);function kC(t,e){let{relative:n}=e===void 0?{}:e;ca()||st(!1);let{basename:r,navigator:i}=X.useContext(Zi),{hash:s,pathname:o,search:u}=Qw(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ui([r,o])),i.createHref({pathname:c,search:u,hash:s})}function ca(){return X.useContext(jh)!=null}function Zl(){return ca()||st(!1),X.useContext(jh).location}function Kw(t){X.useContext(Zi).static||X.useLayoutEffect(t)}function Gw(){let{isDataRoute:t}=X.useContext(es);return t?jC():PC()}function PC(){ca()||st(!1);let t=X.useContext(Cm),{basename:e,future:n,navigator:r}=X.useContext(Zi),{matches:i}=X.useContext(es),{pathname:s}=Zl(),o=JSON.stringify(Sm(i,n.v7_relativeSplatPath)),u=X.useRef(!1);return Kw(()=>{u.current=!0}),X.useCallback(function(d,g){if(g===void 0&&(g={}),!u.current)return;if(typeof d=="number"){r.go(d);return}let _=Am(d,JSON.parse(o),s,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ui([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,o,s,t])}function Qw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=X.useContext(Zi),{matches:i}=X.useContext(es),{pathname:s}=Zl(),o=JSON.stringify(Sm(i,r.v7_relativeSplatPath));return X.useMemo(()=>Am(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function RC(t,e){return bC(t,e)}function bC(t,e,n,r){ca()||st(!1);let{navigator:i}=X.useContext(Zi),{matches:s}=X.useContext(es),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Zl(),g;if(e){var _;let M=typeof e=="string"?ua(e):e;c==="/"||(_=M.pathname)!=null&&_.startsWith(c)||st(!1),g=M}else g=d;let E=g.pathname||"/",R=E;if(c!=="/"){let M=c.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(M.length).join("/")}let L=iC(t,{pathname:R}),V=LC(L&&L.map(M=>Object.assign({},M,{params:Object.assign({},u,M.params),pathname:Ui([c,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?c:Ui([c,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,n,r);return e&&V?X.createElement(jh.Provider,{value:{location:Ul({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ri.Pop}},V):V}function NC(){let t=UC(),e=SC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,null)}const xC=X.createElement(NC,null);class OC extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?X.createElement(es.Provider,{value:this.props.routeContext},X.createElement(qw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DC(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(Cm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(es.Provider,{value:e},r)}function LC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);g>=0||st(!1),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<o.length;g++){let _=o[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=g),_.route.id){let{loaderData:E,errors:R}=n,L=_.route.loader&&E[_.route.id]===void 0&&(!R||R[_.route.id]===void 0);if(_.route.lazy||L){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,_,E)=>{let R,L=!1,V=null,M=null;n&&(R=u&&_.route.id?u[_.route.id]:void 0,V=_.route.errorElement||xC,c&&(d<0&&E===0?(L=!0,M=null):d===E&&(L=!0,M=_.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,E+1)),T=()=>{let P;return R?P=V:L?P=M:_.route.Component?P=X.createElement(_.route.Component,null):_.route.element?P=_.route.element:P=g,X.createElement(DC,{match:_,routeContext:{outlet:g,matches:A,isDataRoute:n!=null},children:P})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?X.createElement(OC,{location:n.location,revalidation:n.revalidation,component:V,error:R,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}var Xw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xw||{}),oh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oh||{});function VC(t){let e=X.useContext(Cm);return e||st(!1),e}function MC(t){let e=X.useContext(CC);return e||st(!1),e}function FC(t){let e=X.useContext(es);return e||st(!1),e}function Yw(t){let e=FC(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function UC(){var t;let e=X.useContext(qw),n=MC(oh.UseRouteError),r=Yw(oh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jC(){let{router:t}=VC(Xw.UseNavigateStable),e=Yw(oh.UseNavigateStable),n=X.useRef(!1);return Kw(()=>{n.current=!0}),X.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ul({fromRouteId:e},s)))},[t,e])}function py(t){let{to:e,replace:n,state:r,relative:i}=t;ca()||st(!1);let{future:s,static:o}=X.useContext(Zi),{matches:u}=X.useContext(es),{pathname:c}=Zl(),d=Gw(),g=Am(e,Sm(u,s.v7_relativeSplatPath),c,i==="path"),_=JSON.stringify(g);return X.useEffect(()=>d(JSON.parse(_),{replace:n,state:r,relative:i}),[d,_,i,n,r]),null}function yo(t){st(!1)}function $C(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ri.Pop,navigator:s,static:o=!1,future:u}=t;ca()&&st(!1);let c=e.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:c,navigator:s,static:o,future:Ul({v7_relativeSplatPath:!1},u)}),[c,u,s,o]);typeof r=="string"&&(r=ua(r));let{pathname:g="/",search:_="",hash:E="",state:R=null,key:L="default"}=r,V=X.useMemo(()=>{let M=Im(g,c);return M==null?null:{location:{pathname:M,search:_,hash:E,state:R,key:L},navigationType:i}},[c,g,_,E,R,L,i]);return V==null?null:X.createElement(Zi.Provider,{value:d},X.createElement(jh.Provider,{children:n,value:V}))}function my(t){let{children:e,location:n}=t;return RC(sp(e),n)}new Promise(()=>{});function sp(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;let s=[...e,i];if(r.type===X.Fragment){n.push.apply(n,sp(r.props.children,s));return}r.type!==yo&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function zC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HC(t,e){return t.button===0&&(!e||e==="_self")&&!BC(t)}const WC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qC="6";try{window.__reactRouterVersion=qC}catch{}const KC="startTransition",gy=B1[KC];function GC(t){let{basename:e,children:n,future:r,window:i}=t,s=X.useRef();s.current==null&&(s.current=tC({window:i,v5Compat:!0}));let o=s.current,[u,c]=X.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},g=X.useCallback(_=>{d&&gy?gy(()=>c(_)):c(_)},[c,d]);return X.useLayoutEffect(()=>o.listen(g),[o,g]),X.createElement($C,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const QC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_y=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:c,to:d,preventScrollReset:g,unstable_viewTransition:_}=e,E=zC(e,WC),{basename:R}=X.useContext(Zi),L,V=!1;if(typeof d=="string"&&XC.test(d)&&(L=d,QC))try{let P=new URL(window.location.href),$=d.startsWith("//")?new URL(P.protocol+d):new URL(d),q=Im($.pathname,R);$.origin===P.origin&&q!=null?d=q+$.search+$.hash:V=!0}catch{}let M=kC(d,{relative:i}),A=YC(d,{replace:o,state:u,target:c,preventScrollReset:g,relative:i,unstable_viewTransition:_});function T(P){r&&r(P),P.defaultPrevented||A(P)}return X.createElement("a",op({},E,{href:L||M,onClick:V||s?r:T,ref:n,target:c}))});var yy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yy||(yy={}));var vy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vy||(vy={}));function YC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u}=e===void 0?{}:e,c=Gw(),d=Zl(),g=Qw(t,{relative:o});return X.useCallback(_=>{if(HC(_,n)){_.preventDefault();let E=r!==void 0?r:sh(d)===sh(g);c(t,{replace:E,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u})}},[d,c,g,r,i,n,t,s,o,u])}var wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,g=s>>2,_=(s&3)<<4|u>>4;let E=(u&15)<<2|d>>6,R=d&63;c||(R=64,o||(E=64)),r.push(n[g],n[_],n[E],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||d==null||_==null)throw new ZC;const E=s<<2|u>>4;if(r.push(E),d!==64){const R=u<<4&240|d>>2;if(r.push(R),_!==64){const L=d<<6&192|_;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ek=function(t){const e=Jw(t);return Zw.encodeByteArray(e,!0)},ah=function(t){return ek(t).replace(/\./g,"")},eE=function(t){try{return Zw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=()=>tk().__FIREBASE_DEFAULTS__,rk=()=>{if(typeof process>"u"||typeof wy>"u")return;const t=wy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ik=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eE(t[1]);return e&&JSON.parse(e)},$h=()=>{try{return nk()||rk()||ik()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tE=t=>{var e,n;return(n=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sk=t=>{const e=tE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nE=()=>{var t;return(t=$h())===null||t===void 0?void 0:t.config},rE=t=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ah(JSON.stringify(n)),ah(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function uk(){var t;const e=(t=$h())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ck(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dk(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fk(){return!uk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pk(){try{return typeof indexedDB=="object"}catch{return!1}}function mk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gk,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_k(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new ni(i,u,r)}}function _k(t,e){return t.replace(yk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yk=/\{\$([^}]+)}/g;function vk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ey(s)&&Ey(o)){if(!lh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ey(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wk(t,e){const n=new Ek(t,e);return n.subscribe.bind(n)}class Ek{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Tk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zd),i.error===void 0&&(i.error=Zd),i.complete===void 0&&(i.complete=Zd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ok;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ak(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sk(t){return t===Is?void 0:t}function Ak(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ik(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const kk={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Pk=Te.INFO,Rk={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},bk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Rk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=Pk,this._logHandler=bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const Nk=(t,e)=>e.some(n=>t instanceof n);let Ty,Iy;function xk(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ok(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,ap=new WeakMap,sE=new WeakMap,ef=new WeakMap,Pm=new WeakMap;function Dk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iE.set(n,t)}).catch(()=>{}),Pm.set(e,t),e}function Lk(t){if(ap.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ap.set(t,e)}let lp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vk(t){lp=t(lp)}function Mk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tf(this),e,...n);return sE.set(r,e.sort?e.sort():[e]),ji(r)}:Ok().includes(t)?function(...e){return t.apply(tf(this),e),ji(iE.get(this))}:function(...e){return ji(t.apply(tf(this),e))}}function Fk(t){return typeof t=="function"?Mk(t):(t instanceof IDBTransaction&&Lk(t),Nk(t,xk())?new Proxy(t,lp):t)}function ji(t){if(t instanceof IDBRequest)return Dk(t);if(ef.has(t))return ef.get(t);const e=Fk(t);return e!==t&&(ef.set(t,e),Pm.set(e,t)),e}const tf=t=>Pm.get(t);function Uk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=ji(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ji(o.result),c.oldVersion,c.newVersion,ji(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const jk=["get","getKey","getAll","getAllKeys","count"],$k=["put","add","delete","clear"],nf=new Map;function Sy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nf.get(e))return nf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$k.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jk.includes(n)))return;const s=async function(o,...u){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return nf.set(e,s),s}Vk(t=>({...t,get:(e,n,r)=>Sy(e,n)||t.get(e,n,r),has:(e,n)=>!!Sy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const up="@firebase/app",Ay="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new km("@firebase/app"),Hk="@firebase/app-compat",Wk="@firebase/analytics-compat",qk="@firebase/analytics",Kk="@firebase/app-check-compat",Gk="@firebase/app-check",Qk="@firebase/auth",Xk="@firebase/auth-compat",Yk="@firebase/database",Jk="@firebase/database-compat",Zk="@firebase/functions",eP="@firebase/functions-compat",tP="@firebase/installations",nP="@firebase/installations-compat",rP="@firebase/messaging",iP="@firebase/messaging-compat",sP="@firebase/performance",oP="@firebase/performance-compat",aP="@firebase/remote-config",lP="@firebase/remote-config-compat",uP="@firebase/storage",cP="@firebase/storage-compat",hP="@firebase/firestore",dP="@firebase/vertexai-preview",fP="@firebase/firestore-compat",pP="firebase",mP="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]",gP={[up]:"fire-core",[Hk]:"fire-core-compat",[qk]:"fire-analytics",[Wk]:"fire-analytics-compat",[Gk]:"fire-app-check",[Kk]:"fire-app-check-compat",[Qk]:"fire-auth",[Xk]:"fire-auth-compat",[Yk]:"fire-rtdb",[Jk]:"fire-rtdb-compat",[Zk]:"fire-fn",[eP]:"fire-fn-compat",[tP]:"fire-iid",[nP]:"fire-iid-compat",[rP]:"fire-fcm",[iP]:"fire-fcm-compat",[sP]:"fire-perf",[oP]:"fire-perf-compat",[aP]:"fire-rc",[lP]:"fire-rc-compat",[uP]:"fire-gcs",[cP]:"fire-gcs-compat",[hP]:"fire-fst",[fP]:"fire-fst-compat",[dP]:"fire-vertex","fire-js":"fire-js",[pP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,_P=new Map,hp=new Map;function Cy(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(hp.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;hp.set(e,t);for(const n of uh.values())Cy(n,t);for(const n of _P.values())Cy(n,t);return!0}function Rm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new eu("app","Firebase",yP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=mP;function oE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $i.create("bad-app-name",{appName:String(i)});if(n||(n=nE()),!n)throw $i.create("no-options");const s=uh.get(i);if(s){if(lh(n,s.options)&&lh(r,s.config))return s;throw $i.create("duplicate-app",{appName:i})}const o=new Ck(i);for(const c of hp.values())o.addComponent(c);const u=new vP(n,r,o);return uh.set(i,u),u}function aE(t=cp){const e=uh.get(t);if(!e&&t===cp&&nE())return oE();if(!e)throw $i.create("no-app",{appName:t});return e}function zi(t,e,n){var r;let i=(r=gP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(u.join(" "));return}Yo(new Fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="firebase-heartbeat-database",EP=1,jl="firebase-heartbeat-store";let rf=null;function lE(){return rf||(rf=Uk(wP,EP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),rf}async function TP(t){try{const n=(await lE()).transaction(jl),r=await n.objectStore(jl).get(uE(t));return await n.done,r}catch(e){if(e instanceof ni)Us.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function ky(t,e){try{const r=(await lE()).transaction(jl,"readwrite");await r.objectStore(jl).put(e,uE(t)),await r.done}catch(n){if(n instanceof ni)Us.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function uE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1024,SP=30*24*60*60*1e3;class AP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Py();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=SP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Py(),{heartbeatsToSend:r,unsentEntries:i}=CP(this._heartbeatsCache.heartbeats),s=ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Py(){return new Date().toISOString().substring(0,10)}function CP(t,e=IP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ry(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ry(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pk()?mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ry(t){return ah(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){Yo(new Fs("platform-logger",e=>new zk(e),"PRIVATE")),Yo(new Fs("heartbeat",e=>new AP(e),"PRIVATE")),zi(up,Ay,t),zi(up,Ay,"esm2017"),zi("fire-js","")}PP("");function bm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RP=cE,hE=new eu("auth","Firebase",cE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new km("@firebase/auth");function bP(t,...e){ch.logLevel<=Te.WARN&&ch.warn(`Auth (${ha}): ${t}`,...e)}function Cc(t,...e){ch.logLevel<=Te.ERROR&&ch.error(`Auth (${ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw xm(t,...e)}function Yn(t,...e){return xm(t,...e)}function Nm(t,e,n){const r=Object.assign(Object.assign({},RP()),{[e]:n});return new eu("auth","Firebase",r).create(e,{appName:t.name})}function Ns(t){return Nm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yr(t,"argument-error"),Nm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hE.create(t,...e)}function ce(t,e,...n){if(!t)throw xm(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cc(e),new Error(e)}function Jr(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xP(){return by()==="http:"||by()==="https:"}function by(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xP()||ck()||"connection"in navigator)?navigator.onLine:!0}function DP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=lk()||hk()}get(){return OP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new nu(3e4,6e4);function Dm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function da(t,e,n,r,i={}){return fE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=tu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),dE.fetch()(pE(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function fE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},LP),e);try{const i=new FP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw lc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw lc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw lc(t,"user-disabled",o);const g=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Nm(t,g,d);yr(t,g)}}catch(i){if(i instanceof ni)throw i;yr(t,"network-request-failed",{message:String(i)})}}async function MP(t,e,n,r,i={}){const s=await da(t,e,n,r,i);return"mfaPendingCredential"in s&&yr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function pE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Om(t.config,i):`${t.config.apiScheme}://${i}`}class FP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yn(this.auth,"network-request-failed")),VP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(t,e){return da(t,"POST","/v1/accounts:delete",e)}async function mE(t,e){return da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jP(t,e=!1){const n=mn(t),r=await n.getIdToken(e),i=Lm(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gl(sf(i.auth_time)),issuedAtTime:gl(sf(i.iat)),expirationTime:gl(sf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sf(t){return Number(t)*1e3}function Lm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const i=eE(n);return i?JSON.parse(i):(Cc("Failed to decode base64 JWT payload"),null)}catch(i){return Cc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ny(t){const e=Lm(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&$P(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $P({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $l(t,mE(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gE(s.providerUserInfo):[],u=HP(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),g=c?d:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new fp(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function BP(t){const e=mn(t);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gE(t){return t.map(e=>{var{providerId:n}=e,r=bm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(t,e){const n=await fE(t,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=pE(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",dE.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qP(t,e){return da(t,"POST","/v2/accounts:revokeToken",Dm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ny(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=Ny(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await WP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jo;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jP(this,e)}reload(){return BP(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await $l(this,UP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,c,d,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(i=n.email)!==null&&i!==void 0?i:void 0,R=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,L=(o=n.photoURL)!==null&&o!==void 0?o:void 0,V=(u=n.tenantId)!==null&&u!==void 0?u:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(d=n.createdAt)!==null&&d!==void 0?d:void 0,T=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:P,emailVerified:$,isAnonymous:q,providerData:Q,stsTokenManager:S}=n;ce(P&&S,e,"internal-error");const w=jo.fromJSON(this.name,S);ce(typeof P=="string",e,"internal-error"),vi(_,e.name),vi(E,e.name),ce(typeof $=="boolean",e,"internal-error"),ce(typeof q=="boolean",e,"internal-error"),vi(R,e.name),vi(L,e.name),vi(V,e.name),vi(M,e.name),vi(A,e.name),vi(T,e.name);const I=new Hr({uid:P,auth:e,email:E,emailVerified:$,displayName:_,isAnonymous:q,photoURL:L,phoneNumber:R,tenantId:V,stsTokenManager:w,createdAt:A,lastLoginAt:T});return Q&&Array.isArray(Q)&&(I.providerData=Q.map(C=>Object.assign({},C))),M&&(I._redirectEventId=M),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new jo;i.updateFromServerResponse(n);const s=new Hr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new jo;u.updateFromIdToken(r);const c=new Hr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new fp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new Map;function Wr(t){Jr(t instanceof Function,"Expected a class definition");let e=xy.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_E.type="NONE";const Oy=_E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kc(this.userKey,i.apiKey,s),this.fullPersistenceKey=kc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $o(Wr(Oy),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Wr(Oy);const o=kc(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const g=await d._get(o);if(g){const _=Hr._fromJSON(e,g);d!==s&&(u=_),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new $o(s,e,r):(s=c[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new $o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TE(e))return"Blackberry";if(IE(e))return"Webos";if(Vm(e))return"Safari";if((e.includes("chrome/")||vE(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yE(t=bt()){return/firefox\//i.test(t)}function Vm(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vE(t=bt()){return/crios\//i.test(t)}function wE(t=bt()){return/iemobile/i.test(t)}function EE(t=bt()){return/android/i.test(t)}function TE(t=bt()){return/blackberry/i.test(t)}function IE(t=bt()){return/webos/i.test(t)}function zh(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KP(t=bt()){var e;return zh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GP(){return dk()&&document.documentMode===10}function SE(t=bt()){return zh(t)||EE(t)||IE(t)||TE(t)||/windows phone/i.test(t)||wE(t)}function QP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e=[]){let n;switch(t){case"Browser":n=Dy(bt());break;case"Worker":n=`${Dy(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const c=e(s);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t,e={}){return da(t,"GET","/v2/passwordPolicy",Dm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=6;class ZP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ly(this),this.idTokenSubscription=new Ly(this),this.beforeStateQueue=new XP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mE(this,{idToken:e}),r=await Hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(Ns(this));const n=e?mn(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YP(this),n=new ZP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bh(t){return mn(t)}class Ly{constructor(e){this.auth=e,this.observer=null,this.addObserver=wk(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tR(t){Mm=t}function nR(t){return Mm.loadJS(t)}function rR(){return Mm.gapiScript}function iR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e){const n=Rm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(lh(s,e??{}))return i;yr(i,"already-initialized")}return n.initialize({options:e})}function oR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aR(t,e,n){const r=Bh(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=CE(e),{host:o,port:u}=lR(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),uR()}function CE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lR(t){const e=CE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Vy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Vy(o)}}}function Vy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e){return MP(t,"POST","/v1/accounts:signInWithIdp",Dm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="http://localhost";class js extends kE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=bm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new js(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:cR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Fm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends ru{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ru{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends ru{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Hr._fromIdTokenResponse(e,r,i),o=My(r);return new Jo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=My(r);return new Jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function My(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dh(e,n,r,i)}}function PE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(t,s,e,r):s})}async function hR(t,e,n=!1){const r=await $l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e,n=!1){const{auth:r}=t;if(zr(r.app))return Promise.reject(Ns(r));const i="reauthenticate";try{const s=await $l(t,PE(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=Lm(s.idToken);ce(o,r,"internal-error");const{sub:u}=o;return ce(t.uid===u,r,"user-mismatch"),Jo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e,n=!1){if(zr(t.app))return Promise.reject(Ns(t));const r="signIn",i=await PE(t,r,e),s=await Jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function pR(t,e,n,r){return mn(t).onIdTokenChanged(e,n,r)}function mR(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}function gR(t,e,n,r){return mn(t).onAuthStateChanged(e,n,r)}function _R(t){return mn(t).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){const t=bt();return Vm(t)||zh(t)}const vR=1e3,wR=10;class bE extends RE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yR()&&QP(),this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);GP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bE.type="LOCAL";const ER=bE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends RE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NE.type="SESSION";const xE=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async d=>d(n.origin,s)),c=await TR(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,c)=>{const d=Um("",20);i.port1.start();const g=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(E.data.response);break;default:clearTimeout(g),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function SR(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function AR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kR(){return OE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firebaseLocalStorageDb",PR=1,ph="firebaseLocalStorage",LE="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(t,e){return t.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function RR(){const t=indexedDB.deleteDatabase(DE);return new iu(t).toPromise()}function pp(){const t=indexedDB.open(DE,PR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ph,{keyPath:LE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await RR(),e(await pp()))})})}async function Fy(t,e,n){const r=Wh(t,!0).put({[LE]:e,value:n});return new iu(r).toPromise()}async function bR(t,e){const n=Wh(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function Uy(t,e){const n=Wh(t,!0).delete(e);return new iu(n).toPromise()}const NR=800,xR=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(kR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AR(),!this.activeServiceWorker)return;this.sender=new IR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await Fy(e,fh,"1"),await Uy(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wh(i,!1).getAll();return new iu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const OR=VE;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e){return e?Wr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends kE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DR(t){return fR(t.auth,new jm(t),t.bypassAuthState)}function LR(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),dR(n,new jm(t),t.bypassAuthState)}async function VR(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),hR(n,new jm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:yr(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new nu(2e3,1e4);async function FR(t,e,n){if(zr(t.app))return Promise.reject(Yn(t,"operation-not-supported-in-this-environment"));const r=Bh(t);NP(t,e,Fm);const i=ME(r,n);return new ks(r,"signInViaPopup",e,i).executeNotNull()}class ks extends FE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MR.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",Pc=new Map;class jR extends FE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await $R(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $R(t,e){const n=HR(e),r=BR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zR(t,e){Pc.set(t._key(),e)}function BR(t){return Wr(t._redirectPersistence)}function HR(t){return kc(UR,t.config.apiKey,t.name)}async function WR(t,e,n=!1){if(zr(t.app))return Promise.reject(Ns(t));const r=Bh(t),i=ME(r,e),o=await new jR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=10*60*1e3;class KR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(jy(e))}saveEventToCache(e){this.cachedEventUids.add(jy(e)),this.lastProcessedEventTime=Date.now()}}function jy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,e={}){return da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YR=/^https?/;async function JR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QR(t);for(const n of e)try{if(ZR(n))return}catch{}yr(t,"unauthorized-domain")}function ZR(t){const e=dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YR.test(n))return!1;if(XR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new nu(3e4,6e4);function $y(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tb(t){return new Promise((e,n)=>{var r,i,s;function o(){$y(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$y(),n(Yn(t,"network-request-failed"))},timeout:eb.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mr().gapi)===null||s===void 0)&&s.load)o();else{const u=iR("iframefcb");return mr()[u]=()=>{gapi.load?o():n(Yn(t,"network-request-failed"))},nR(`${rR()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Rc=null,e})}let Rc=null;function nb(t){return Rc=Rc||tb(t),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new nu(5e3,15e3),ib="__/auth/iframe",sb="emulator/auth/iframe",ob={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ab=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lb(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Om(e,sb):`https://${t.config.authDomain}/${ib}`,r={apiKey:e.apiKey,appName:t.name,v:ha},i=ab.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tu(r).slice(1)}`}async function ub(t){const e=await nb(t),n=mr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:lb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ob,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Yn(t,"network-request-failed"),u=mr().setTimeout(()=>{s(o)},rb.get());function c(){mr().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hb=500,db=600,fb="_blank",pb="http://localhost";class zy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mb(t,e,n,r=hb,i=db){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},cb),{width:r.toString(),height:i.toString(),top:s,left:o}),d=bt().toLowerCase();n&&(u=vE(d)?fb:n),yE(d)&&(e=e||pb,c.scrollbars="yes");const g=Object.entries(c).reduce((E,[R,L])=>`${E}${R}=${L},`,"");if(KP(d)&&u!=="_self")return gb(e||"",u),new zy(null);const _=window.open(e||"",u,g);ce(_,t,"popup-blocked");try{_.focus()}catch{}return new zy(_)}function gb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__/auth/handler",yb="emulator/auth/handler",vb=encodeURIComponent("fac");async function By(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ha,eventId:i};if(e instanceof Fm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))o[g]=_}if(e instanceof ru){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const c=await t._getAppCheckToken(),d=c?`#${vb}=${encodeURIComponent(c)}`:"";return`${wb(t)}?${tu(u).slice(1)}${d}`}function wb({config:t}){return t.emulator?Om(t,yb):`https://${t.authDomain}/${_b}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class Eb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xE,this._completeRedirectFn=WR,this._overrideRedirectResult=zR}async _openPopup(e,n,r,i){var s;Jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await By(e,n,r,dp(),i);return mb(e,o,Um())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await By(e,n,r,dp(),i);return SR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ub(e),r=new KR(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(of,{type:of},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[of];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SE()||Vm()||zh()}}const Tb=Eb;var Hy="@firebase/auth",Wy="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ab(t){Yo(new Fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(t)},d=new eR(r,i,s,c);return oR(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Fs("auth-internal",e=>{const n=Bh(e.getProvider("auth").getImmediate());return(r=>new Ib(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(Hy,Wy,Sb(t)),zi(Hy,Wy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=5*60,kb=rE("authIdTokenMaxAge")||Cb;let qy=null;const Pb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kb)return;const i=n==null?void 0:n.token;qy!==i&&(qy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rb(t=aE()){const e=Rm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sR(t,{popupRedirectResolver:Tb,persistence:[OR,ER,xE]}),r=rE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Pb(s.toString());mR(n,o,()=>o(n.currentUser)),pR(n,u=>o(u))}}const i=tE("auth");return i&&aR(n,`http://${i}`),n}function bb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Yn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",bb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ab("Browser");var Nb="firebase",xb="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(Nb,xb,"app");var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,jE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function I(){}I.prototype=w.prototype,S.D=w.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,b,D){for(var k=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)k[zt-2]=arguments[zt];return w.prototype[b].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,I){I||(I=0);var C=Array(16);if(typeof w=="string")for(var b=0;16>b;++b)C[b]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(b=0;16>b;++b)C[b]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=S.g[0],I=S.g[1],b=S.g[2];var D=S.g[3],k=w+(D^I&(b^D))+C[0]+3614090360&4294967295;w=I+(k<<7&4294967295|k>>>25),k=D+(b^w&(I^b))+C[1]+3905402710&4294967295,D=w+(k<<12&4294967295|k>>>20),k=b+(I^D&(w^I))+C[2]+606105819&4294967295,b=D+(k<<17&4294967295|k>>>15),k=I+(w^b&(D^w))+C[3]+3250441966&4294967295,I=b+(k<<22&4294967295|k>>>10),k=w+(D^I&(b^D))+C[4]+4118548399&4294967295,w=I+(k<<7&4294967295|k>>>25),k=D+(b^w&(I^b))+C[5]+1200080426&4294967295,D=w+(k<<12&4294967295|k>>>20),k=b+(I^D&(w^I))+C[6]+2821735955&4294967295,b=D+(k<<17&4294967295|k>>>15),k=I+(w^b&(D^w))+C[7]+4249261313&4294967295,I=b+(k<<22&4294967295|k>>>10),k=w+(D^I&(b^D))+C[8]+1770035416&4294967295,w=I+(k<<7&4294967295|k>>>25),k=D+(b^w&(I^b))+C[9]+2336552879&4294967295,D=w+(k<<12&4294967295|k>>>20),k=b+(I^D&(w^I))+C[10]+4294925233&4294967295,b=D+(k<<17&4294967295|k>>>15),k=I+(w^b&(D^w))+C[11]+2304563134&4294967295,I=b+(k<<22&4294967295|k>>>10),k=w+(D^I&(b^D))+C[12]+1804603682&4294967295,w=I+(k<<7&4294967295|k>>>25),k=D+(b^w&(I^b))+C[13]+4254626195&4294967295,D=w+(k<<12&4294967295|k>>>20),k=b+(I^D&(w^I))+C[14]+2792965006&4294967295,b=D+(k<<17&4294967295|k>>>15),k=I+(w^b&(D^w))+C[15]+1236535329&4294967295,I=b+(k<<22&4294967295|k>>>10),k=w+(b^D&(I^b))+C[1]+4129170786&4294967295,w=I+(k<<5&4294967295|k>>>27),k=D+(I^b&(w^I))+C[6]+3225465664&4294967295,D=w+(k<<9&4294967295|k>>>23),k=b+(w^I&(D^w))+C[11]+643717713&4294967295,b=D+(k<<14&4294967295|k>>>18),k=I+(D^w&(b^D))+C[0]+3921069994&4294967295,I=b+(k<<20&4294967295|k>>>12),k=w+(b^D&(I^b))+C[5]+3593408605&4294967295,w=I+(k<<5&4294967295|k>>>27),k=D+(I^b&(w^I))+C[10]+38016083&4294967295,D=w+(k<<9&4294967295|k>>>23),k=b+(w^I&(D^w))+C[15]+3634488961&4294967295,b=D+(k<<14&4294967295|k>>>18),k=I+(D^w&(b^D))+C[4]+3889429448&4294967295,I=b+(k<<20&4294967295|k>>>12),k=w+(b^D&(I^b))+C[9]+568446438&4294967295,w=I+(k<<5&4294967295|k>>>27),k=D+(I^b&(w^I))+C[14]+3275163606&4294967295,D=w+(k<<9&4294967295|k>>>23),k=b+(w^I&(D^w))+C[3]+4107603335&4294967295,b=D+(k<<14&4294967295|k>>>18),k=I+(D^w&(b^D))+C[8]+1163531501&4294967295,I=b+(k<<20&4294967295|k>>>12),k=w+(b^D&(I^b))+C[13]+2850285829&4294967295,w=I+(k<<5&4294967295|k>>>27),k=D+(I^b&(w^I))+C[2]+4243563512&4294967295,D=w+(k<<9&4294967295|k>>>23),k=b+(w^I&(D^w))+C[7]+1735328473&4294967295,b=D+(k<<14&4294967295|k>>>18),k=I+(D^w&(b^D))+C[12]+2368359562&4294967295,I=b+(k<<20&4294967295|k>>>12),k=w+(I^b^D)+C[5]+4294588738&4294967295,w=I+(k<<4&4294967295|k>>>28),k=D+(w^I^b)+C[8]+2272392833&4294967295,D=w+(k<<11&4294967295|k>>>21),k=b+(D^w^I)+C[11]+1839030562&4294967295,b=D+(k<<16&4294967295|k>>>16),k=I+(b^D^w)+C[14]+4259657740&4294967295,I=b+(k<<23&4294967295|k>>>9),k=w+(I^b^D)+C[1]+2763975236&4294967295,w=I+(k<<4&4294967295|k>>>28),k=D+(w^I^b)+C[4]+1272893353&4294967295,D=w+(k<<11&4294967295|k>>>21),k=b+(D^w^I)+C[7]+4139469664&4294967295,b=D+(k<<16&4294967295|k>>>16),k=I+(b^D^w)+C[10]+3200236656&4294967295,I=b+(k<<23&4294967295|k>>>9),k=w+(I^b^D)+C[13]+681279174&4294967295,w=I+(k<<4&4294967295|k>>>28),k=D+(w^I^b)+C[0]+3936430074&4294967295,D=w+(k<<11&4294967295|k>>>21),k=b+(D^w^I)+C[3]+3572445317&4294967295,b=D+(k<<16&4294967295|k>>>16),k=I+(b^D^w)+C[6]+76029189&4294967295,I=b+(k<<23&4294967295|k>>>9),k=w+(I^b^D)+C[9]+3654602809&4294967295,w=I+(k<<4&4294967295|k>>>28),k=D+(w^I^b)+C[12]+3873151461&4294967295,D=w+(k<<11&4294967295|k>>>21),k=b+(D^w^I)+C[15]+530742520&4294967295,b=D+(k<<16&4294967295|k>>>16),k=I+(b^D^w)+C[2]+3299628645&4294967295,I=b+(k<<23&4294967295|k>>>9),k=w+(b^(I|~D))+C[0]+4096336452&4294967295,w=I+(k<<6&4294967295|k>>>26),k=D+(I^(w|~b))+C[7]+1126891415&4294967295,D=w+(k<<10&4294967295|k>>>22),k=b+(w^(D|~I))+C[14]+2878612391&4294967295,b=D+(k<<15&4294967295|k>>>17),k=I+(D^(b|~w))+C[5]+4237533241&4294967295,I=b+(k<<21&4294967295|k>>>11),k=w+(b^(I|~D))+C[12]+1700485571&4294967295,w=I+(k<<6&4294967295|k>>>26),k=D+(I^(w|~b))+C[3]+2399980690&4294967295,D=w+(k<<10&4294967295|k>>>22),k=b+(w^(D|~I))+C[10]+4293915773&4294967295,b=D+(k<<15&4294967295|k>>>17),k=I+(D^(b|~w))+C[1]+2240044497&4294967295,I=b+(k<<21&4294967295|k>>>11),k=w+(b^(I|~D))+C[8]+1873313359&4294967295,w=I+(k<<6&4294967295|k>>>26),k=D+(I^(w|~b))+C[15]+4264355552&4294967295,D=w+(k<<10&4294967295|k>>>22),k=b+(w^(D|~I))+C[6]+2734768916&4294967295,b=D+(k<<15&4294967295|k>>>17),k=I+(D^(b|~w))+C[13]+1309151649&4294967295,I=b+(k<<21&4294967295|k>>>11),k=w+(b^(I|~D))+C[4]+4149444226&4294967295,w=I+(k<<6&4294967295|k>>>26),k=D+(I^(w|~b))+C[11]+3174756917&4294967295,D=w+(k<<10&4294967295|k>>>22),k=b+(w^(D|~I))+C[2]+718787259&4294967295,b=D+(k<<15&4294967295|k>>>17),k=I+(D^(b|~w))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(b+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+b&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var I=w-this.blockSize,C=this.B,b=this.h,D=0;D<w;){if(b==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<w;)if(C[b++]=S.charCodeAt(D++),b==this.blockSize){i(this,C),b=0;break}}else for(;D<w;)if(C[b++]=S[D++],b==this.blockSize){i(this,C),b=0;break}}this.h=b,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var I=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=I&255,I/=256;for(this.u(S),S=Array(16),w=I=0;4>w;++w)for(var C=0;32>C;C+=8)S[I++]=this.g[w]>>>C&255;return S};function s(S,w){var I=u;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=w(S)}function o(S,w){this.h=w;for(var I=[],C=!0,b=S.length-1;0<=b;b--){var D=S[b]|0;C&&D==w||(I[b]=D,C=!1)}this.g=I}var u={};function c(S){return-128<=S&&128>S?s(S,function(w){return new o([w|0],0>w?-1:0)}):new o([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return _;if(0>S)return M(d(-S));for(var w=[],I=1,C=0;S>=I;C++)w[C]=S/I|0,I*=4294967296;return new o(w,0)}function g(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return M(g(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(w,8)),C=_,b=0;b<S.length;b+=8){var D=Math.min(8,S.length-b),k=parseInt(S.substring(b,b+D),w);8>D?(D=d(Math.pow(w,D)),C=C.j(D).add(d(k))):(C=C.j(I),C=C.add(d(k)))}return C}var _=c(0),E=c(1),R=c(16777216);t=o.prototype,t.m=function(){if(V(this))return-M(this).m();for(var S=0,w=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(L(this))return"0";if(V(this))return"-"+M(this).toString(S);for(var w=d(Math.pow(S,6)),I=this,C="";;){var b=$(I,w).g;I=A(I,b.j(w));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=b,L(I))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function L(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function V(S){return S.h==-1}t.l=function(S){return S=A(this,S),V(S)?-1:L(S)?0:1};function M(S){for(var w=S.g.length,I=[],C=0;C<w;C++)I[C]=~S.g[C];return new o(I,~S.h).add(E)}t.abs=function(){return V(this)?M(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),I=[],C=0,b=0;b<=w;b++){var D=C+(this.i(b)&65535)+(S.i(b)&65535),k=(D>>>16)+(this.i(b)>>>16)+(S.i(b)>>>16);C=k>>>16,D&=65535,k&=65535,I[b]=k<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function A(S,w){return S.add(M(w))}t.j=function(S){if(L(this)||L(S))return _;if(V(this))return V(S)?M(this).j(M(S)):M(M(this).j(S));if(V(S))return M(this.j(M(S)));if(0>this.l(R)&&0>S.l(R))return d(this.m()*S.m());for(var w=this.g.length+S.g.length,I=[],C=0;C<2*w;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var b=0;b<S.g.length;b++){var D=this.i(C)>>>16,k=this.i(C)&65535,zt=S.i(b)>>>16,er=S.i(b)&65535;I[2*C+2*b]+=k*er,T(I,2*C+2*b),I[2*C+2*b+1]+=D*er,T(I,2*C+2*b+1),I[2*C+2*b+1]+=k*zt,T(I,2*C+2*b+1),I[2*C+2*b+2]+=D*zt,T(I,2*C+2*b+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new o(I,0)};function T(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function P(S,w){this.g=S,this.h=w}function $(S,w){if(L(w))throw Error("division by zero");if(L(S))return new P(_,_);if(V(S))return w=$(M(S),w),new P(M(w.g),M(w.h));if(V(w))return w=$(S,M(w)),new P(M(w.g),w.h);if(30<S.g.length){if(V(S)||V(w))throw Error("slowDivide_ only works with positive integers.");for(var I=E,C=w;0>=C.l(S);)I=q(I),C=q(C);var b=Q(I,1),D=Q(C,1);for(C=Q(C,2),I=Q(I,2);!L(C);){var k=D.add(C);0>=k.l(S)&&(b=b.add(I),D=k),C=Q(C,1),I=Q(I,1)}return w=A(S,b.j(w)),new P(b,w)}for(b=_;0<=S.l(w);){for(I=Math.max(1,Math.floor(S.m()/w.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=d(I),k=D.j(w);V(k)||0<k.l(S);)I-=C,D=d(I),k=D.j(w);L(D)&&(D=E),b=b.add(D),S=A(S,k)}return new P(b,S)}t.A=function(S){return $(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),I=[],C=0;C<w;C++)I[C]=this.i(C)&S.i(C);return new o(I,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),I=[],C=0;C<w;C++)I[C]=this.i(C)|S.i(C);return new o(I,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),I=[],C=0;C<w;C++)I[C]=this.i(C)^S.i(C);return new o(I,this.h^S.h)};function q(S){for(var w=S.g.length+1,I=[],C=0;C<w;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(I,S.h)}function Q(S,w){var I=w>>5;w%=32;for(var C=S.g.length-I,b=[],D=0;D<C;D++)b[D]=0<w?S.i(D+I)>>>w|S.i(D+I+1)<<32-w:S.i(D+I);return new o(b,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=g,xs=o}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $E,zE,il,BE,bc,mp,HE,WE,qE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var O=a[v];if(!(O in p))break e;p=p[O]}a=a[a.length-1],v=p[a],h=h(v),h!=v&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,v=!1,O={next:function(){if(!v&&p<a.length){var U=p++;return{value:h(U,a[U]),done:!1}}return v=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function d(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function g(a,h,p){return a.call.apply(a.bind,arguments)}function _(a,h,p){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,v),a.apply(h,O)}}return function(){return a.apply(h,arguments)}}function E(a,h,p){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function R(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function L(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(v,O,U){for(var K=Array(arguments.length-2),be=2;be<arguments.length;be++)K[be-2]=arguments[be];return h.prototype[O].apply(v,K)}}function V(a){const h=a.length;if(0<h){const p=Array(h);for(let v=0;v<h;v++)p[v]=a[v];return p}return[]}function M(a,h){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(c(v)){const O=a.length||0,U=v.length||0;a.length=O+U;for(let K=0;K<U;K++)a[O+K]=v[K]}else a.push(v)}}class A{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function T(a){return/^[\s\xa0]*$/.test(a)}function P(){var a=u.navigator;return a&&(a=a.userAgent)?a:""}function $(a){return $[" "](a),a}$[" "]=function(){};var q=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function Q(a,h,p){for(const v in a)h.call(p,a[v],v,a)}function S(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function w(a){const h={};for(const p in a)h[p]=a[p];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,h){let p,v;for(let O=1;O<arguments.length;O++){v=arguments[O];for(p in v)a[p]=v[p];for(let U=0;U<I.length;U++)p=I[U],Object.prototype.hasOwnProperty.call(v,p)&&(a[p]=v[p])}}function b(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function D(a){u.setTimeout(()=>{throw a},0)}function k(){var a=le;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class zt{constructor(){this.h=this.g=null}add(h,p){const v=er.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var er=new A(()=>new ri,a=>a.reset());class ri{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let an,Y=!1,le=new zt,F=()=>{const a=u.Promise.resolve(void 0);an=()=>{a.then(Me)}};var Me=()=>{for(var a;a=k();){try{a.h.call(a.g)}catch(p){D(p)}var h=er;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}Y=!1};function Re(){this.s=this.s,this.C=this.C}Re.prototype.s=!1,Re.prototype.ma=function(){this.s||(this.s=!0,this.N())},Re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};u.addEventListener("test",p,h),u.removeEventListener("test",p,h)}catch{}return a}();function Bt(a,h){if(Be.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(q){e:{try{$(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:tt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Bt.aa.h.call(this)}}L(Bt,Be);var tt={2:"touch",3:"pen",4:"mouse"};Bt.prototype.h=function(){Bt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),ie=0;function Gs(a,h,p,v,O){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=O,this.key=++ie,this.da=this.fa=!1}function ts(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Qs(a){this.src=a,this.g={},this.h=0}Qs.prototype.add=function(a,h,p,v,O){var U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);var K=Er(a,h,v,O);return-1<K?(h=a[K],p||(h.fa=!1)):(h=new Gs(h,this.src,U,!!v,O),h.fa=p,a.push(h)),h};function _a(a,h){var p=h.type;if(p in a.g){var v=a.g[p],O=Array.prototype.indexOf.call(v,h,void 0),U;(U=0<=O)&&Array.prototype.splice.call(v,O,1),U&&(ts(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Er(a,h,p,v){for(var O=0;O<a.length;++O){var U=a[O];if(!U.da&&U.listener==h&&U.capture==!!p&&U.ha==v)return O}return-1}var Xs="closure_lm_"+(1e6*Math.random()|0),Tr={};function Ir(a,h,p,v,O){if(Array.isArray(h)){for(var U=0;U<h.length;U++)Ir(a,h[U],p,v,O);return null}return p=Dn(p),a&&a[ln]?a.K(h,p,d(v)?!!v.capture:!!v,O):id(a,h,p,!1,v,O)}function id(a,h,p,v,O,U){if(!h)throw Error("Invalid event type");var K=d(O)?!!O.capture:!!O,be=va(a);if(be||(a[Xs]=be=new Qs(a)),p=be.add(h,p,v,K,U),p.proxy)return p;if(v=sd(),p.proxy=v,v.src=a,v.listener=p,a.addEventListener)ct||(O=K),O===void 0&&(O=!1),a.addEventListener(h.toString(),v,O);else if(a.attachEvent)a.attachEvent(du(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function sd(){function a(p){return h.call(a.src,a.listener,p)}const h=od;return a}function hu(a,h,p,v,O){if(Array.isArray(h))for(var U=0;U<h.length;U++)hu(a,h[U],p,v,O);else v=d(v)?!!v.capture:!!v,p=Dn(p),a&&a[ln]?(a=a.i,h=String(h).toString(),h in a.g&&(U=a.g[h],p=Er(U,p,v,O),-1<p&&(ts(U[p]),Array.prototype.splice.call(U,p,1),U.length==0&&(delete a.g[h],a.h--)))):a&&(a=va(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Er(h,p,v,O)),(p=-1<a?h[a]:null)&&ya(p))}function ya(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[ln])_a(h.i,a);else{var p=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(p,v,a.capture):h.detachEvent?h.detachEvent(du(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=va(h))?(_a(p,a),p.h==0&&(p.src=null,h[Xs]=null)):ts(a)}}}function du(a){return a in Tr?Tr[a]:Tr[a]="on"+a}function od(a,h){if(a.da)a=!0;else{h=new Bt(h,this);var p=a.listener,v=a.ha||a.src;a.fa&&ya(a),a=p.call(v,h)}return a}function va(a){return a=a[Xs],a instanceof Qs?a:null}var ii="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(a){return typeof a=="function"?a:(a[ii]||(a[ii]=function(h){return a.handleEvent(h)}),a[ii])}function ht(){Re.call(this),this.i=new Qs(this),this.M=this,this.F=null}L(ht,Re),ht.prototype[ln]=!0,ht.prototype.removeEventListener=function(a,h,p,v){hu(this,a,h,p,v)};function nt(a,h){var p,v=a.F;if(v)for(p=[];v;v=v.F)p.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new Be(h,a);else if(h instanceof Be)h.target=h.target||a;else{var O=h;h=new Be(v,a),C(h,O)}if(O=!0,p)for(var U=p.length-1;0<=U;U--){var K=h.g=p[U];O=Ln(K,v,!0,h)&&O}if(K=h.g=a,O=Ln(K,v,!0,h)&&O,O=Ln(K,v,!1,h)&&O,p)for(U=0;U<p.length;U++)K=h.g=p[U],O=Ln(K,v,!1,h)&&O}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],v=0;v<p.length;v++)ts(p[v]);delete a.g[h],a.h--}}this.F=null},ht.prototype.K=function(a,h,p,v){return this.i.add(String(a),h,!1,p,v)},ht.prototype.L=function(a,h,p,v){return this.i.add(String(a),h,!0,p,v)};function Ln(a,h,p,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,U=0;U<h.length;++U){var K=h[U];if(K&&!K.da&&K.capture==p){var be=K.listener,dt=K.ha||K.src;K.fa&&_a(a.i,K),O=be.call(dt,v)!==!1&&O}}return O&&!v.defaultPrevented}function Sr(a,h,p){if(typeof a=="function")p&&(a=E(a,p));else if(a&&typeof a.handleEvent=="function")a=E(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:u.setTimeout(a,h||0)}function ns(a){a.g=Sr(()=>{a.g=null,a.i&&(a.i=!1,ns(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class ad extends Re{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(a){Re.call(this),this.h=a,this.g={}}L(Ar,Re);var fu=[];function pu(a){Q(a.g,function(h,p){this.g.hasOwnProperty(p)&&ya(h)},a),a.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),pu(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wa=u.JSON.stringify,ld=u.JSON.parse,ud=class{stringify(a){return u.JSON.stringify(a,void 0)}parse(a){return u.JSON.parse(a,void 0)}};function Ea(){}Ea.prototype.h=null;function Ta(a){return a.h||(a.h=a.i())}function rs(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ys(){Be.call(this,"d")}L(Ys,Be);function Ia(){Be.call(this,"c")}L(Ia,Be);var Cr={},mu=null;function Js(){return mu=mu||new ht}Cr.La="serverreachability";function kr(a){Be.call(this,Cr.La,a)}L(kr,Be);function Vn(a){const h=Js();nt(h,new kr(h))}Cr.STAT_EVENT="statevent";function gu(a,h){Be.call(this,Cr.STAT_EVENT,a),this.stat=h}L(gu,Be);function It(a){const h=Js();nt(h,new gu(h,a))}Cr.Ma="timingevent";function _u(a,h){Be.call(this,Cr.Ma,a),this.size=h}L(_u,Be);function is(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){a()},h)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function Sa(a,h,p,v,O,U){a.info(function(){if(a.g)if(U)for(var K="",be=U.split("&"),dt=0;dt<be.length;dt++){var Ie=be[dt].split("=");if(1<Ie.length){var De=Ie[0];Ie=Ie[1];var ft=De.split("_");K=2<=ft.length&&ft[1]=="type"?K+(De+"="+Ie+"&"):K+(De+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+v+") [attempt "+O+"]: "+h+`
`+p+`
`+K})}function oi(a,h,p,v,O,U,K){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+O+"]: "+h+`
`+p+`
`+U+" "+K})}function Mn(a,h,p,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Aa(a,p)+(v?" "+v:"")})}function cd(a,h){a.info(function(){return"TIMEOUT: "+h})}ss.prototype.info=function(){};function Aa(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var v=p[a];if(!(2>v.length)){var O=v[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<O.length;K++)O[K]=""}}}}return wa(p)}catch{return h}}var Zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function ot(){}L(ot,Ea),ot.prototype.g=function(){return new XMLHttpRequest},ot.prototype.i=function(){return{}},tr=new ot;function Je(a,h,p,v){this.j=a,this.i=h,this.l=p,this.R=v||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var yt={},ai={};function nr(a,h,p){a.L=1,a.v=ui(un(h)),a.m=p,a.P=!0,rr(a,null)}function rr(a,h){a.F=Date.now(),li(a),a.A=un(a.v);var p=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Oa(p.i,"t",v),a.C=0,p=a.j.J,a.h=new xt,a.g=Ou(a.j,p?h:null,!a.m),0<a.O&&(a.M=new ad(E(a.Y,a,a.g),a.O)),h=a.U,p=a.g,v=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(fu[0]=O.toString()),O=fu);for(var U=0;U<O.length;U++){var K=Ir(p,O[U],v||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Vn(),Sa(a.i,a.u,a.A,a.l,a.R,a.m)}Je.prototype.ca=function(a){a=a.target;const h=this.M;h&&En(a)==3?h.j():this.Y(a)},Je.prototype.Y=function(a){try{if(a==this.g)e:{const ft=En(this.g);var h=this.g.Ba();const Dr=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||ft!=4||h==7||(h==8||0>=Dr?Vn(3):Vn(2)),eo(this);var p=this.g.Z();this.X=p;t:if(Pr(this)){var v=Ma(this.g);a="";var O=v.length,U=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),br(this);var K="";break t}this.h.i=new u.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,a+=this.h.i.decode(v[h],{stream:!(U&&h==O-1)});v.length=0,this.h.g+=a,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=p==200,oi(this.i,this.u,this.A,this.l,this.R,ft,p),this.o){if(this.T&&!this.K){t:{if(this.g){var be,dt=this.g;if((be=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(be)){var Ie=be;break t}}Ie=null}if(p=Ie)Mn(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,to(this,p);else{this.o=!1,this.s=3,It(12),Fn(this),br(this);break e}}if(this.P){p=!0;let en;for(;!this.J&&this.C<K.length;)if(en=vu(this,K),en==ai){ft==4&&(this.s=4,It(14),p=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==yt){this.s=4,It(15),Mn(this.i,this.l,K,"[Invalid Chunk]"),p=!1;break}else Mn(this.i,this.l,en,null),to(this,en);if(Pr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||K.length!=0||this.h.h||(this.s=1,It(16),p=!1),this.o=this.o&&p,!p)Mn(this.i,this.l,K,"[Invalid Chunked Response]"),Fn(this),br(this);else if(0<K.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),ho(De),De.M=!0,It(11))}}else Mn(this.i,this.l,K,null),to(this,K);ft==4&&Fn(this),this.o&&!this.J&&(ft==4?fo(this.j,this):(this.o=!1,li(this)))}else Au(this.g),p==400&&0<K.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Fn(this),br(this)}}}catch{}finally{}};function Pr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function vu(a,h){var p=a.C,v=h.indexOf(`
`,p);return v==-1?ai:(p=Number(h.substring(p,v)),isNaN(p)?yt:(v+=1,v+p>h.length?ai:(h=h.slice(v,v+p),a.C=v+p,h)))}Je.prototype.cancel=function(){this.J=!0,Fn(this)};function li(a){a.S=Date.now()+a.I,Rr(a,a.I)}function Rr(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=is(E(a.ba,a),h)}function eo(a){a.B&&(u.clearTimeout(a.B),a.B=null)}Je.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(cd(this.i,this.A),this.L!=2&&(Vn(),It(17)),Fn(this),this.s=2,br(this)):Rr(this,this.S-a)};function br(a){a.j.G==0||a.J||fo(a.j,a)}function Fn(a){eo(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,pu(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function to(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||no(p.h,a))){if(!a.K&&no(p.h,a)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var O=v;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Tn(p),ds(p);else break e;fs(p),It(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=is(E(p.Za,p),6e3));if(1>=Pa(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ar(p,11)}else if((a.K||p.g==a)&&Tn(p),!T(h))for(O=p.Da.g.parse(h),h=0;h<O.length;h++){let Ie=O[h];if(p.T=Ie[0],Ie=Ie[1],p.G==2)if(Ie[0]=="c"){p.K=Ie[1],p.ia=Ie[2];const De=Ie[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const ft=Ie[4];ft!=null&&(p.Aa=ft,p.j.info("SVER="+p.Aa));const Dr=Ie[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(v=1.5*Dr,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const en=a.g;if(en){const po=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var U=v.h;U.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ro(U,U.h),U.h=null))}if(v.D){const $a=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(v.ya=$a,Ce(v.I,v.D,$a))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var K=a;if(v.qa=xu(v,v.J?v.ia:null,v.W),K.K){Ra(v.h,K);var be=K,dt=v.L;dt&&(be.I=dt),be.B&&(eo(be),li(be)),v.g=K}else Ru(v);0<p.i.length&&co(p)}else Ie[0]!="stop"&&Ie[0]!="close"||ar(p,7);else p.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?ar(p,7):hs(p):Ie[0]!="noop"&&p.l&&p.l.ta(Ie),p.v=0)}}Vn(4)}catch{}}var wu=class{constructor(a,h){this.g=a,this.map=h}};function Ca(a){this.l=a||10,u.PerformanceNavigationTiming?(a=u.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Pa(a){return a.h?1:a.g?a.g.size:0}function no(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function ro(a,h){a.g?a.g.add(h):a.h=h}function Ra(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Ca.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ba(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return V(a.i)}function Eu(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],p=a.length,v=0;v<p;v++)h.push(a[v]);return h}h=[],p=0;for(v in a)h[p++]=a[v];return h}function yn(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const v in a)h[p++]=v;return h}}}function Ot(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=yn(a),v=Eu(a),O=v.length,U=0;U<O;U++)h.call(void 0,v[U],p&&p[U],a)}var ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yt(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var v=a[p].indexOf("="),O=null;if(0<=v){var U=a[p].substring(0,v);O=a[p].substring(v+1)}else U=a[p];h(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Un(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Un){this.h=a.h,Ht(this,a.j),this.o=a.o,this.g=a.g,vn(this,a.s),this.l=a.l;var h=a.i,p=new hi;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),os(this,p),this.m=a.m}else a&&(h=String(a).match(ir))?(this.h=!1,Ht(this,h[1]||"",!0),this.o=ci(h[2]||""),this.g=ci(h[3]||"",!0),vn(this,h[4]),this.l=ci(h[5]||"",!0),os(this,h[6]||"",!0),this.m=ci(h[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Un.prototype.toString=function(){var a=[],h=this.j;h&&a.push(wn(h,xa,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(wn(h,xa,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(wn(p,p.charAt(0)=="/"?hd:jn,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",wn(p,io)),a.join("")};function un(a){return new Un(a)}function Ht(a,h,p){a.j=p?ci(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function vn(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function os(a,h,p){h instanceof hi?(a.i=h,Tu(a.i,a.h)):(p||(h=wn(h,sr)),a.i=new hi(h,a.h))}function Ce(a,h,p){a.i.set(h,p)}function ui(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ci(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wn(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,Na),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Na(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var xa=/[#\/\?@]/g,jn=/[#\?:]/g,hd=/[#\?]/g,sr=/[#\?@]/g,io=/#/g;function hi(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Jt(a){a.g||(a.g=new Map,a.h=0,a.i&&Yt(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=hi.prototype,t.add=function(a,h){Jt(this),this.i=null,a=Nr(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function so(a,h){Jt(a),h=Nr(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function di(a,h){return Jt(a),h=Nr(a,h),a.g.has(h)}t.forEach=function(a,h){Jt(this),this.g.forEach(function(p,v){p.forEach(function(O){a.call(h,O,v,this)},this)},this)},t.na=function(){Jt(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){const O=a[v];for(let U=0;U<O.length;U++)p.push(h[v])}return p},t.V=function(a){Jt(this);let h=[];if(typeof a=="string")di(this,a)&&(h=h.concat(this.g.get(Nr(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Jt(this),this.i=null,a=Nr(this,a),di(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Oa(a,h,p){so(a,h),0<p.length&&(a.i=null,a.g.set(Nr(a,h),V(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];const U=encodeURIComponent(String(v)),K=this.V(v);for(v=0;v<K.length;v++){var O=U;K[v]!==""&&(O+="="+encodeURIComponent(String(K[v]))),a.push(O)}}return this.i=a.join("&")};function Nr(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Tu(a,h){h&&!a.j&&(Jt(a),a.i=null,a.g.forEach(function(p,v){var O=v.toLowerCase();v!=O&&(so(this,v),Oa(this,O,p))},a)),a.j=h}function fi(a,h){const p=new ss;if(u.Image){const v=new Image;v.onload=R($n,p,"TestLoadImage: loaded",!0,h,v),v.onerror=R($n,p,"TestLoadImage: error",!1,h,v),v.onabort=R($n,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=R($n,p,"TestLoadImage: timeout",!1,h,v),u.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function dd(a,h){const p=new ss,v=new AbortController,O=setTimeout(()=>{v.abort(),$n(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(U=>{clearTimeout(O),U.ok?$n(p,"TestPingServer: ok",!0,h):$n(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),$n(p,"TestPingServer: error",!1,h)})}function $n(a,h,p,v,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),v(p)}catch{}}function Da(){this.g=new ud}function oo(a,h,p){const v=p||"";try{Ot(a,function(O,U){let K=O;d(O)&&(K=wa(O)),h.push(v+U+"="+encodeURIComponent(K))})}catch(O){throw h.push(v+"type="+encodeURIComponent("_badmap")),O}}function xr(a){this.l=a.Ub||null,this.j=a.eb||!1}L(xr,Ea),xr.prototype.g=function(){return new ao(this.l,this.j)},xr.prototype.i=function(a){return function(){return a}}({});function ao(a,h){ht.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ao,ht),t=ao.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,pi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||u).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;as(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function as(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?ls(this):pi(this),this.readyState==3&&as(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ls(this))},t.Qa=function(a){this.g&&(this.response=a,ls(this))},t.ga=function(){this.g&&ls(this)};function ls(a){a.readyState=4,a.l=null,a.j=null,a.v=null,pi(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function pi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function lo(a){let h="";return Q(a,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function us(a,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=lo(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Ce(a,h,p))}function je(a){ht.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(je,ht);var Iu=/^https?$/i,cs=["POST","PUT"];t=je.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?Ta(this.o):Ta(tr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(U){uo(this,U);return}if(a=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var O in v)p.set(O,v[O]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const U of v.keys())p.set(U,v.get(U));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(U=>U.toLowerCase()=="content-type"),O=u.FormData&&a instanceof u.FormData,!(0<=Array.prototype.indexOf.call(cs,h,void 0))||v||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of p)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Su(this),this.u=!0,this.g.send(a),this.u=!1}catch(U){uo(this,U)}};function uo(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,La(a),zn(a)}function La(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,nt(this,"complete"),nt(this,"abort"),zn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zn(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},t.bb=function(){Va(this)};function Va(a){if(a.h&&typeof o<"u"&&(!a.v[1]||En(a)!=4||a.Z()!=2)){if(a.u&&En(a)==4)Sr(a.Ea,0,a);else if(nt(a,"readystatechange"),En(a)==4){a.h=!1;try{const K=a.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=K===0){var O=String(a.D).match(ir)[1]||null;!O&&u.self&&u.self.location&&(O=u.self.location.protocol.slice(0,-1)),v=!Iu.test(O?O.toLowerCase():"")}p=v}if(p)nt(a,"complete"),nt(a,"success");else{a.m=6;try{var U=2<En(a)?a.g.statusText:""}catch{U=""}a.l=U+" ["+a.Z()+"]",La(a)}}finally{zn(a)}}}}function zn(a,h){if(a.g){Su(a);const p=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||nt(a,"ready");try{p.onreadystatechange=v}catch{}}}function Su(a){a.I&&(u.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function En(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),ld(h)}};function Ma(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Au(a){const h={};a=(a.g&&2<=En(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(T(a[v]))continue;var p=b(a[v]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const U=h[O]||[];h[O]=U,U.push(p)}S(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Fa(a){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mi("baseRetryDelayMs",5e3,a),this.cb=mi("retryDelaySeedMs",1e4,a),this.Wa=mi("forwardChannelMaxRetries",2,a),this.wa=mi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ca(a&&a.concurrentRequestLimit),this.Da=new Da,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fa.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,v){It(0),this.W=a,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=xu(this,null,this.W),co(this)};function hs(a){if(Cu(a),a.G==3){var h=a.U++,p=un(a.I);if(Ce(p,"SID",a.K),Ce(p,"RID",h),Ce(p,"TYPE","terminate"),or(a,p),h=new Je(a,a.j,h),h.L=2,h.v=ui(un(p)),p=!1,u.navigator&&u.navigator.sendBeacon)try{p=u.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&u.Image&&(new Image().src=h.v,p=!0),p||(h.g=Ou(h.j,null),h.g.ea(h.v)),h.F=Date.now(),li(h)}Nu(a)}function ds(a){a.g&&(ho(a),a.g.cancel(),a.g=null)}function Cu(a){ds(a),a.u&&(u.clearTimeout(a.u),a.u=null),Tn(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&u.clearTimeout(a.s),a.s=null)}function co(a){if(!ka(a.h)&&!a.s){a.s=!0;var h=a.Ga;an||F(),Y||(an(),Y=!0),le.add(h,a),a.B=0}}function ku(a,h){return Pa(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=is(E(a.Ga,a,h),bu(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new Je(this,this.j,a);let U=this.o;if(this.S&&(U?(U=w(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Pu(this,O,h),p=un(this.I),Ce(p,"RID",a),Ce(p,"CVER",22),this.D&&Ce(p,"X-HTTP-Session-Id",this.D),or(this,p),U&&(this.O?h="headers="+encodeURIComponent(String(lo(U)))+"&"+h:this.m&&us(p,this.m,U)),ro(this.h,O),this.Ua&&Ce(p,"TYPE","init"),this.P?(Ce(p,"$req",h),Ce(p,"SID","null"),O.T=!0,nr(O,p,null)):nr(O,p,h),this.G=2}}else this.G==3&&(a?Ua(this,a):this.i.length==0||ka(this.h)||Ua(this))};function Ua(a,h){var p;h?p=h.l:p=a.U++;const v=un(a.I);Ce(v,"SID",a.K),Ce(v,"RID",p),Ce(v,"AID",a.T),or(a,v),a.m&&a.o&&us(v,a.m,a.o),p=new Je(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Pu(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ro(a.h,p),nr(p,v,h)}function or(a,h){a.H&&Q(a.H,function(p,v){Ce(h,v,p)}),a.l&&Ot({},function(p,v){Ce(h,v,p)})}function Pu(a,h,p){p=Math.min(a.i.length,p);var v=a.l?E(a.l.Na,a.l,a):null;e:{var O=a.i;let U=-1;for(;;){const K=["count="+p];U==-1?0<p?(U=O[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let be=!0;for(let dt=0;dt<p;dt++){let Ie=O[dt].g;const De=O[dt].map;if(Ie-=U,0>Ie)U=Math.max(0,O[dt].g-100),be=!1;else try{oo(De,K,"req"+Ie+"_")}catch{v&&v(De)}}if(be){v=K.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,v}function Ru(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;an||F(),Y||(an(),Y=!0),le.add(h,a),a.v=0}}function fs(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=is(E(a.Fa,a),bu(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ja(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=is(E(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),ds(this),ja(this))};function ho(a){a.A!=null&&(u.clearTimeout(a.A),a.A=null)}function ja(a){a.g=new Je(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=un(a.qa);Ce(h,"RID","rpc"),Ce(h,"SID",a.K),Ce(h,"AID",a.T),Ce(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(h,"TO",a.ja),Ce(h,"TYPE","xmlhttp"),or(a,h),a.m&&a.o&&us(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=ui(un(h)),p.m=null,p.P=!0,rr(p,a)}t.Za=function(){this.C!=null&&(this.C=null,ds(this),fs(this),It(19))};function Tn(a){a.C!=null&&(u.clearTimeout(a.C),a.C=null)}function fo(a,h){var p=null;if(a.g==h){Tn(a),ho(a),a.g=null;var v=2}else if(no(a.h,h))p=h.D,Ra(a.h,h),v=1;else return;if(a.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var O=a.B;v=Js(),nt(v,new _u(v,p)),co(a)}else Ru(a);else if(O=h.s,O==3||O==0&&0<h.X||!(v==1&&ku(a,h)||v==2&&fs(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),O){case 1:ar(a,5);break;case 4:ar(a,10);break;case 3:ar(a,6);break;default:ar(a,2)}}}function bu(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function ar(a,h){if(a.j.info("Error code "+h),h==2){var p=E(a.fb,a),v=a.Xa;const O=!v;v=new Un(v||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ht(v,"https"),ui(v),O?fi(v.toString(),p):dd(v.toString(),p)}else It(2);a.G=0,a.l&&a.l.sa(h),Nu(a),Cu(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Nu(a){if(a.G=0,a.ka=[],a.l){const h=ba(a.h);(h.length!=0||a.i.length!=0)&&(M(a.ka,h),M(a.ka,a.i),a.h.i.length=0,V(a.i),a.i.length=0),a.l.ra()}}function xu(a,h,p){var v=p instanceof Un?un(p):new Un(p);if(v.g!="")h&&(v.g=h+"."+v.g),vn(v,v.s);else{var O=u.location;v=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var U=new Un(null);v&&Ht(U,v),h&&(U.g=h),O&&vn(U,O),p&&(U.l=p),v=U}return p=a.D,h=a.ya,p&&h&&Ce(v,p,h),Ce(v,"VER",a.la),or(a,v),v}function Ou(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new je(new xr({eb:p})):new je(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}t=Du.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ps(){}ps.prototype.g=function(a,h){return new Dt(a,h)};function Dt(a,h){ht.call(this),this.g=new Fa(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!T(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!T(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Zt(this)}L(Dt,ht),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){hs(this.g)},Dt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=wa(a),a=p);h.i.push(new wu(h.Ya++,a)),h.G==3&&co(h)},Dt.prototype.N=function(){this.g.l=null,delete this.j,hs(this.g),delete this.g,Dt.aa.N.call(this)};function Lu(a){Ys.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}L(Lu,Ys);function Or(){Ia.call(this),this.status=1}L(Or,Ia);function Zt(a){this.g=a}L(Zt,Du),Zt.prototype.ua=function(){nt(this.g,"a")},Zt.prototype.ta=function(a){nt(this.g,new Lu(a))},Zt.prototype.sa=function(a){nt(this.g,new Or)},Zt.prototype.ra=function(){nt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,qE=function(){return new ps},WE=function(){return Js()},HE=Cr,mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,bc=Zs,yu.COMPLETE="complete",BE=yu,rs.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",ht.prototype.listen=ht.prototype.K,il=rs,zE=xr,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,$E=je}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new km("@firebase/firestore");function Za(){return $s.logLevel}function re(t,...e){if($s.logLevel<=Te.DEBUG){const n=e.map($m);$s.debug(`Firestore (${fa}): ${t}`,...n)}}function Zr(t,...e){if($s.logLevel<=Te.ERROR){const n=e.map($m);$s.error(`Firestore (${fa}): ${t}`,...n)}}function Zo(t,...e){if($s.logLevel<=Te.WARN){const n=e.map($m);$s.warn(`Firestore (${fa}): ${t}`,...n)}}function $m(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+t;throw Zr(e),new Error(e)}function Ue(t,e){t||he()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ob{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class Db{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lb{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new KE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Ft(e)}}class Vb{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Mb{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ub{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new Fb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=jb(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new _t(0,0))}static max(){return new pe(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends zl{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const $b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends zl{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return $b.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new se(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new se(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new se(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ke.fromString(e))}static fromName(e){return new oe(Ke.fromString(e).popFirst(5))}static empty(){return new oe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ke(e.slice()))}}function zb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Ki(i,oe.empty(),e)}function Bb(t){return new Ki(t.readTime,t.key,-1)}class Ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ki(pe.min(),oe.empty(),-1)}static max(){return new Ki(pe.max(),oe.empty(),-1)}}function Hb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==Wb)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(g=>{o[d]=g,++u,u===s&&r(o)},g=>i(g))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Kb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ou(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zm.oe=-1;function qh(t){return t==null}function mh(t){return t===0&&1/t==-1/0}function Gb(t){return typeof t=="number"&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xy(this.data.getIterator())}getIteratorFrom(e){return new Xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class Xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Pt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XE("Invalid base64 string: "+s):s}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const Qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=Qb.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zs(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hm(t){const e=t.mapValue.fields.__previous_value__;return Bm(e)?Hm(e):e}function Bl(t){const e=Gi(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n,r,i,s,o,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}}class Hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bm(t)?4:Yb(t)?9007199254740991:10:he()}function vr(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gi(i.timestampValue),u=Gi(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zs(i.bytesValue).isEqual(zs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lt(i.doubleValue),u=lt(s.doubleValue);return o===u?mh(o)===mh(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return ea(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Qy(o)!==Qy(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!vr(o[c],u[c])))return!1;return!0}(t,e);default:return he()}}function Wl(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function ta(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=lt(s.integerValue||s.doubleValue),c=lt(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Yy(t.timestampValue,e.timestampValue);case 4:return Yy(Bl(t),Bl(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(s,o){const u=zs(s),c=zs(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),c=o.split("/");for(let d=0;d<u.length&&d<c.length;d++){const g=Pe(u[d],c[d]);if(g!==0)return g}return Pe(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=Pe(lt(s.latitude),lt(o.latitude));return u!==0?u:Pe(lt(s.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const u=s.values||[],c=o.values||[];for(let d=0;d<u.length&&d<c.length;++d){const g=ta(u[d],c[d]);if(g)return g}return Pe(u.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===hc.mapValue&&o===hc.mapValue)return 0;if(s===hc.mapValue)return 1;if(o===hc.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),d=o.fields||{},g=Object.keys(d);c.sort(),g.sort();for(let _=0;_<c.length&&_<g.length;++_){const E=Pe(c[_],g[_]);if(E!==0)return E;const R=ta(u[c[_]],d[g[_]]);if(R!==0)return R}return Pe(c.length,g.length)}(t.mapValue,e.mapValue);default:throw he()}}function Yy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Gi(t),r=Gi(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function na(t){return gp(t)}function gp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=gp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${gp(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function _p(t){return!!t&&"integerValue"in t}function Wm(t){return!!t&&"arrayValue"in t}function Jy(t){return!!t&&"nullValue"in t}function Zy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nc(t){return!!t&&"mapValue"in t}function _l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Yb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=_l(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rn(_l(this.value))}}function YE(t){const e=[];return pa(t.fields,(n,r)=>{const i=new Ct([n]);if(Nc(r)){const s=YE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new jt(e,0,pe.min(),pe.min(),pe.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,pe.min(),pe.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,pe.min(),pe.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function ev(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=ta(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{}class mt extends JE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eN(e,n,r):n==="array-contains"?new rN(e,r):n==="in"?new iN(e,r):n==="not-in"?new sN(e,r):n==="array-contains-any"?new oN(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tN(e,r):new nN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ta(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends JE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wr(e,n)}matches(e){return ZE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ZE(t){return t.op==="and"}function eT(t){return Zb(t)&&ZE(t)}function Zb(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function yp(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+na(t.value);if(eT(t))return t.filters.map(e=>yp(e)).join(",");{const e=t.filters.map(n=>yp(n)).join(",");return`${t.op}(${e})`}}function tT(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&vr(r.value,i.value)}(t,e):t instanceof wr?function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&tT(o,i.filters[u]),!0):!1}(t,e):void he()}function nT(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(nT).join(" ,")+"}"}(t):"Filter"}class eN extends mt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class tN extends mt{constructor(e,n){super(e,"in",n),this.keys=rT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nN extends mt{constructor(e,n){super(e,"not-in",n),this.keys=rT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class rN extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wm(n)&&Wl(n.arrayValue,this.value)}}class iN extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class sN extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wl(this.value.arrayValue,n)}}class oN extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ue=null}}function nv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aN(t,e,n,r,i,s,o)}function qm(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.ue=n}return e.ue}function Km(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tv(t.startAt,e.startAt)&&tv(t.endAt,e.endAt)}function vp(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lN(t,e,n,r,i,s,o,u){return new Kh(t,e,n,r,i,s,o,u)}function iT(t){return new Kh(t)}function rv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uN(t){return t.collectionGroup!==null}function yl(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Pt(Ct.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new _h(s,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new _h(Ct.keyField(),r))}return e.ce}function gr(t){const e=me(t);return e.le||(e.le=cN(e,yl(t))),e.le}function cN(t,e){if(t.limitType==="F")return nv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new _h(i.field,s)});const n=t.endAt?new gh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gh(t.startAt.position,t.startAt.inclusive):null;return nv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wp(t,e,n){return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return Km(gr(t),gr(e))&&t.limitType===e.limitType}function sT(t){return`${qm(gr(t))}|lt:${t.limitType}`}function vo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nT(i)).join(", ")}]`),qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>na(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>na(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function Qh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of yl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,c){const d=ev(o,u,c);return o.inclusive?d<=0:d<0}(r.startAt,yl(r),i)||r.endAt&&!function(o,u,c){const d=ev(o,u,c);return o.inclusive?d>=0:d>0}(r.endAt,yl(r),i))}(t,e)}function hN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oT(t){return(e,n)=>{let r=!1;for(const i of yl(t)){const s=dN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dN(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,u){const c=o.data.field(s),d=u.data.field(s);return c!==null&&d!==null?ta(c,d):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Ye(oe.comparator);function ei(){return fN}const aT=new Ye(oe.comparator);function sl(...t){let e=aT;for(const n of t)e=e.insert(n.key,n);return e}function lT(t){let e=aT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ps(){return vl()}function uT(){return vl()}function vl(){return new ma(t=>t.toString(),(t,e)=>t.isEqual(e))}const pN=new Ye(oe.comparator),mN=new Pt(oe.comparator);function we(...t){let e=mN;for(const n of t)e=e.add(n);return e}const gN=new Pt(Pe);function _N(){return gN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function hT(t){return{integerValue:""+t}}function yN(t,e){return Gb(e)?hT(e):cT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function vN(t,e,n){return t instanceof yh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Bm(s)&&(s=Hm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ql?fT(t,e):t instanceof Kl?pT(t,e):function(i,s){const o=dT(i,s),u=iv(o)+iv(i.Pe);return _p(o)&&_p(i.Pe)?hT(u):cT(i.serializer,u)}(t,e)}function wN(t,e,n){return t instanceof ql?fT(t,e):t instanceof Kl?pT(t,e):n}function dT(t,e){return t instanceof vh?function(r){return _p(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class yh extends Xh{}class ql extends Xh{constructor(e){super(),this.elements=e}}function fT(t,e){const n=mT(e);for(const r of t.elements)n.some(i=>vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kl extends Xh{constructor(e){super(),this.elements=e}}function pT(t,e){let n=mT(e);for(const r of t.elements)n=n.filter(i=>!vr(i,r));return{arrayValue:{values:n}}}class vh extends Xh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function iv(t){return lt(t.integerValue||t.doubleValue)}function mT(t){return Wm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Kl&&i instanceof Kl?ea(r.elements,i.elements,vr):r instanceof vh&&i instanceof vh?vr(r.Pe,i.Pe):r instanceof yh&&i instanceof yh}(t.transform,e.transform)}class TN{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yh{}function gT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yT(t.key,Kr.none()):new au(t.key,t.data,Kr.none());{const n=t.data,r=Rn.empty();let i=new Pt(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qs(t.key,r,new Gn(i.toArray()),Kr.none())}}function IN(t,e,n){t instanceof au?function(i,s,o){const u=i.value.clone(),c=ov(i.fieldTransforms,s,o.transformResults);u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof qs?function(i,s,o){if(!xc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=ov(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(_T(i)),c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wl(t,e,n,r){return t instanceof au?function(s,o,u,c){if(!xc(s.precondition,o))return u;const d=s.value.clone(),g=av(s.fieldTransforms,c,o);return d.setAll(g),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof qs?function(s,o,u,c){if(!xc(s.precondition,o))return u;const d=av(s.fieldTransforms,c,o),g=o.data;return g.setAll(_T(s)),g.setAll(d),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(s,o,u){return xc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function SN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dT(r.transform,i||null);s!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,s))}return n||null}function sv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ea(r,i,(s,o)=>EN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class au extends Yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qs extends Yh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _T(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ov(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,wN(o,u,n[i]))}return r}function av(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vN(s,o,e))}return r}class yT extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AN extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const c=gT(o,u);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(n,r)=>sv(n,r))&&ea(this.baseMutations,e.baseMutations,(n,r)=>sv(n,r))}}class Gm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return pN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Gm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Se;function RN(t){switch(t){default:return he();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function vT(t){if(t===void 0)return Zr("GRPC error has no .code"),H.UNKNOWN;switch(t){case at.OK:return H.OK;case at.CANCELLED:return H.CANCELLED;case at.UNKNOWN:return H.UNKNOWN;case at.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case at.INTERNAL:return H.INTERNAL;case at.UNAVAILABLE:return H.UNAVAILABLE;case at.UNAUTHENTICATED:return H.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case at.NOT_FOUND:return H.NOT_FOUND;case at.ALREADY_EXISTS:return H.ALREADY_EXISTS;case at.PERMISSION_DENIED:return H.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case at.ABORTED:return H.ABORTED;case at.OUT_OF_RANGE:return H.OUT_OF_RANGE;case at.UNIMPLEMENTED:return H.UNIMPLEMENTED;case at.DATA_LOSS:return H.DATA_LOSS;default:return he()}}(Se=at||(at={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new xs([4294967295,4294967295],0);function lv(t){const e=bN().encode(t),n=new jE;return n.update(e),new Uint8Array(n.digest())}function uv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xs([n,r],0),new xs([i,s],0)]}class Qm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(r<0)throw new ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xs.fromNumber(r)));return i.compare(NN)===1&&(i=new xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=lv(e),[r,i]=uv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Qm(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;const n=lv(e),[r,i]=uv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jh(pe.min(),i,new Ye(Pe),ei(),we())}}class lu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lu(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class wT{constructor(e,n){this.targetId=e,this.me=n}}class ET{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cv{constructor(){this.fe=0,this.ge=dv(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=we(),n=we(),r=we();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new lu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=dv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xN{constructor(e){this.Le=e,this.Be=new Map,this.ke=ei(),this.qe=hv(),this.Qe=new Ye(Pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(vp(s))if(r===0){const o=new oe(s.path);this.Ue(n,o,jt.newNoDocument(o,pe.min()))}else Ue(r===1);else{const o=this.Ye(n);if(o!==r){const u=this.Ze(e),c=u?this.Xe(u,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,u;try{o=zs(r).toUint8Array()}catch(c){if(c instanceof XE)return Zo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Qm(o,i,s)}catch(c){return Zo(c instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const u=this.Je(o);if(u){if(s.current&&vp(u.target)){const c=new oe(u.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,jt.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=we();this.qe.forEach((s,o)=>{let u=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jh(e,n,this.Qe,this.ke,r);return this.ke=ei(),this.qe=hv(),this.Qe=new Ye(Pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pt(Pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function hv(){return new Ye(oe.comparator)}function dv(){return new Ye(oe.comparator)}const ON={asc:"ASCENDING",desc:"DESCENDING"},DN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LN={and:"AND",or:"OR"};class VN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ep(t,e){return t.useProto3Json||qh(e)?e:{value:e}}function wh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MN(t,e){return wh(t,e.toTimestamp())}function _r(t){return Ue(!!t),pe.fromTimestamp(function(n){const r=Gi(n);return new _t(r.seconds,r.nanos)}(t))}function Xm(t,e){return Tp(t,e).canonicalString()}function Tp(t,e){const n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IT(t){const e=Ke.fromString(t);return Ue(PT(e)),e}function Ip(t,e){return Xm(t.databaseId,e.path)}function af(t,e){const n=IT(e);if(n.get(1)!==t.databaseId.projectId)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(AT(n))}function ST(t,e){return Xm(t.databaseId,e)}function FN(t){const e=IT(t);return e.length===4?Ke.emptyPath():AT(e)}function Sp(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AT(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fv(t,e,n){return{name:Ip(t,e),fields:n.value.mapValue.fields}}function UN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,g){return d.useProto3Json?(Ue(g===void 0||typeof g=="string"),Nt.fromBase64String(g||"")):(Ue(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Nt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(d){const g=d.code===void 0?H.UNKNOWN:vT(d.code);return new se(g,d.message||"")}(o);n=new ET(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=af(t,r.document.name),s=_r(r.document.updateTime),o=r.document.createTime?_r(r.document.createTime):pe.min(),u=new Rn({mapValue:{fields:r.document.fields}}),c=jt.newFoundDocument(i,s,o,u),d=r.targetIds||[],g=r.removedTargetIds||[];n=new Oc(d,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=af(t,r.document),s=r.readTime?_r(r.readTime):pe.min(),o=jt.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Oc([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=af(t,r.document),s=r.removedTargetIds||[];n=new Oc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new PN(i,s),u=r.targetId;n=new wT(u,o)}}return n}function jN(t,e){let n;if(e instanceof au)n={update:fv(t,e.key,e.value)};else if(e instanceof yT)n={delete:Ip(t,e.key)};else if(e instanceof qs)n={update:fv(t,e.key,e.data),updateMask:QN(e.fieldMask)};else{if(!(e instanceof AN))return he();n={verify:Ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof yh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof vh)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:MN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function $N(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?_r(i.updateTime):_r(s);return o.isEqual(pe.min())&&(o=_r(s)),new TN(o,i.transformResults||[])}(n,e))):[]}function zN(t,e){return{documents:[ST(t,e.path)]}}function BN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ST(t,i);const s=function(d){if(d.length!==0)return kT(wr.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(g=>function(E){return{field:wo(E.field),direction:qN(E.dir)}}(g))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Ep(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function HN(t){let e=FN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(_){const E=CT(_);return E instanceof wr&&eT(E)?E.getFilters():[E]}(n.where));let o=[];n.orderBy&&(o=function(_){return _.map(E=>function(L){return new _h(Eo(L.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(E))}(n.orderBy));let u=null;n.limit&&(u=function(_){let E;return E=typeof _=="object"?_.value:_,qh(E)?null:E}(n.limit));let c=null;n.startAt&&(c=function(_){const E=!!_.before,R=_.values||[];return new gh(R,E)}(n.startAt));let d=null;return n.endAt&&(d=function(_){const E=!_.before,R=_.values||[];return new gh(R,E)}(n.endAt)),lN(e,i,o,s,u,"F",c,d)}function WN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eo(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Eo(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Eo(n.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eo(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Eo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>CT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function qN(t){return ON[t]}function KN(t){return DN[t]}function GN(t){return LN[t]}function wo(t){return{fieldPath:t.canonicalString()}}function Eo(t){return Ct.fromServerFormat(t.fieldPath)}function kT(t){return t instanceof mt?function(n){if(n.op==="=="){if(Zy(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(Jy(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zy(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(Jy(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:KN(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(i=>kT(i));return r.length===1?r[0]:{compositeFilter:{op:GN(n.op),filters:r}}}(t):he()}function QN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,i,s=pe.min(),o=pe.min(),u=Nt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.ct=e}}function YN(t){const e=HN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.an=new ZN}addToCollectionParentIndex(e,n){return this.an.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ki.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class ZN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(Ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new ra(0)}static Bn(){return new ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wl(r.mutation,i,Gn.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sl();return s.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=ei();const o=vl(),u=function(){return vl()}();return n.forEach((c,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof qs)?s=s.insert(d.key,d):g!==void 0?(o.set(d.key,g.mutation.getFieldMask()),wl(g.mutation,d,g.mutation.getFieldMask(),_t.now())):o.set(d.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,g)=>o.set(d,g)),n.forEach((d,g)=>{var _;return u.set(d,new tx(g,(_=o.get(d))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=vl();let i=new Ye((o,u)=>o-u),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let g=r.get(c)||Gn.empty();g=u.applyToLocalView(d,g),r.set(c,g);const _=(i.get(u.batchId)||we()).add(c);i=i.insert(u.batchId,_)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,g=c.value,_=uT();g.forEach(E=>{if(!s.has(E)){const R=gT(n.get(E),r.get(E));R!==null&&_.set(E,R),s=s.add(E)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,_))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(Ps());let u=-1,c=s;return o.next(d=>B.forEach(d,(g,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(g)?B.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{c=c.insert(g,E)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,we())).next(g=>({batchId:u,changes:lT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=sl();return this.indexManager.getCollectionParents(e,s).next(u=>B.forEach(u,c=>{const d=function(_,E){return new Kh(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((_,E)=>{o=o.insert(_,E)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,d)=>{const g=d.getKey();o.get(g)===null&&(o=o.insert(g,jt.newInvalidDocument(g)))});let u=sl();return o.forEach((c,d)=>{const g=s.get(c);g!==void 0&&wl(g.mutation,d,Gn.empty(),_t.now()),Qh(n,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return B.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_r(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:YN(i.bundledQuery),readTime:_r(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.overlays=new Ye(oe.comparator),this.Pr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ps();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Ps(),s=n.length+1,o=new oe(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((d,g)=>d-g);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let g=s.get(d.largestBatchId);g===null&&(g=Ps(),s=s.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const u=Ps(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,g)=>u.set(d,g)),!(u.size()>=i)););return B.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kN(n,r));let s=this.Pr.get(n);s===void 0&&(s=we(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.Ir=new Pt(wt.Tr),this.Er=new Pt(wt.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new wt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new oe(new Ke([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.Er.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new oe(new Ke([])),r=new wt(n,e),i=new wt(n,e+1);let s=we();return this.Er.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return oe.comparator(e.key,n.key)||Pe(e.yr,n.yr)}static dr(e,n){return Pe(e.yr,n.yr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Pt(wt.Tr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CN(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Sr=this.Sr.add(new wt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const u=this.br(o.yr);s.push(u)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Pe);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],u=>{r=r.add(u.yr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new wt(new oe(s),0);let u=new Pt(Pe);return this.Sr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.yr)),!0)},o),B.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return B.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new wt(n,0),i=this.Sr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.Fr=e,this.docs=function(){return new Ye(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=ei();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ei();const o=n.path,u=new oe(o.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:g}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Hb(Bb(g),r)<=0||(i.has(g.key)||Qh(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Mr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lx(this)}getSize(e){return B.resolve(this.size)}}class lx extends ex{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.persistence=e,this.Or=new ma(n=>qm(n),Km),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new Ym,this.targetCount=0,this.Br=ra.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),B.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Qn(n),B.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.kr={},this.overlays={},this.qr=new zm(0),this.Qr=!1,this.Qr=!0,this.Kr=new sx,this.referenceDelegate=e(this),this.$r=new ux(this),this.indexManager=new JN,this.remoteDocumentCache=function(i){return new ax(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new XN(n),this.Wr=new rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ix,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new ox(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new hx(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(s=>this.referenceDelegate.zr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}jr(e,n){return B.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class hx extends qb{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Hr=new Ym,this.Jr=null}static Yr(e){return new Jm(e)}get Zr(){if(this.Jr)return this.Jr;throw he()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Zr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Zr,r=>{const i=oe.fromPath(r);return this.Xr(e,i).next(s=>{s||n.removeEntry(i,pe.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return B.or([()=>B.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return fk()?8:Kb(bt())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dx;return this.Zi(e,n,o).next(u=>{if(s.result=u,this.Gi)return this.Xi(e,n,o,u.size)})}).next(()=>s.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(Za()<=Te.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),B.resolve()):(Za()<=Te.DEBUG&&re("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(Za()<=Te.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):B.resolve())}Ji(e,n){if(rv(n))return B.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wp(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.Hi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.es(n,u);return this.ts(n,d,o,c.readTime)?this.Ji(e,wp(n,null,"F")):this.ns(e,d,n,c)}))})))}Yi(e,n,r,i){return rv(n)||i.isEqual(pe.min())?B.resolve(null):this.Hi.getDocuments(e,r).next(s=>{const o=this.es(n,s);return this.ts(n,o,r,i)?B.resolve(null):(Za()<=Te.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vo(n)),this.ns(e,o,n,zb(i,-1)).next(u=>u))})}es(e,n){let r=new Pt(oT(e));return n.forEach((i,s)=>{Qh(e,s)&&(r=r.add(s))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zi(e,n,r){return Za()<=Te.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",vo(n)),this.Hi.getDocumentsMatchingQuery(e,n,Ki.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new Ye(Pe),this.os=new ma(s=>qm(s),Km),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nx(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function mx(t,e,n,r){return new px(t,e,n,r)}async function RT(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let c=we();for(const d of i){o.push(d.batchId);for(const g of d.mutations)c=c.add(g.key)}for(const d of s){u.push(d.batchId);for(const g of d.mutations)c=c.add(g.key)}return n.localDocuments.getDocuments(r,c).next(d=>({ls:d,removedBatchIds:o,addedBatchIds:u}))})})}function gx(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(u,c,d,g){const _=d.batch,E=_.keys();let R=B.resolve();return E.forEach(L=>{R=R.next(()=>g.getEntry(c,L)).next(V=>{const M=d.docVersions.get(L);Ue(M!==null),V.version.compareTo(M)<0&&(_.applyToRemoteDocument(V,d),V.isValidDocument()&&(V.setReadTime(d.commitVersion),g.addEntry(V)))})}),R.next(()=>u.mutationQueue.removeMutationBatch(c,_))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=we();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bT(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function _x(t,e){const n=me(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const u=[];e.targetChanges.forEach((g,_)=>{const E=i.get(_);if(!E)return;u.push(n.$r.removeMatchingKeys(s,g.removedDocuments,_).next(()=>n.$r.addMatchingKeys(s,g.addedDocuments,_)));let R=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(Nt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):g.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(g.resumeToken,r)),i=i.insert(_,R),function(V,M,A){return V.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(E,R,g)&&u.push(n.$r.updateTargetData(s,R))});let c=ei(),d=we();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),u.push(yx(s,o,e.documentUpdates).next(g=>{c=g.hs,d=g.Ps})),!r.isEqual(pe.min())){const g=n.$r.getLastRemoteSnapshotVersion(s).next(_=>n.$r.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(g)}return B.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.ss=i,s))}function yx(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ei();return n.forEach((u,c)=>{const d=s.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):re("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{hs:o,Ps:i}})}function vx(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wx(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.$r.allocateTargetId(r).next(o=>(i=new bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function Ap(t,e,n){const r=me(t),i=r.ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ou(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function pv(t,e,n){const r=me(t);let i=pe.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,g){const _=me(c),E=_.os.get(g);return E!==void 0?B.resolve(_.ss.get(E)):_.$r.getTargetData(d,g)}(r,o,gr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(o,u.targetId).next(c=>{s=c})}).next(()=>r.rs.getDocumentsMatchingQuery(o,e,n?i:pe.min(),n?s:we())).next(u=>(Ex(r,hN(e),u),{documents:u,Is:s})))}function Ex(t,e,n){let r=t._s.get(e)||pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t._s.set(e,r)}class mv{constructor(){this.activeTargetIds=_N()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tx{constructor(){this.io=new mv,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new mv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function lf(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class Cx extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get vo(){return!1}Fo(n,r,i,s,o){const u=lf(),c=this.Mo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const d={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(d,s,o),this.Oo(n,c,d,i).then(g=>(re("RestConnection",`Received RPC '${n}' ${u}: `,g),g),g=>{throw Zo("RestConnection",`RPC '${n}' ${u} failed with error: `,g,"url: ",c,"request:",i),g})}No(n,r,i,s,o,u){return this.Fo(n,r,i,s,o)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Mo(n,r){const i=Sx[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const s=lf();return new Promise((o,u)=>{const c=new $E;c.setWithCredentials(!0),c.listenOnce(BE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case bc.NO_ERROR:const g=c.getResponseJson();re(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),o(g);break;case bc.TIMEOUT:re(Mt,`RPC '${e}' ${s} timed out`),u(new se(H.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const _=c.getStatus();if(re(Mt,`RPC '${e}' ${s} failed with status:`,_,"response text:",c.getResponseText()),_>0){let E=c.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E==null?void 0:E.error;if(R&&R.status&&R.message){const L=function(M){const A=M.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(A)>=0?A:H.UNKNOWN}(R.status);u(new se(L,R.message))}else u(new se(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new se(H.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{re(Mt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);re(Mt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}Lo(e,n,r){const i=lf(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qE(),u=WE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new zE({})),this.xo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const g=s.join("");re(Mt,`Creating RPC '${e}' stream ${i}: ${g}`,c);const _=o.createWebChannel(g,c);let E=!1,R=!1;const L=new Ax({Po:M=>{R?re(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(E||(re(Mt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),re(Mt,`RPC '${e}' stream ${i} sending:`,M),_.send(M))},Io:()=>_.close()}),V=(M,A,T)=>{M.listen(A,P=>{try{T(P)}catch($){setTimeout(()=>{throw $},0)}})};return V(_,il.EventType.OPEN,()=>{R||(re(Mt,`RPC '${e}' stream ${i} transport opened.`),L.po())}),V(_,il.EventType.CLOSE,()=>{R||(R=!0,re(Mt,`RPC '${e}' stream ${i} transport closed`),L.wo())}),V(_,il.EventType.ERROR,M=>{R||(R=!0,Zo(Mt,`RPC '${e}' stream ${i} transport errored:`,M),L.wo(new se(H.UNAVAILABLE,"The operation could not be completed")))}),V(_,il.EventType.MESSAGE,M=>{var A;if(!R){const T=M.data[0];Ue(!!T);const P=T,$=P.error||((A=P[0])===null||A===void 0?void 0:A.error);if($){re(Mt,`RPC '${e}' stream ${i} received error:`,$);const q=$.status;let Q=function(I){const C=at[I];if(C!==void 0)return vT(C)}(q),S=$.message;Q===void 0&&(Q=H.INTERNAL,S="Unknown error status: "+q+" with message "+$.message),R=!0,L.wo(new se(Q,S)),_.close()}else re(Mt,`RPC '${e}' stream ${i} received:`,T),L.So(T)}}),V(u,HE.STAT_EVENT,M=>{M.stat===mp.PROXY?re(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===mp.NOPROXY&&re(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.yo()},0),L}}function uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){return new VN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r,i,s,o,u,c){this.ai=e,this.jo=r,this.Ho=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new NT(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new se(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kx extends xT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=UN(this.serializer,e),r=function(s){if(!("targetChange"in s))return pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?_r(o.readTime):pe.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=Sp(this.serializer),n.addTarget=function(s,o){let u;const c=o.target;if(u=vp(c)?{documents:zN(s,c)}:{query:BN(s,c)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=TT(s,o.resumeToken);const d=Ep(s,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(pe.min())>0){u.readTime=wh(s,o.snapshotVersion.toTimestamp());const d=Ep(s,o.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=WN(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.__(n)}}class Px extends xT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=$N(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=Sp(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jN(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,Tp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(H.UNKNOWN,s.toString())})}No(e,n,r,i,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.No(e,Tp(n,r),i,o,u,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(H.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class bx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(Zr(n),this.b_=!1):re("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{r.enqueueAndForget(async()=>{Ks(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=me(c);d.N_.add(4),await uu(d),d.k_.set("Unknown"),d.N_.delete(4),await ed(d)}(this))})}),this.k_=new bx(r,i)}}async function ed(t){if(Ks(t))for(const e of t.L_)await e(!0)}async function uu(t){for(const e of t.L_)await e(!1)}function OT(t,e){const n=me(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),rg(n)?ng(n):ga(n).n_()&&tg(n,e))}function eg(t,e){const n=me(t),r=ga(n);n.O_.delete(e),r.n_()&&DT(n,e),n.O_.size===0&&(r.n_()?r.s_():Ks(n)&&n.k_.set("Unknown"))}function tg(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ga(t).d_(e)}function DT(t,e){t.q_.xe(e),ga(t).A_(e)}function ng(t){t.q_=new xN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ga(t).start(),t.k_.D_()}function rg(t){return Ks(t)&&!ga(t).t_()&&t.O_.size>0}function Ks(t){return me(t).N_.size===0}function LT(t){t.q_=void 0}async function xx(t){t.k_.set("Online")}async function Ox(t){t.O_.forEach((e,n)=>{tg(t,e)})}async function Dx(t,e){LT(t),rg(t)?(t.k_.F_(e),ng(t)):t.k_.set("Unknown")}async function Lx(t,e,n){if(t.k_.set("Online"),e instanceof ET&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.O_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.O_.delete(u),i.q_.removeTarget(u))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(t,r)}else if(e instanceof Oc?t.q_.Ke(e):e instanceof wT?t.q_.He(e):t.q_.We(e),!n.isEqual(pe.min()))try{const r=await bT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.q_.rt(o);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const g=s.O_.get(d);g&&s.O_.set(d,g.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,d)=>{const g=s.O_.get(c);if(!g)return;s.O_.set(c,g.withResumeToken(Nt.EMPTY_BYTE_STRING,g.snapshotVersion)),DT(s,c);const _=new bi(g.target,c,d,g.sequenceNumber);tg(s,_)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Eh(t,r)}}async function Eh(t,e,n){if(!ou(e))throw e;t.N_.add(1),await uu(t),t.k_.set("Offline"),n||(n=()=>bT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await ed(t)})}function VT(t,e){return e().catch(n=>Eh(t,n,e))}async function td(t){const e=me(t),n=Qi(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;Vx(e);)try{const i=await vx(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,Mx(e,i)}catch(i){await Eh(e,i)}MT(e)&&FT(e)}function Vx(t){return Ks(t)&&t.x_.length<10}function Mx(t,e){t.x_.push(e);const n=Qi(t);n.n_()&&n.R_&&n.V_(e.mutations)}function MT(t){return Ks(t)&&!Qi(t).t_()&&t.x_.length>0}function FT(t){Qi(t).start()}async function Fx(t){Qi(t).g_()}async function Ux(t){const e=Qi(t);for(const n of t.x_)e.V_(n.mutations)}async function jx(t,e,n){const r=t.x_.shift(),i=Gm.from(r,e,n);await VT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await td(t)}async function $x(t,e){e&&Qi(t).R_&&await async function(r,i){if(function(o){return RN(o)&&o!==H.ABORTED}(i.code)){const s=r.x_.shift();Qi(r).i_(),await VT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await td(r)}}(t,e),MT(t)&&FT(t)}async function _v(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Ks(n);n.N_.add(3),await uu(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await ed(n)}async function zx(t,e){const n=me(t);e?(n.N_.delete(2),await ed(n)):e||(n.N_.add(2),await uu(n),n.k_.set("Unknown"))}function ga(t){return t.Q_||(t.Q_=function(n,r,i){const s=me(n);return s.y_(),new kx(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:xx.bind(null,t),Ao:Ox.bind(null,t),Vo:Dx.bind(null,t),E_:Lx.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),rg(t)?ng(t):t.k_.set("Unknown")):(await t.Q_.stop(),LT(t))})),t.Q_}function Qi(t){return t.K_||(t.K_=function(n,r,i){const s=me(n);return s.y_(),new Px(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:Fx.bind(null,t),Vo:$x.bind(null,t),m_:Ux.bind(null,t),f_:jx.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await td(t)):(await t.K_.stop(),t.x_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new ig(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),ou(t))return new se(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.U_=new Ye(oe.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):he():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,i,s,o,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new ia(e,n,Bo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class Hx{constructor(){this.queries=vv(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=me(n),s=i.queries;i.queries=vv(),s.forEach((o,u)=>{for(const c of u.z_)c.onError(r)})})(this,new se(H.ABORTED,"Firestore shutting down"))}}function vv(){return new ma(t=>sT(t),Gh)}async function Wx(t,e){const n=me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.j_()&&e.H_()&&(r=2):(s=new Bx,r=e.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=sg(o,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.z_.push(e),e.Y_(n.onlineState),s.G_&&e.Z_(s.G_)&&og(n)}async function qx(t,e){const n=me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?i=e.H_()?0:1:!s.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Kx(t,e){const n=me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.z_)u.Z_(i)&&(r=!0);o.G_=i}}r&&og(n)}function Gx(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(e)}function og(t){t.J_.forEach(e=>{e.next()})}var Cp,wv;(wv=Cp||(Cp={})).X_="default",wv.Cache="cache";class Qx{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==Cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.key=e}}class jT{constructor(e){this.key=e}}class Xx{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=we(),this.mutatedKeys=we(),this.da=oT(e),this.Aa=new Bo(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new yv,i=n?n.Aa:this.Aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const E=i.get(g),R=Qh(this.query,_)?_:null,L=!!E&&this.mutatedKeys.has(E.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let M=!1;E&&R?E.data.isEqual(R.data)?L!==V&&(r.track({type:3,doc:R}),M=!0):this.fa(E,R)||(r.track({type:2,doc:R}),M=!0,(c&&this.da(R,c)>0||d&&this.da(R,d)<0)&&(u=!0)):!E&&R?(r.track({type:0,doc:R}),M=!0):E&&!R&&(r.track({type:1,doc:E}),M=!0,(c||d)&&(u=!0)),M&&(R?(o=o.add(R),s=V?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Aa:o,ma:r,ts:u,mutatedKeys:s}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort((g,_)=>function(R,L){const V=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return V(R)-V(L)}(g.type,_.type)||this.da(g.doc,_.doc)),this.ga(r),i=i!=null&&i;const u=n&&!i?this.pa():[],c=this.Ea.size===0&&this.current&&!i?1:0,d=c!==this.Ta;return this.Ta=c,o.length!==0||d?{snapshot:new ia(this.query,e.Aa,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:u}:{ya:u}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new yv,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=we(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new jT(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new UT(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=we();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return ia.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class Yx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jx{constructor(e){this.key=e,this.Da=!1}}class Zx{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new ma(u=>sT(u),Gh),this.Fa=new Map,this.Ma=new Set,this.xa=new Ye(oe.comparator),this.Oa=new Map,this.Na=new Ym,this.La={},this.Ba=new Map,this.ka=ra.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function eO(t,e,n=!0){const r=qT(t);let i;const s=r.va.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await $T(r,e,n,!0),i}async function tO(t,e){const n=qT(t);await $T(n,e,!0,!1)}async function $T(t,e,n,r){const i=await wx(t.localStore,gr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let u;return r&&(u=await nO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&OT(t.remoteStore,i),u}async function nO(t,e,n,r,i){t.Qa=(_,E,R)=>async function(V,M,A,T){let P=M.view.Va(A);P.ts&&(P=await pv(V.localStore,M.query,!1).then(({documents:S})=>M.view.Va(S,P)));const $=T&&T.targetChanges.get(M.targetId),q=T&&T.targetMismatches.get(M.targetId)!=null,Q=M.view.applyChanges(P,V.isPrimaryClient,$,q);return Tv(V,M.targetId,Q.ya),Q.snapshot}(t,_,E,R);const s=await pv(t.localStore,e,!0),o=new Xx(e,s.Is),u=o.Va(s.documents),c=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(u,t.isPrimaryClient,c);Tv(t,n,d.ya);const g=new Yx(e,n,o);return t.va.set(e,g),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),d.snapshot}async function rO(t,e,n){const r=me(t),i=r.va.get(e),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter(o=>!Gh(o,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ap(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eg(r.remoteStore,i.targetId),kp(r,i.targetId)}).catch(su)):(kp(r,i.targetId),await Ap(r.localStore,i.targetId,!0))}async function iO(t,e){const n=me(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eg(n.remoteStore,r.targetId))}async function sO(t,e,n){const r=dO(t);try{const i=await function(o,u){const c=me(o),d=_t.now(),g=u.reduce((R,L)=>R.add(L.key),we());let _,E;return c.persistence.runTransaction("Locally write mutations","readwrite",R=>{let L=ei(),V=we();return c.us.getEntries(R,g).next(M=>{L=M,L.forEach((A,T)=>{T.isValidDocument()||(V=V.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(R,L)).next(M=>{_=M;const A=[];for(const T of u){const P=SN(T,_.get(T.key).overlayedDocument);P!=null&&A.push(new qs(T.key,P,YE(P.value.mapValue),Kr.exists(!0)))}return c.mutationQueue.addMutationBatch(R,d,A,u)}).next(M=>{E=M;const A=M.applyToLocalDocumentSet(_,V);return c.documentOverlayCache.saveOverlays(R,M.batchId,A)})}).then(()=>({batchId:E.batchId,changes:lT(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,c){let d=o.La[o.currentUser.toKey()];d||(d=new Ye(Pe)),d=d.insert(u,c),o.La[o.currentUser.toKey()]=d}(r,i.batchId,n),await cu(r,i.changes),await td(r.remoteStore)}catch(i){const s=sg(i,"Failed to persist write");n.reject(s)}}async function zT(t,e){const n=me(t);try{const r=await _x(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oa.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Da=!0:i.modifiedDocuments.size>0?Ue(o.Da):i.removedDocuments.size>0&&(Ue(o.Da),o.Da=!1))}),await cu(n,r,e)}catch(r){await su(r)}}function Ev(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((s,o)=>{const u=o.view.Y_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const c=me(o);c.onlineState=u;let d=!1;c.queries.forEach((g,_)=>{for(const E of _.z_)E.Y_(u)&&(d=!0)}),d&&og(c)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oO(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),s=i&&i.key;if(s){let o=new Ye(oe.comparator);o=o.insert(s,jt.newNoDocument(s,pe.min()));const u=we().add(s),c=new Jh(pe.min(),new Map,new Ye(Pe),o,u);await zT(r,c),r.xa=r.xa.remove(s),r.Oa.delete(e),ag(r)}else await Ap(r.localStore,e,!1).then(()=>kp(r,e,n)).catch(su)}async function aO(t,e){const n=me(t),r=e.batch.batchId;try{const i=await gx(n.localStore,e);HT(n,r,null),BT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,i)}catch(i){await su(i)}}async function lO(t,e,n){const r=me(t);try{const i=await function(o,u){const c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return c.mutationQueue.lookupMutationBatch(d,u).next(_=>(Ue(_!==null),g=_.keys(),c.mutationQueue.removeMutationBatch(d,_))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,g,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>c.localDocuments.getDocuments(d,g))})}(r.localStore,e);HT(r,e,n),BT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cu(r,i)}catch(i){await su(i)}}function BT(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function HT(t,e,n){const r=me(t);let i=r.La[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function kp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||WT(t,r)})}function WT(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(eg(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),ag(t))}function Tv(t,e,n){for(const r of n)r instanceof UT?(t.Na.addReference(r.key,e),uO(t,r)):r instanceof jT?(re("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||WT(t,r.key)):he()}function uO(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(re("SyncEngine","New document in limbo: "+n),t.Ma.add(r),ag(t))}function ag(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new oe(Ke.fromString(e)),r=t.ka.next();t.Oa.set(r,new Jx(n)),t.xa=t.xa.insert(n,r),OT(t.remoteStore,new bi(gr(iT(n.path)),r,"TargetPurposeLimboResolution",zm.oe))}}async function cu(t,e,n){const r=me(t),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach((u,c)=>{o.push(r.Qa(c,e,n).then(d=>{var g;if((d||n)&&r.isPrimaryClient){const _=d?!d.fromCache:(g=n==null?void 0:n.targetChanges.get(c.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(c.targetId,_?"current":"not-current")}if(d){i.push(d);const _=Zm.Ui(c.targetId,d);s.push(_)}}))}),await Promise.all(o),r.Ca.E_(i),await async function(c,d){const g=me(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>B.forEach(d,E=>B.forEach(E.Ki,R=>g.persistence.referenceDelegate.addReference(_,E.targetId,R)).next(()=>B.forEach(E.$i,R=>g.persistence.referenceDelegate.removeReference(_,E.targetId,R)))))}catch(_){if(!ou(_))throw _;re("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of d){const E=_.targetId;if(!_.fromCache){const R=g.ss.get(E),L=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(L);g.ss=g.ss.insert(E,V)}}}(r.localStore,s))}async function cO(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await RT(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(u=>{u.forEach(c=>{c.reject(new se(H.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(n,r.ls)}}function hO(t,e){const n=me(t),r=n.Oa.get(e);if(r&&r.Da)return we().add(r.key);{let i=we();const s=n.Fa.get(e);if(!s)return i;for(const o of s){const u=n.va.get(o);i=i.unionWith(u.view.Ra)}return i}}function qT(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oO.bind(null,e),e.Ca.E_=Kx.bind(null,e.eventManager),e.Ca.Ka=Gx.bind(null,e.eventManager),e}function dO(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lO.bind(null,e),e}class Iv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mx(this.persistence,new fx,e.initialUser,this.serializer)}createPersistence(e){return new cx(Jm.Yr,this.serializer)}createSharedClientState(e){return new Tx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ev(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cO.bind(null,this.syncEngine),await zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hx}()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),r=function(s){return new Cx(s)}(e.databaseInfo);return function(s,o,u,c){return new Rx(s,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new Nx(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Ev(this.syncEngine,n,0),function(){return gv.D()?new gv:new Ix}())}createSyncEngine(e,n){return function(i,s,o,u,c,d,g){const _=new Zx(i,s,o,u,c,d);return g&&(_.qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=me(i);re("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await uu(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=GE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cf(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Sv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _O(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_v(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_v(e.remoteStore,i)),t._onlineComponents=e}function gO(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _O(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await cf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!gO(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await cf(t,new Iv)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await cf(t,new Iv);return t._offlineComponents}async function KT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await Sv(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await Sv(t,new fO))),t._onlineComponents}function yO(t){return KT(t).then(e=>e.syncEngine)}async function vO(t){const e=await KT(t),n=e.eventManager;return n.onListen=eO.bind(null,e.syncEngine),n.onUnlisten=rO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iO.bind(null,e.syncEngine),n}function wO(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,c,d){const g=new pO({next:E=>{o.enqueueAndForget(()=>qx(s,_)),E.fromCache&&c.source==="server"?d.reject(new se(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(E)},error:E=>d.reject(E)}),_=new Qx(u,g,{includeMetadataChanges:!0,oa:!0});return Wx(s,_)}(await vO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t,e,n){if(!n)throw new se(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EO(t,e,n,r){if(e===!0&&r===!0)throw new se(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cv(t){if(!oe.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kv(t){if(oe.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Th(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lg(t);throw new se(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ob;switch(r.type){case"firstParty":return new Mb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Av.get(n);r&&(re("ComponentProvider","Removing Datastore"),Av.delete(n),r.terminate())}(this),Promise.resolve()}}function TO(t,e,n,r={}){var i;const s=(t=Th(t,nd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Ft.MOCK_USER;else{u=ak(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new se(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ft(d)}t._authCredentials=new Db(new KE(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rd(this.firestore,e,this._query)}}class Jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Hi extends rd{constructor(e,n,r){super(e,n,iT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new oe(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function XT(t,e,...n){if(t=mn(t),QT("collection","path",e),t instanceof nd){const r=Ke.fromString(e,...n);return kv(r),new Hi(t,null,r)}{if(!(t instanceof Jn||t instanceof Hi))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return kv(r),new Hi(t.firestore,null,r)}}function IO(t,e,...n){if(t=mn(t),arguments.length===1&&(e=GE.newId()),QT("doc","path",e),t instanceof nd){const r=Ke.fromString(e,...n);return Cv(r),new Jn(t,null,new oe(r))}{if(!(t instanceof Jn||t instanceof Hi))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return Cv(r),new Jn(t.firestore,t instanceof Hi?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new NT(this,"async_queue_retry"),this.Tu=()=>{const n=uf();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=uf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new Bi;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!ou(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw Zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=ig.createAndSchedule(this,e,n,r,s=>this.Ru(s));return this.cu.push(i),i}Eu(){this.lu&&he()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}class ug extends nd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new SO}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||JT(this),this._firestoreClient.terminate()}}function AO(t,e){const n=typeof t=="object"?t:aE(),r=typeof t=="string"?t:"(default)",i=Rm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sk("firestore");s&&TO(i,...s)}return i}function YT(t){return t._firestoreClient||JT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JT(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,d,g){return new Xb(u,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,GT(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new mO(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(Nt.fromBase64String(e))}catch(n){throw new se(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sa(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^__.*__$/;class kO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function eI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class dg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return Ih(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(eI(this.yu)&&CO.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class PO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zh(e)}Ou(e,n,r,i=!1){return new dg({yu:e,methodName:n,xu:r,path:Ct.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RO(t){const e=t._freezeSettings(),n=Zh(t._databaseId);return new PO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bO(t,e,n,r,i,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,i);iI("Data must be an object, but it was:",o,r);const u=nI(r,o);let c,d;if(s.merge)c=new Gn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const _ of s.mergeFields){const E=NO(e,_,n);if(!o.contains(E))throw new se(H.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);OO(g,E)||g.push(E)}c=new Gn(g),d=o.fieldTransforms.filter(_=>c.covers(_.field))}else c=null,d=o.fieldTransforms;return new kO(new Rn(u),c,d)}function tI(t,e){if(rI(t=mn(t)))return iI("Unsupported field value:",e,t),nI(t,e);if(t instanceof ZT)return function(r,i){if(!eI(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let c=tI(u,i.vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_t.fromDate(r);return{timestampValue:wh(i.serializer,s)}}if(r instanceof _t){const s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(i.serializer,s)}}if(r instanceof hg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sa)return{bytesValue:TT(i.serializer,r._byteString)};if(r instanceof Jn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${lg(r)}`)}(t,e)}function nI(t,e){const n={};return QE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(t,(r,i)=>{const s=tI(i,e.Su(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof hg||t instanceof sa||t instanceof Jn||t instanceof ZT)}function iI(t,e,n){if(!rI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lg(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function NO(t,e,n){if((e=mn(e))instanceof cg)return e._internalPath;if(typeof e=="string")return sI(t,e);throw Ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const xO=new RegExp("[~\\*/\\[\\]]");function sI(t,e,n){if(e.search(xO)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cg(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ih(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new se(H.INVALID_ARGUMENT,u+t+c)}function OO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DO extends oI{data(){return super.data()}}function aI(t,e){return typeof e=="string"?sI(t,e):e instanceof cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VO{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new hg(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Ue(PT(r));const i=new Hl(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||Zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FO extends oI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dc extends FO{data(e={}){return super.data(e)}}class UO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dc(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const c=new Dc(i._firestore,i._userDataWriter,u.doc.key,u.doc,new fc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Dc(i._firestore,i._userDataWriter,u.doc.key,u.doc,new fc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),g=o.indexOf(u.doc.key)),{type:jO(u.type),doc:c,oldIndex:d,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}class $O extends VO{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}function zO(t){t=Th(t,rd);const e=Th(t.firestore,ug),n=YT(e),r=new $O(e);return LO(t._query),wO(n,t._query).then(i=>new UO(e,r,t,i))}function BO(t,e){const n=Th(t.firestore,ug),r=IO(t),i=MO(t.converter,e);return HO(n,[bO(RO(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}function HO(t,e){return function(r,i){const s=new Bi;return r.asyncQueue.enqueueAndForget(async()=>sO(await yO(r),i,s)),s.promise}(YT(t),e)}(function(e,n=!0){(function(i){fa=i})(ha),Yo(new Fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new ug(new Lb(r.getProvider("auth-internal")),new Ub(r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new se(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(d.options.projectId,g)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),zi(Gy,"4.6.5",e),zi(Gy,"4.6.5","esm2017")})();const WO={apiKey:"AIzaSyBLt3QT4tQ6vzon_Q46X7U9Gdwrl9LRN3w",authDomain:"apprutas-3af1f.firebaseapp.com",projectId:"apprutas-3af1f",storageBucket:"apprutas-3af1f.appspot.com",messagingSenderId:"881015801811",appId:"1:881015801811:web:849cddeaf1795104ef9126"},lI=oE(WO),Pp=Rb(lI),qO=new Ur,uI=AO(lI),KO=({onLoginSuccess:t})=>{const e=async()=>{try{const n=await FR(Pp,qO);console.log("Login successful, updating state"),t()}catch(n){console.error("Error signing in with Google:",n)}};return Z.jsx("div",{className:"login-container",children:Z.jsx("button",{onClick:e,className:"btn btn-primary",children:"Sign in with Google"})})},GO=()=>{const[t,e]=X.useState(""),[n,r]=X.useState(""),[i,s]=X.useState(""),[o,u]=X.useState(""),[c,d]=X.useState(""),[g,_]=X.useState(""),[E,R]=X.useState(""),L=async V=>{V.preventDefault();try{await BO(XT(uI,"rutas"),{name:t,longitude:n,latitude:i,municipality:o,department:c}),R("Route saved successfully!"),e(""),r(""),s(""),u(""),d("")}catch(M){_("Error saving route: "+M.message)}};return Z.jsxs("div",{className:"container mt-5",children:[Z.jsx("h2",{className:"text-center mb-4",children:"Registrar Ruta"}),E&&Z.jsx("div",{className:"alert alert-success",children:E}),g&&Z.jsx("div",{className:"alert alert-danger",children:g}),Z.jsxs("form",{onSubmit:L,children:[Z.jsxs("div",{className:"mb-3",children:[Z.jsx("label",{htmlFor:"name",className:"form-label",children:"Nombre"}),Z.jsx("input",{type:"text",className:"form-control",id:"name",value:t,onChange:V=>e(V.target.value),required:!0})]}),Z.jsxs("div",{className:"mb-3",children:[Z.jsx("label",{htmlFor:"longitude",className:"form-label",children:"Longitud"}),Z.jsx("input",{type:"text",className:"form-control",id:"longitude",value:n,onChange:V=>r(V.target.value),required:!0})]}),Z.jsxs("div",{className:"mb-3",children:[Z.jsx("label",{htmlFor:"latitude",className:"form-label",children:"Latitud"}),Z.jsx("input",{type:"text",className:"form-control",id:"latitude",value:i,onChange:V=>s(V.target.value),required:!0})]}),Z.jsxs("div",{className:"mb-3",children:[Z.jsx("label",{htmlFor:"municipality",className:"form-label",children:"Municipio"}),Z.jsx("input",{type:"text",className:"form-control",id:"municipality",value:o,onChange:V=>u(V.target.value),required:!0})]}),Z.jsxs("div",{className:"mb-3",children:[Z.jsx("label",{htmlFor:"department",className:"form-label",children:"Departamento"}),Z.jsx("input",{type:"text",className:"form-control",id:"department",value:c,onChange:V=>d(V.target.value),required:!0})]}),Z.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Guardar Ruta"})]})]})},QO=()=>{const[t,e]=X.useState([]);return X.useEffect(()=>{(async()=>{try{const i=(await zO(XT(uI,"routes"))).docs.map(s=>({id:s.id,...s.data()}));e(i)}catch(r){console.error("Error fetching routes:",r)}})()},[]),Z.jsxs("div",{className:"container mt-4",children:[Z.jsx("h2",{children:"Lista de Rutas"}),Z.jsx("div",{className:"table-responsive",children:Z.jsxs("table",{className:"table table-striped table-responsive",children:[Z.jsx("thead",{children:Z.jsxs("tr",{children:[Z.jsx("th",{children:"ID"}),Z.jsx("th",{children:"Nombre del Local"}),Z.jsx("th",{children:"Ubicacin"}),Z.jsx("th",{children:"Municipio"}),Z.jsx("th",{children:"Departamento"})]})}),Z.jsx("tbody",{children:t.map(n=>Z.jsxs("tr",{children:[Z.jsx("td",{children:n.id}),Z.jsx("td",{children:n.localName}),Z.jsx("td",{children:n.location}),Z.jsx("td",{children:n.municipality}),Z.jsx("td",{children:n.department})]},n.id))})]})})]})};var XO={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(C1,function(){const n=new Map,r={set(m,l,f){n.has(m)||n.set(m,new Map);const y=n.get(m);y.has(l)||y.size===0?y.set(l,f):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(m,l)=>n.has(m)&&n.get(m).get(l)||null,remove(m,l){if(!n.has(m))return;const f=n.get(m);f.delete(l),f.size===0&&n.delete(m)}},i="transitionend",s=m=>(m&&window.CSS&&window.CSS.escape&&(m=m.replace(/#([^\s"#']+)/g,(l,f)=>`#${CSS.escape(f)}`)),m),o=m=>{m.dispatchEvent(new Event(i))},u=m=>!(!m||typeof m!="object")&&(m.jquery!==void 0&&(m=m[0]),m.nodeType!==void 0),c=m=>u(m)?m.jquery?m[0]:m:typeof m=="string"&&m.length>0?document.querySelector(s(m)):null,d=m=>{if(!u(m)||m.getClientRects().length===0)return!1;const l=getComputedStyle(m).getPropertyValue("visibility")==="visible",f=m.closest("details:not([open])");if(!f)return l;if(f!==m){const y=m.closest("summary");if(y&&y.parentNode!==f||y===null)return!1}return l},g=m=>!m||m.nodeType!==Node.ELEMENT_NODE||!!m.classList.contains("disabled")||(m.disabled!==void 0?m.disabled:m.hasAttribute("disabled")&&m.getAttribute("disabled")!=="false"),_=m=>{if(!document.documentElement.attachShadow)return null;if(typeof m.getRootNode=="function"){const l=m.getRootNode();return l instanceof ShadowRoot?l:null}return m instanceof ShadowRoot?m:m.parentNode?_(m.parentNode):null},E=()=>{},R=m=>{m.offsetHeight},L=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,V=[],M=()=>document.documentElement.dir==="rtl",A=m=>{var l;l=()=>{const f=L();if(f){const y=m.NAME,N=f.fn[y];f.fn[y]=m.jQueryInterface,f.fn[y].Constructor=m,f.fn[y].noConflict=()=>(f.fn[y]=N,m.jQueryInterface)}},document.readyState==="loading"?(V.length||document.addEventListener("DOMContentLoaded",()=>{for(const f of V)f()}),V.push(l)):l()},T=(m,l=[],f=m)=>typeof m=="function"?m(...l):f,P=(m,l,f=!0)=>{if(!f)return void T(m);const y=(j=>{if(!j)return 0;let{transitionDuration:z,transitionDelay:G}=window.getComputedStyle(j);const ee=Number.parseFloat(z),ne=Number.parseFloat(G);return ee||ne?(z=z.split(",")[0],G=G.split(",")[0],1e3*(Number.parseFloat(z)+Number.parseFloat(G))):0})(l)+5;let N=!1;const x=({target:j})=>{j===l&&(N=!0,l.removeEventListener(i,x),T(m))};l.addEventListener(i,x),setTimeout(()=>{N||o(l)},y)},$=(m,l,f,y)=>{const N=m.length;let x=m.indexOf(l);return x===-1?!f&&y?m[N-1]:m[0]:(x+=f?1:-1,y&&(x=(x+N)%N),m[Math.max(0,Math.min(x,N-1))])},q=/[^.]*(?=\..*)\.|.*/,Q=/\..*/,S=/::\d+$/,w={};let I=1;const C={mouseenter:"mouseover",mouseleave:"mouseout"},b=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function D(m,l){return l&&`${l}::${I++}`||m.uidEvent||I++}function k(m){const l=D(m);return m.uidEvent=l,w[l]=w[l]||{},w[l]}function zt(m,l,f=null){return Object.values(m).find(y=>y.callable===l&&y.delegationSelector===f)}function er(m,l,f){const y=typeof l=="string",N=y?f:l||f;let x=le(m);return b.has(x)||(x=m),[y,N,x]}function ri(m,l,f,y,N){if(typeof l!="string"||!m)return;let[x,j,z]=er(l,f,y);l in C&&(j=(de=>function(ue){if(!ue.relatedTarget||ue.relatedTarget!==ue.delegateTarget&&!ue.delegateTarget.contains(ue.relatedTarget))return de.call(this,ue)})(j));const G=k(m),ee=G[z]||(G[z]={}),ne=zt(ee,j,x?f:null);if(ne)return void(ne.oneOff=ne.oneOff&&N);const J=D(j,l.replace(q,"")),ge=x?function(ae,de,ue){return function fe(Le){const $e=ae.querySelectorAll(de);for(let{target:ye}=Le;ye&&ye!==this;ye=ye.parentNode)for(const ke of $e)if(ke===ye)return Me(Le,{delegateTarget:ye}),fe.oneOff&&F.off(ae,Le.type,de,ue),ue.apply(ye,[Le])}}(m,f,j):function(ae,de){return function ue(fe){return Me(fe,{delegateTarget:ae}),ue.oneOff&&F.off(ae,fe.type,de),de.apply(ae,[fe])}}(m,j);ge.delegationSelector=x?f:null,ge.callable=j,ge.oneOff=N,ge.uidEvent=J,ee[J]=ge,m.addEventListener(z,ge,x)}function an(m,l,f,y,N){const x=zt(l[f],y,N);x&&(m.removeEventListener(f,x,!!N),delete l[f][x.uidEvent])}function Y(m,l,f,y){const N=l[f]||{};for(const[x,j]of Object.entries(N))x.includes(y)&&an(m,l,f,j.callable,j.delegationSelector)}function le(m){return m=m.replace(Q,""),C[m]||m}const F={on(m,l,f,y){ri(m,l,f,y,!1)},one(m,l,f,y){ri(m,l,f,y,!0)},off(m,l,f,y){if(typeof l!="string"||!m)return;const[N,x,j]=er(l,f,y),z=j!==l,G=k(m),ee=G[j]||{},ne=l.startsWith(".");if(x===void 0){if(ne)for(const J of Object.keys(G))Y(m,G,J,l.slice(1));for(const[J,ge]of Object.entries(ee)){const ae=J.replace(S,"");z&&!l.includes(ae)||an(m,G,j,ge.callable,ge.delegationSelector)}}else{if(!Object.keys(ee).length)return;an(m,G,j,x,N?f:null)}},trigger(m,l,f){if(typeof l!="string"||!m)return null;const y=L();let N=null,x=!0,j=!0,z=!1;l!==le(l)&&y&&(N=y.Event(l,f),y(m).trigger(N),x=!N.isPropagationStopped(),j=!N.isImmediatePropagationStopped(),z=N.isDefaultPrevented());const G=Me(new Event(l,{bubbles:x,cancelable:!0}),f);return z&&G.preventDefault(),j&&m.dispatchEvent(G),G.defaultPrevented&&N&&N.preventDefault(),G}};function Me(m,l={}){for(const[f,y]of Object.entries(l))try{m[f]=y}catch{Object.defineProperty(m,f,{configurable:!0,get:()=>y})}return m}function Re(m){if(m==="true")return!0;if(m==="false")return!1;if(m===Number(m).toString())return Number(m);if(m===""||m==="null")return null;if(typeof m!="string")return m;try{return JSON.parse(decodeURIComponent(m))}catch{return m}}function Be(m){return m.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const ct={setDataAttribute(m,l,f){m.setAttribute(`data-bs-${Be(l)}`,f)},removeDataAttribute(m,l){m.removeAttribute(`data-bs-${Be(l)}`)},getDataAttributes(m){if(!m)return{};const l={},f=Object.keys(m.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of f){let N=y.replace(/^bs/,"");N=N.charAt(0).toLowerCase()+N.slice(1,N.length),l[N]=Re(m.dataset[y])}return l},getDataAttribute:(m,l)=>Re(m.getAttribute(`data-bs-${Be(l)}`))};class Bt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,f){const y=u(f)?ct.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...u(f)?ct.getDataAttributes(f):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,f=this.constructor.DefaultType){for(const[N,x]of Object.entries(f)){const j=l[N],z=u(j)?"element":(y=j)==null?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(x).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${N}" provided type "${z}" but expected type "${x}".`)}var y}}class tt extends Bt{constructor(l,f){super(),(l=c(l))&&(this._element=l,this._config=this._getConfig(f),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),F.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,f,y=!0){P(l,f,y)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return r.get(c(l),this.DATA_KEY)}static getOrCreateInstance(l,f={}){return this.getInstance(l)||new this(l,typeof f=="object"?f:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const ln=m=>{let l=m.getAttribute("data-bs-target");if(!l||l==="#"){let f=m.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),l=f&&f!=="#"?f.trim():null}return l?l.split(",").map(f=>s(f)).join(","):null},ie={find:(m,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,m)),findOne:(m,l=document.documentElement)=>Element.prototype.querySelector.call(l,m),children:(m,l)=>[].concat(...m.children).filter(f=>f.matches(l)),parents(m,l){const f=[];let y=m.parentNode.closest(l);for(;y;)f.push(y),y=y.parentNode.closest(l);return f},prev(m,l){let f=m.previousElementSibling;for(;f;){if(f.matches(l))return[f];f=f.previousElementSibling}return[]},next(m,l){let f=m.nextElementSibling;for(;f;){if(f.matches(l))return[f];f=f.nextElementSibling}return[]},focusableChildren(m){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(l,m).filter(f=>!g(f)&&d(f))},getSelectorFromElement(m){const l=ln(m);return l&&ie.findOne(l)?l:null},getElementFromSelector(m){const l=ln(m);return l?ie.findOne(l):null},getMultipleElementsFromSelector(m){const l=ln(m);return l?ie.find(l):[]}},Gs=(m,l="hide")=>{const f=`click.dismiss${m.EVENT_KEY}`,y=m.NAME;F.on(document,f,`[data-bs-dismiss="${y}"]`,function(N){if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),g(this))return;const x=ie.getElementFromSelector(this)||this.closest(`.${y}`);m.getOrCreateInstance(x)[l]()})},ts=".bs.alert",Qs=`close${ts}`,_a=`closed${ts}`;class Er extends tt{static get NAME(){return"alert"}close(){if(F.trigger(this._element,Qs).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),F.trigger(this._element,_a),this.dispose()}static jQueryInterface(l){return this.each(function(){const f=Er.getOrCreateInstance(this);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l](this)}})}}Gs(Er,"close"),A(Er);const Xs='[data-bs-toggle="button"]';class Tr extends tt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const f=Tr.getOrCreateInstance(this);l==="toggle"&&f[l]()})}}F.on(document,"click.bs.button.data-api",Xs,m=>{m.preventDefault();const l=m.target.closest(Xs);Tr.getOrCreateInstance(l).toggle()}),A(Tr);const Ir=".bs.swipe",id=`touchstart${Ir}`,sd=`touchmove${Ir}`,hu=`touchend${Ir}`,ya=`pointerdown${Ir}`,du=`pointerup${Ir}`,od={endCallback:null,leftCallback:null,rightCallback:null},va={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ii extends Bt{constructor(l,f){super(),this._element=l,l&&ii.isSupported()&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return od}static get DefaultType(){return va}static get NAME(){return"swipe"}dispose(){F.off(this._element,Ir)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),T(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const f=l/this._deltaX;this._deltaX=0,f&&T(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(F.on(this._element,ya,l=>this._start(l)),F.on(this._element,du,l=>this._end(l)),this._element.classList.add("pointer-event")):(F.on(this._element,id,l=>this._start(l)),F.on(this._element,sd,l=>this._move(l)),F.on(this._element,hu,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType==="pen"||l.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Dn=".bs.carousel",ht=".data-api",nt="next",Ln="prev",Sr="left",ns="right",ad=`slide${Dn}`,Ar=`slid${Dn}`,fu=`keydown${Dn}`,pu=`mouseenter${Dn}`,wa=`mouseleave${Dn}`,ld=`dragstart${Dn}`,ud=`load${Dn}${ht}`,Ea=`click${Dn}${ht}`,Ta="carousel",rs="active",si=".active",Ys=".carousel-item",Ia=si+Ys,Cr={ArrowLeft:ns,ArrowRight:Sr},mu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Js={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class kr extends tt{constructor(l,f){super(l,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ie.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ta&&this.cycle()}static get Default(){return mu}static get DefaultType(){return Js}static get NAME(){return"carousel"}next(){this._slide(nt)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(Ln)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?F.one(this._element,Ar,()=>this.cycle()):this.cycle())}to(l){const f=this._getItems();if(l>f.length-1||l<0)return;if(this._isSliding)return void F.one(this._element,Ar,()=>this.to(l));const y=this._getItemIndex(this._getActive());if(y===l)return;const N=l>y?nt:Ln;this._slide(N,f[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&F.on(this._element,fu,l=>this._keydown(l)),this._config.pause==="hover"&&(F.on(this._element,pu,()=>this.pause()),F.on(this._element,wa,()=>this._maybeEnableCycle())),this._config.touch&&ii.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of ie.find(".carousel-item img",this._element))F.on(f,ld,y=>y.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(Sr)),rightCallback:()=>this._slide(this._directionToOrder(ns)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ii(this._element,l)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const f=Cr[l.key];f&&(l.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const f=ie.findOne(si,this._indicatorsElement);f.classList.remove(rs),f.removeAttribute("aria-current");const y=ie.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);y&&(y.classList.add(rs),y.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const f=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(l,f=null){if(this._isSliding)return;const y=this._getActive(),N=l===nt,x=f||$(this._getItems(),y,N,this._config.wrap);if(x===y)return;const j=this._getItemIndex(x),z=J=>F.trigger(this._element,J,{relatedTarget:x,direction:this._orderToDirection(l),from:this._getItemIndex(y),to:j});if(z(ad).defaultPrevented||!y||!x)return;const G=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(j),this._activeElement=x;const ee=N?"carousel-item-start":"carousel-item-end",ne=N?"carousel-item-next":"carousel-item-prev";x.classList.add(ne),R(x),y.classList.add(ee),x.classList.add(ee),this._queueCallback(()=>{x.classList.remove(ee,ne),x.classList.add(rs),y.classList.remove(rs,ne,ee),this._isSliding=!1,z(Ar)},y,this._isAnimated()),G&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ie.findOne(Ia,this._element)}_getItems(){return ie.find(Ys,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return M()?l===Sr?Ln:nt:l===Sr?nt:Ln}_orderToDirection(l){return M()?l===Ln?Sr:ns:l===Ln?ns:Sr}static jQueryInterface(l){return this.each(function(){const f=kr.getOrCreateInstance(this,l);if(typeof l!="number"){if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l]()}}else f.to(l)})}}F.on(document,Ea,"[data-bs-slide], [data-bs-slide-to]",function(m){const l=ie.getElementFromSelector(this);if(!l||!l.classList.contains(Ta))return;m.preventDefault();const f=kr.getOrCreateInstance(l),y=this.getAttribute("data-bs-slide-to");return y?(f.to(y),void f._maybeEnableCycle()):ct.getDataAttribute(this,"slide")==="next"?(f.next(),void f._maybeEnableCycle()):(f.prev(),void f._maybeEnableCycle())}),F.on(window,ud,()=>{const m=ie.find('[data-bs-ride="carousel"]');for(const l of m)kr.getOrCreateInstance(l)}),A(kr);const Vn=".bs.collapse",gu=`show${Vn}`,It=`shown${Vn}`,_u=`hide${Vn}`,is=`hidden${Vn}`,ss=`click${Vn}.data-api`,Sa="show",oi="collapse",Mn="collapsing",cd=`:scope .${oi} .${oi}`,Aa='[data-bs-toggle="collapse"]',Zs={parent:null,toggle:!0},yu={parent:"(null|element)",toggle:"boolean"};class tr extends tt{constructor(l,f){super(l,f),this._isTransitioning=!1,this._triggerArray=[];const y=ie.find(Aa);for(const N of y){const x=ie.getSelectorFromElement(N),j=ie.find(x).filter(z=>z===this._element);x!==null&&j.length&&this._triggerArray.push(N)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Zs}static get DefaultType(){return yu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(N=>N!==this._element).map(N=>tr.getOrCreateInstance(N,{toggle:!1}))),l.length&&l[0]._isTransitioning||F.trigger(this._element,gu).defaultPrevented)return;for(const N of l)N.hide();const f=this._getDimension();this._element.classList.remove(oi),this._element.classList.add(Mn),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const y=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Mn),this._element.classList.add(oi,Sa),this._element.style[f]="",F.trigger(this._element,It)},this._element,!0),this._element.style[f]=`${this._element[y]}px`}hide(){if(this._isTransitioning||!this._isShown()||F.trigger(this._element,_u).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,R(this._element),this._element.classList.add(Mn),this._element.classList.remove(oi,Sa);for(const f of this._triggerArray){const y=ie.getElementFromSelector(f);y&&!this._isShown(y)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Mn),this._element.classList.add(oi),F.trigger(this._element,is)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Sa)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=c(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Aa);for(const f of l){const y=ie.getElementFromSelector(f);y&&this._addAriaAndCollapsedClass([f],this._isShown(y))}}_getFirstLevelChildren(l){const f=ie.find(cd,this._config.parent);return ie.find(l,this._config.parent).filter(y=>!f.includes(y))}_addAriaAndCollapsedClass(l,f){if(l.length)for(const y of l)y.classList.toggle("collapsed",!f),y.setAttribute("aria-expanded",f)}static jQueryInterface(l){const f={};return typeof l=="string"&&/show|hide/.test(l)&&(f.toggle=!1),this.each(function(){const y=tr.getOrCreateInstance(this,f);if(typeof l=="string"){if(y[l]===void 0)throw new TypeError(`No method named "${l}"`);y[l]()}})}}F.on(document,ss,Aa,function(m){(m.target.tagName==="A"||m.delegateTarget&&m.delegateTarget.tagName==="A")&&m.preventDefault();for(const l of ie.getMultipleElementsFromSelector(this))tr.getOrCreateInstance(l,{toggle:!1}).toggle()}),A(tr);var ot="top",Je="bottom",xt="right",yt="left",ai="auto",nr=[ot,Je,xt,yt],rr="start",Pr="end",vu="clippingParents",li="viewport",Rr="popper",eo="reference",br=nr.reduce(function(m,l){return m.concat([l+"-"+rr,l+"-"+Pr])},[]),Fn=[].concat(nr,[ai]).reduce(function(m,l){return m.concat([l,l+"-"+rr,l+"-"+Pr])},[]),to="beforeRead",wu="read",Ca="afterRead",ka="beforeMain",Pa="main",no="afterMain",ro="beforeWrite",Ra="write",ba="afterWrite",Eu=[to,wu,Ca,ka,Pa,no,ro,Ra,ba];function yn(m){return m?(m.nodeName||"").toLowerCase():null}function Ot(m){if(m==null)return window;if(m.toString()!=="[object Window]"){var l=m.ownerDocument;return l&&l.defaultView||window}return m}function ir(m){return m instanceof Ot(m).Element||m instanceof Element}function Yt(m){return m instanceof Ot(m).HTMLElement||m instanceof HTMLElement}function Un(m){return typeof ShadowRoot<"u"&&(m instanceof Ot(m).ShadowRoot||m instanceof ShadowRoot)}const un={name:"applyStyles",enabled:!0,phase:"write",fn:function(m){var l=m.state;Object.keys(l.elements).forEach(function(f){var y=l.styles[f]||{},N=l.attributes[f]||{},x=l.elements[f];Yt(x)&&yn(x)&&(Object.assign(x.style,y),Object.keys(N).forEach(function(j){var z=N[j];z===!1?x.removeAttribute(j):x.setAttribute(j,z===!0?"":z)}))})},effect:function(m){var l=m.state,f={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,f.popper),l.styles=f,l.elements.arrow&&Object.assign(l.elements.arrow.style,f.arrow),function(){Object.keys(l.elements).forEach(function(y){var N=l.elements[y],x=l.attributes[y]||{},j=Object.keys(l.styles.hasOwnProperty(y)?l.styles[y]:f[y]).reduce(function(z,G){return z[G]="",z},{});Yt(N)&&yn(N)&&(Object.assign(N.style,j),Object.keys(x).forEach(function(z){N.removeAttribute(z)}))})}},requires:["computeStyles"]};function Ht(m){return m.split("-")[0]}var vn=Math.max,os=Math.min,Ce=Math.round;function ui(){var m=navigator.userAgentData;return m!=null&&m.brands&&Array.isArray(m.brands)?m.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function ci(){return!/^((?!chrome|android).)*safari/i.test(ui())}function wn(m,l,f){l===void 0&&(l=!1),f===void 0&&(f=!1);var y=m.getBoundingClientRect(),N=1,x=1;l&&Yt(m)&&(N=m.offsetWidth>0&&Ce(y.width)/m.offsetWidth||1,x=m.offsetHeight>0&&Ce(y.height)/m.offsetHeight||1);var j=(ir(m)?Ot(m):window).visualViewport,z=!ci()&&f,G=(y.left+(z&&j?j.offsetLeft:0))/N,ee=(y.top+(z&&j?j.offsetTop:0))/x,ne=y.width/N,J=y.height/x;return{width:ne,height:J,top:ee,right:G+ne,bottom:ee+J,left:G,x:G,y:ee}}function Na(m){var l=wn(m),f=m.offsetWidth,y=m.offsetHeight;return Math.abs(l.width-f)<=1&&(f=l.width),Math.abs(l.height-y)<=1&&(y=l.height),{x:m.offsetLeft,y:m.offsetTop,width:f,height:y}}function xa(m,l){var f=l.getRootNode&&l.getRootNode();if(m.contains(l))return!0;if(f&&Un(f)){var y=l;do{if(y&&m.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function jn(m){return Ot(m).getComputedStyle(m)}function hd(m){return["table","td","th"].indexOf(yn(m))>=0}function sr(m){return((ir(m)?m.ownerDocument:m.document)||window.document).documentElement}function io(m){return yn(m)==="html"?m:m.assignedSlot||m.parentNode||(Un(m)?m.host:null)||sr(m)}function hi(m){return Yt(m)&&jn(m).position!=="fixed"?m.offsetParent:null}function Jt(m){for(var l=Ot(m),f=hi(m);f&&hd(f)&&jn(f).position==="static";)f=hi(f);return f&&(yn(f)==="html"||yn(f)==="body"&&jn(f).position==="static")?l:f||function(y){var N=/firefox/i.test(ui());if(/Trident/i.test(ui())&&Yt(y)&&jn(y).position==="fixed")return null;var x=io(y);for(Un(x)&&(x=x.host);Yt(x)&&["html","body"].indexOf(yn(x))<0;){var j=jn(x);if(j.transform!=="none"||j.perspective!=="none"||j.contain==="paint"||["transform","perspective"].indexOf(j.willChange)!==-1||N&&j.willChange==="filter"||N&&j.filter&&j.filter!=="none")return x;x=x.parentNode}return null}(m)||l}function so(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function di(m,l,f){return vn(m,os(l,f))}function Oa(m){return Object.assign({},{top:0,right:0,bottom:0,left:0},m)}function Nr(m,l){return l.reduce(function(f,y){return f[y]=m,f},{})}const Tu={name:"arrow",enabled:!0,phase:"main",fn:function(m){var l,f=m.state,y=m.name,N=m.options,x=f.elements.arrow,j=f.modifiersData.popperOffsets,z=Ht(f.placement),G=so(z),ee=[yt,xt].indexOf(z)>=0?"height":"width";if(x&&j){var ne=function(Ve,xe){return Oa(typeof(Ve=typeof Ve=="function"?Ve(Object.assign({},xe.rects,{placement:xe.placement})):Ve)!="number"?Ve:Nr(Ve,nr))}(N.padding,f),J=Na(x),ge=G==="y"?ot:yt,ae=G==="y"?Je:xt,de=f.rects.reference[ee]+f.rects.reference[G]-j[G]-f.rects.popper[ee],ue=j[G]-f.rects.reference[G],fe=Jt(x),Le=fe?G==="y"?fe.clientHeight||0:fe.clientWidth||0:0,$e=de/2-ue/2,ye=ne[ge],ke=Le-J[ee]-ne[ae],_e=Le/2-J[ee]/2+$e,Ee=di(ye,_e,ke),Ne=G;f.modifiersData[y]=((l={})[Ne]=Ee,l.centerOffset=Ee-_e,l)}},effect:function(m){var l=m.state,f=m.options.element,y=f===void 0?"[data-popper-arrow]":f;y!=null&&(typeof y!="string"||(y=l.elements.popper.querySelector(y)))&&xa(l.elements.popper,y)&&(l.elements.arrow=y)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fi(m){return m.split("-")[1]}var dd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $n(m){var l,f=m.popper,y=m.popperRect,N=m.placement,x=m.variation,j=m.offsets,z=m.position,G=m.gpuAcceleration,ee=m.adaptive,ne=m.roundOffsets,J=m.isFixed,ge=j.x,ae=ge===void 0?0:ge,de=j.y,ue=de===void 0?0:de,fe=typeof ne=="function"?ne({x:ae,y:ue}):{x:ae,y:ue};ae=fe.x,ue=fe.y;var Le=j.hasOwnProperty("x"),$e=j.hasOwnProperty("y"),ye=yt,ke=ot,_e=window;if(ee){var Ee=Jt(f),Ne="clientHeight",Ve="clientWidth";Ee===Ot(f)&&jn(Ee=sr(f)).position!=="static"&&z==="absolute"&&(Ne="scrollHeight",Ve="scrollWidth"),(N===ot||(N===yt||N===xt)&&x===Pr)&&(ke=Je,ue-=(J&&Ee===_e&&_e.visualViewport?_e.visualViewport.height:Ee[Ne])-y.height,ue*=G?1:-1),N!==yt&&(N!==ot&&N!==Je||x!==Pr)||(ye=xt,ae-=(J&&Ee===_e&&_e.visualViewport?_e.visualViewport.width:Ee[Ve])-y.width,ae*=G?1:-1)}var xe,rt=Object.assign({position:z},ee&&dd),cn=ne===!0?function(Bn,Wt){var Sn=Bn.x,An=Bn.y,Ze=Wt.devicePixelRatio||1;return{x:Ce(Sn*Ze)/Ze||0,y:Ce(An*Ze)/Ze||0}}({x:ae,y:ue},Ot(f)):{x:ae,y:ue};return ae=cn.x,ue=cn.y,G?Object.assign({},rt,((xe={})[ke]=$e?"0":"",xe[ye]=Le?"0":"",xe.transform=(_e.devicePixelRatio||1)<=1?"translate("+ae+"px, "+ue+"px)":"translate3d("+ae+"px, "+ue+"px, 0)",xe)):Object.assign({},rt,((l={})[ke]=$e?ue+"px":"",l[ye]=Le?ae+"px":"",l.transform="",l))}const Da={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(m){var l=m.state,f=m.options,y=f.gpuAcceleration,N=y===void 0||y,x=f.adaptive,j=x===void 0||x,z=f.roundOffsets,G=z===void 0||z,ee={placement:Ht(l.placement),variation:fi(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:N,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,$n(Object.assign({},ee,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:j,roundOffsets:G})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,$n(Object.assign({},ee,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:G})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var oo={passive:!0};const xr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(m){var l=m.state,f=m.instance,y=m.options,N=y.scroll,x=N===void 0||N,j=y.resize,z=j===void 0||j,G=Ot(l.elements.popper),ee=[].concat(l.scrollParents.reference,l.scrollParents.popper);return x&&ee.forEach(function(ne){ne.addEventListener("scroll",f.update,oo)}),z&&G.addEventListener("resize",f.update,oo),function(){x&&ee.forEach(function(ne){ne.removeEventListener("scroll",f.update,oo)}),z&&G.removeEventListener("resize",f.update,oo)}},data:{}};var ao={left:"right",right:"left",bottom:"top",top:"bottom"};function as(m){return m.replace(/left|right|bottom|top/g,function(l){return ao[l]})}var ls={start:"end",end:"start"};function pi(m){return m.replace(/start|end/g,function(l){return ls[l]})}function lo(m){var l=Ot(m);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function us(m){return wn(sr(m)).left+lo(m).scrollLeft}function je(m){var l=jn(m),f=l.overflow,y=l.overflowX,N=l.overflowY;return/auto|scroll|overlay|hidden/.test(f+N+y)}function Iu(m){return["html","body","#document"].indexOf(yn(m))>=0?m.ownerDocument.body:Yt(m)&&je(m)?m:Iu(io(m))}function cs(m,l){var f;l===void 0&&(l=[]);var y=Iu(m),N=y===((f=m.ownerDocument)==null?void 0:f.body),x=Ot(y),j=N?[x].concat(x.visualViewport||[],je(y)?y:[]):y,z=l.concat(j);return N?z:z.concat(cs(io(j)))}function uo(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function La(m,l,f){return l===li?uo(function(y,N){var x=Ot(y),j=sr(y),z=x.visualViewport,G=j.clientWidth,ee=j.clientHeight,ne=0,J=0;if(z){G=z.width,ee=z.height;var ge=ci();(ge||!ge&&N==="fixed")&&(ne=z.offsetLeft,J=z.offsetTop)}return{width:G,height:ee,x:ne+us(y),y:J}}(m,f)):ir(l)?function(y,N){var x=wn(y,!1,N==="fixed");return x.top=x.top+y.clientTop,x.left=x.left+y.clientLeft,x.bottom=x.top+y.clientHeight,x.right=x.left+y.clientWidth,x.width=y.clientWidth,x.height=y.clientHeight,x.x=x.left,x.y=x.top,x}(l,f):uo(function(y){var N,x=sr(y),j=lo(y),z=(N=y.ownerDocument)==null?void 0:N.body,G=vn(x.scrollWidth,x.clientWidth,z?z.scrollWidth:0,z?z.clientWidth:0),ee=vn(x.scrollHeight,x.clientHeight,z?z.scrollHeight:0,z?z.clientHeight:0),ne=-j.scrollLeft+us(y),J=-j.scrollTop;return jn(z||x).direction==="rtl"&&(ne+=vn(x.clientWidth,z?z.clientWidth:0)-G),{width:G,height:ee,x:ne,y:J}}(sr(m)))}function Va(m){var l,f=m.reference,y=m.element,N=m.placement,x=N?Ht(N):null,j=N?fi(N):null,z=f.x+f.width/2-y.width/2,G=f.y+f.height/2-y.height/2;switch(x){case ot:l={x:z,y:f.y-y.height};break;case Je:l={x:z,y:f.y+f.height};break;case xt:l={x:f.x+f.width,y:G};break;case yt:l={x:f.x-y.width,y:G};break;default:l={x:f.x,y:f.y}}var ee=x?so(x):null;if(ee!=null){var ne=ee==="y"?"height":"width";switch(j){case rr:l[ee]=l[ee]-(f[ne]/2-y[ne]/2);break;case Pr:l[ee]=l[ee]+(f[ne]/2-y[ne]/2)}}return l}function zn(m,l){l===void 0&&(l={});var f=l,y=f.placement,N=y===void 0?m.placement:y,x=f.strategy,j=x===void 0?m.strategy:x,z=f.boundary,G=z===void 0?vu:z,ee=f.rootBoundary,ne=ee===void 0?li:ee,J=f.elementContext,ge=J===void 0?Rr:J,ae=f.altBoundary,de=ae!==void 0&&ae,ue=f.padding,fe=ue===void 0?0:ue,Le=Oa(typeof fe!="number"?fe:Nr(fe,nr)),$e=ge===Rr?eo:Rr,ye=m.rects.popper,ke=m.elements[de?$e:ge],_e=function(Wt,Sn,An,Ze){var lr=Sn==="clippingParents"?function(Fe){var qt=cs(io(Fe)),Cn=["absolute","fixed"].indexOf(jn(Fe).position)>=0&&Yt(Fe)?Jt(Fe):Fe;return ir(Cn)?qt.filter(function(_i){return ir(_i)&&xa(_i,Cn)&&yn(_i)!=="body"}):[]}(Wt):[].concat(Sn),ur=[].concat(lr,[An]),go=ur[0],vt=ur.reduce(function(Fe,qt){var Cn=La(Wt,qt,Ze);return Fe.top=vn(Cn.top,Fe.top),Fe.right=os(Cn.right,Fe.right),Fe.bottom=os(Cn.bottom,Fe.bottom),Fe.left=vn(Cn.left,Fe.left),Fe},La(Wt,go,Ze));return vt.width=vt.right-vt.left,vt.height=vt.bottom-vt.top,vt.x=vt.left,vt.y=vt.top,vt}(ir(ke)?ke:ke.contextElement||sr(m.elements.popper),G,ne,j),Ee=wn(m.elements.reference),Ne=Va({reference:Ee,element:ye,strategy:"absolute",placement:N}),Ve=uo(Object.assign({},ye,Ne)),xe=ge===Rr?Ve:Ee,rt={top:_e.top-xe.top+Le.top,bottom:xe.bottom-_e.bottom+Le.bottom,left:_e.left-xe.left+Le.left,right:xe.right-_e.right+Le.right},cn=m.modifiersData.offset;if(ge===Rr&&cn){var Bn=cn[N];Object.keys(rt).forEach(function(Wt){var Sn=[xt,Je].indexOf(Wt)>=0?1:-1,An=[ot,Je].indexOf(Wt)>=0?"y":"x";rt[Wt]+=Bn[An]*Sn})}return rt}function Su(m,l){l===void 0&&(l={});var f=l,y=f.placement,N=f.boundary,x=f.rootBoundary,j=f.padding,z=f.flipVariations,G=f.allowedAutoPlacements,ee=G===void 0?Fn:G,ne=fi(y),J=ne?z?br:br.filter(function(de){return fi(de)===ne}):nr,ge=J.filter(function(de){return ee.indexOf(de)>=0});ge.length===0&&(ge=J);var ae=ge.reduce(function(de,ue){return de[ue]=zn(m,{placement:ue,boundary:N,rootBoundary:x,padding:j})[Ht(ue)],de},{});return Object.keys(ae).sort(function(de,ue){return ae[de]-ae[ue]})}const En={name:"flip",enabled:!0,phase:"main",fn:function(m){var l=m.state,f=m.options,y=m.name;if(!l.modifiersData[y]._skip){for(var N=f.mainAxis,x=N===void 0||N,j=f.altAxis,z=j===void 0||j,G=f.fallbackPlacements,ee=f.padding,ne=f.boundary,J=f.rootBoundary,ge=f.altBoundary,ae=f.flipVariations,de=ae===void 0||ae,ue=f.allowedAutoPlacements,fe=l.options.placement,Le=Ht(fe),$e=G||(Le!==fe&&de?function(Fe){if(Ht(Fe)===ai)return[];var qt=as(Fe);return[pi(Fe),qt,pi(qt)]}(fe):[as(fe)]),ye=[fe].concat($e).reduce(function(Fe,qt){return Fe.concat(Ht(qt)===ai?Su(l,{placement:qt,boundary:ne,rootBoundary:J,padding:ee,flipVariations:de,allowedAutoPlacements:ue}):qt)},[]),ke=l.rects.reference,_e=l.rects.popper,Ee=new Map,Ne=!0,Ve=ye[0],xe=0;xe<ye.length;xe++){var rt=ye[xe],cn=Ht(rt),Bn=fi(rt)===rr,Wt=[ot,Je].indexOf(cn)>=0,Sn=Wt?"width":"height",An=zn(l,{placement:rt,boundary:ne,rootBoundary:J,altBoundary:ge,padding:ee}),Ze=Wt?Bn?xt:yt:Bn?Je:ot;ke[Sn]>_e[Sn]&&(Ze=as(Ze));var lr=as(Ze),ur=[];if(x&&ur.push(An[cn]<=0),z&&ur.push(An[Ze]<=0,An[lr]<=0),ur.every(function(Fe){return Fe})){Ve=rt,Ne=!1;break}Ee.set(rt,ur)}if(Ne)for(var go=function(Fe){var qt=ye.find(function(Cn){var _i=Ee.get(Cn);if(_i)return _i.slice(0,Fe).every(function(zu){return zu})});if(qt)return Ve=qt,"break"},vt=de?3:1;vt>0&&go(vt)!=="break";vt--);l.placement!==Ve&&(l.modifiersData[y]._skip=!0,l.placement=Ve,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ma(m,l,f){return f===void 0&&(f={x:0,y:0}),{top:m.top-l.height-f.y,right:m.right-l.width+f.x,bottom:m.bottom-l.height+f.y,left:m.left-l.width-f.x}}function Au(m){return[ot,xt,Je,yt].some(function(l){return m[l]>=0})}const mi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(m){var l=m.state,f=m.name,y=l.rects.reference,N=l.rects.popper,x=l.modifiersData.preventOverflow,j=zn(l,{elementContext:"reference"}),z=zn(l,{altBoundary:!0}),G=Ma(j,y),ee=Ma(z,N,x),ne=Au(G),J=Au(ee);l.modifiersData[f]={referenceClippingOffsets:G,popperEscapeOffsets:ee,isReferenceHidden:ne,hasPopperEscaped:J},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":ne,"data-popper-escaped":J})}},Fa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(m){var l=m.state,f=m.options,y=m.name,N=f.offset,x=N===void 0?[0,0]:N,j=Fn.reduce(function(ne,J){return ne[J]=function(ge,ae,de){var ue=Ht(ge),fe=[yt,ot].indexOf(ue)>=0?-1:1,Le=typeof de=="function"?de(Object.assign({},ae,{placement:ge})):de,$e=Le[0],ye=Le[1];return $e=$e||0,ye=(ye||0)*fe,[yt,xt].indexOf(ue)>=0?{x:ye,y:$e}:{x:$e,y:ye}}(J,l.rects,x),ne},{}),z=j[l.placement],G=z.x,ee=z.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=G,l.modifiersData.popperOffsets.y+=ee),l.modifiersData[y]=j}},hs={name:"popperOffsets",enabled:!0,phase:"read",fn:function(m){var l=m.state,f=m.name;l.modifiersData[f]=Va({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},ds={name:"preventOverflow",enabled:!0,phase:"main",fn:function(m){var l=m.state,f=m.options,y=m.name,N=f.mainAxis,x=N===void 0||N,j=f.altAxis,z=j!==void 0&&j,G=f.boundary,ee=f.rootBoundary,ne=f.altBoundary,J=f.padding,ge=f.tether,ae=ge===void 0||ge,de=f.tetherOffset,ue=de===void 0?0:de,fe=zn(l,{boundary:G,rootBoundary:ee,padding:J,altBoundary:ne}),Le=Ht(l.placement),$e=fi(l.placement),ye=!$e,ke=so(Le),_e=ke==="x"?"y":"x",Ee=l.modifiersData.popperOffsets,Ne=l.rects.reference,Ve=l.rects.popper,xe=typeof ue=="function"?ue(Object.assign({},l.rects,{placement:l.placement})):ue,rt=typeof xe=="number"?{mainAxis:xe,altAxis:xe}:Object.assign({mainAxis:0,altAxis:0},xe),cn=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,Bn={x:0,y:0};if(Ee){if(x){var Wt,Sn=ke==="y"?ot:yt,An=ke==="y"?Je:xt,Ze=ke==="y"?"height":"width",lr=Ee[ke],ur=lr+fe[Sn],go=lr-fe[An],vt=ae?-Ve[Ze]/2:0,Fe=$e===rr?Ne[Ze]:Ve[Ze],qt=$e===rr?-Ve[Ze]:-Ne[Ze],Cn=l.elements.arrow,_i=ae&&Cn?Na(Cn):{width:0,height:0},zu=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},zg=zu[Sn],Bg=zu[An],Bu=di(0,Ne[Ze],_i[Ze]),_1=ye?Ne[Ze]/2-vt-Bu-zg-rt.mainAxis:Fe-Bu-zg-rt.mainAxis,y1=ye?-Ne[Ze]/2+vt+Bu+Bg+rt.mainAxis:qt+Bu+Bg+rt.mainAxis,Id=l.elements.arrow&&Jt(l.elements.arrow),v1=Id?ke==="y"?Id.clientTop||0:Id.clientLeft||0:0,Hg=(Wt=cn==null?void 0:cn[ke])!=null?Wt:0,w1=lr+y1-Hg,Wg=di(ae?os(ur,lr+_1-Hg-v1):ur,lr,ae?vn(go,w1):go);Ee[ke]=Wg,Bn[ke]=Wg-lr}if(z){var qg,E1=ke==="x"?ot:yt,T1=ke==="x"?Je:xt,ws=Ee[_e],Hu=_e==="y"?"height":"width",Kg=ws+fe[E1],Gg=ws-fe[T1],Sd=[ot,yt].indexOf(Le)!==-1,Qg=(qg=cn==null?void 0:cn[_e])!=null?qg:0,Xg=Sd?Kg:ws-Ne[Hu]-Ve[Hu]-Qg+rt.altAxis,Yg=Sd?ws+Ne[Hu]+Ve[Hu]-Qg-rt.altAxis:Gg,Jg=ae&&Sd?function(I1,S1,Ad){var Zg=di(I1,S1,Ad);return Zg>Ad?Ad:Zg}(Xg,ws,Yg):di(ae?Xg:Kg,ws,ae?Yg:Gg);Ee[_e]=Jg,Bn[_e]=Jg-ws}l.modifiersData[y]=Bn}},requiresIfExists:["offset"]};function Cu(m,l,f){f===void 0&&(f=!1);var y,N,x=Yt(l),j=Yt(l)&&function(J){var ge=J.getBoundingClientRect(),ae=Ce(ge.width)/J.offsetWidth||1,de=Ce(ge.height)/J.offsetHeight||1;return ae!==1||de!==1}(l),z=sr(l),G=wn(m,j,f),ee={scrollLeft:0,scrollTop:0},ne={x:0,y:0};return(x||!x&&!f)&&((yn(l)!=="body"||je(z))&&(ee=(y=l)!==Ot(y)&&Yt(y)?{scrollLeft:(N=y).scrollLeft,scrollTop:N.scrollTop}:lo(y)),Yt(l)?((ne=wn(l,!0)).x+=l.clientLeft,ne.y+=l.clientTop):z&&(ne.x=us(z))),{x:G.left+ee.scrollLeft-ne.x,y:G.top+ee.scrollTop-ne.y,width:G.width,height:G.height}}function co(m){var l=new Map,f=new Set,y=[];function N(x){f.add(x.name),[].concat(x.requires||[],x.requiresIfExists||[]).forEach(function(j){if(!f.has(j)){var z=l.get(j);z&&N(z)}}),y.push(x)}return m.forEach(function(x){l.set(x.name,x)}),m.forEach(function(x){f.has(x.name)||N(x)}),y}var ku={placement:"bottom",modifiers:[],strategy:"absolute"};function Ua(){for(var m=arguments.length,l=new Array(m),f=0;f<m;f++)l[f]=arguments[f];return!l.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function or(m){m===void 0&&(m={});var l=m,f=l.defaultModifiers,y=f===void 0?[]:f,N=l.defaultOptions,x=N===void 0?ku:N;return function(j,z,G){G===void 0&&(G=x);var ee,ne,J={placement:"bottom",orderedModifiers:[],options:Object.assign({},ku,x),modifiersData:{},elements:{reference:j,popper:z},attributes:{},styles:{}},ge=[],ae=!1,de={state:J,setOptions:function(fe){var Le=typeof fe=="function"?fe(J.options):fe;ue(),J.options=Object.assign({},x,J.options,Le),J.scrollParents={reference:ir(j)?cs(j):j.contextElement?cs(j.contextElement):[],popper:cs(z)};var $e,ye,ke=function(_e){var Ee=co(_e);return Eu.reduce(function(Ne,Ve){return Ne.concat(Ee.filter(function(xe){return xe.phase===Ve}))},[])}(($e=[].concat(y,J.options.modifiers),ye=$e.reduce(function(_e,Ee){var Ne=_e[Ee.name];return _e[Ee.name]=Ne?Object.assign({},Ne,Ee,{options:Object.assign({},Ne.options,Ee.options),data:Object.assign({},Ne.data,Ee.data)}):Ee,_e},{}),Object.keys(ye).map(function(_e){return ye[_e]})));return J.orderedModifiers=ke.filter(function(_e){return _e.enabled}),J.orderedModifiers.forEach(function(_e){var Ee=_e.name,Ne=_e.options,Ve=Ne===void 0?{}:Ne,xe=_e.effect;if(typeof xe=="function"){var rt=xe({state:J,name:Ee,instance:de,options:Ve});ge.push(rt||function(){})}}),de.update()},forceUpdate:function(){if(!ae){var fe=J.elements,Le=fe.reference,$e=fe.popper;if(Ua(Le,$e)){J.rects={reference:Cu(Le,Jt($e),J.options.strategy==="fixed"),popper:Na($e)},J.reset=!1,J.placement=J.options.placement,J.orderedModifiers.forEach(function(xe){return J.modifiersData[xe.name]=Object.assign({},xe.data)});for(var ye=0;ye<J.orderedModifiers.length;ye++)if(J.reset!==!0){var ke=J.orderedModifiers[ye],_e=ke.fn,Ee=ke.options,Ne=Ee===void 0?{}:Ee,Ve=ke.name;typeof _e=="function"&&(J=_e({state:J,options:Ne,name:Ve,instance:de})||J)}else J.reset=!1,ye=-1}}},update:(ee=function(){return new Promise(function(fe){de.forceUpdate(),fe(J)})},function(){return ne||(ne=new Promise(function(fe){Promise.resolve().then(function(){ne=void 0,fe(ee())})})),ne}),destroy:function(){ue(),ae=!0}};if(!Ua(j,z))return de;function ue(){ge.forEach(function(fe){return fe()}),ge=[]}return de.setOptions(G).then(function(fe){!ae&&G.onFirstUpdate&&G.onFirstUpdate(fe)}),de}}var Pu=or(),Ru=or({defaultModifiers:[xr,hs,Da,un]}),fs=or({defaultModifiers:[xr,hs,Da,un,Fa,En,ds,Tu,mi]});const ho=Object.freeze(Object.defineProperty({__proto__:null,afterMain:no,afterRead:Ca,afterWrite:ba,applyStyles:un,arrow:Tu,auto:ai,basePlacements:nr,beforeMain:ka,beforeRead:to,beforeWrite:ro,bottom:Je,clippingParents:vu,computeStyles:Da,createPopper:fs,createPopperBase:Pu,createPopperLite:Ru,detectOverflow:zn,end:Pr,eventListeners:xr,flip:En,hide:mi,left:yt,main:Pa,modifierPhases:Eu,offset:Fa,placements:Fn,popper:Rr,popperGenerator:or,popperOffsets:hs,preventOverflow:ds,read:wu,reference:eo,right:xt,start:rr,top:ot,variationPlacements:br,viewport:li,write:Ra},Symbol.toStringTag,{value:"Module"})),ja="dropdown",Tn=".bs.dropdown",fo=".data-api",bu="ArrowUp",ar="ArrowDown",Nu=`hide${Tn}`,xu=`hidden${Tn}`,Ou=`show${Tn}`,Du=`shown${Tn}`,ps=`click${Tn}${fo}`,Dt=`keydown${Tn}${fo}`,Lu=`keyup${Tn}${fo}`,Or="show",Zt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',a=`${Zt}.${Or}`,h=".dropdown-menu",p=M()?"top-end":"top-start",v=M()?"top-start":"top-end",O=M()?"bottom-end":"bottom-start",U=M()?"bottom-start":"bottom-end",K=M()?"left-start":"right-start",be=M()?"right-start":"left-start",dt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ie={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class De extends tt{constructor(l,f){super(l,f),this._popper=null,this._parent=this._element.parentNode,this._menu=ie.next(this._element,h)[0]||ie.prev(this._element,h)[0]||ie.findOne(h,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return dt}static get DefaultType(){return Ie}static get NAME(){return ja}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!F.trigger(this._element,Ou,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const f of[].concat(...document.body.children))F.on(f,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Or),this._element.classList.add(Or),F.trigger(this._element,Du,l)}}hide(){if(g(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!F.trigger(this._element,Nu,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))F.off(f,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(Or),this._element.classList.remove(Or),this._element.setAttribute("aria-expanded","false"),ct.removeDataAttribute(this._menu,"popper"),F.trigger(this._element,xu,l)}}_getConfig(l){if(typeof(l=super._getConfig(l)).reference=="object"&&!u(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${ja.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(ho===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;this._config.reference==="parent"?l=this._parent:u(this._config.reference)?l=c(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const f=this._getPopperConfig();this._popper=fs(l,this._menu,f)}_isShown(){return this._menu.classList.contains(Or)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return K;if(l.classList.contains("dropstart"))return be;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains("dropup")?f?v:p:f?U:O}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(f=>Number.parseInt(f,10)):typeof l=="function"?f=>l(f,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ct.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...T(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:f}){const y=ie.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(N=>d(N));y.length&&$(y,f,l===ar,!y.includes(f)).focus()}static jQueryInterface(l){return this.each(function(){const f=De.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0)throw new TypeError(`No method named "${l}"`);f[l]()}})}static clearMenus(l){if(l.button===2||l.type==="keyup"&&l.key!=="Tab")return;const f=ie.find(a);for(const y of f){const N=De.getInstance(y);if(!N||N._config.autoClose===!1)continue;const x=l.composedPath(),j=x.includes(N._menu);if(x.includes(N._element)||N._config.autoClose==="inside"&&!j||N._config.autoClose==="outside"&&j||N._menu.contains(l.target)&&(l.type==="keyup"&&l.key==="Tab"||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const z={relatedTarget:N._element};l.type==="click"&&(z.clickEvent=l),N._completeHide(z)}}static dataApiKeydownHandler(l){const f=/input|textarea/i.test(l.target.tagName),y=l.key==="Escape",N=[bu,ar].includes(l.key);if(!N&&!y||f&&!y)return;l.preventDefault();const x=this.matches(Zt)?this:ie.prev(this,Zt)[0]||ie.next(this,Zt)[0]||ie.findOne(Zt,l.delegateTarget.parentNode),j=De.getOrCreateInstance(x);if(N)return l.stopPropagation(),j.show(),void j._selectMenuItem(l);j._isShown()&&(l.stopPropagation(),j.hide(),x.focus())}}F.on(document,Dt,Zt,De.dataApiKeydownHandler),F.on(document,Dt,h,De.dataApiKeydownHandler),F.on(document,ps,De.clearMenus),F.on(document,Lu,De.clearMenus),F.on(document,ps,Zt,function(m){m.preventDefault(),De.getOrCreateInstance(this).toggle()}),A(De);const ft="backdrop",Dr="show",en=`mousedown.bs.${ft}`,po={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},$a={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class fg extends Bt{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return po}static get DefaultType(){return $a}static get NAME(){return ft}show(l){if(!this._config.isVisible)return void T(l);this._append();const f=this._getElement();this._config.isAnimated&&R(f),f.classList.add(Dr),this._emulateAnimation(()=>{T(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove(Dr),this._emulateAnimation(()=>{this.dispose(),T(l)})):T(l)}dispose(){this._isAppended&&(F.off(this._element,en),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=c(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),F.on(l,en,()=>{T(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){P(l,this._getElement(),this._config.isAnimated)}}const Vu=".bs.focustrap",cI=`focusin${Vu}`,hI=`keydown.tab${Vu}`,pg="backward",dI={autofocus:!0,trapElement:null},fI={autofocus:"boolean",trapElement:"element"};class mg extends Bt{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return dI}static get DefaultType(){return fI}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),F.off(document,Vu),F.on(document,cI,l=>this._handleFocusin(l)),F.on(document,hI,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,F.off(document,Vu))}_handleFocusin(l){const{trapElement:f}=this._config;if(l.target===document||l.target===f||f.contains(l.target))return;const y=ie.focusableChildren(f);y.length===0?f.focus():this._lastTabNavDirection===pg?y[y.length-1].focus():y[0].focus()}_handleKeydown(l){l.key==="Tab"&&(this._lastTabNavDirection=l.shiftKey?pg:"forward")}}const gg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_g=".sticky-top",Mu="padding-right",yg="margin-right";class fd{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Mu,f=>f+l),this._setElementAttributes(gg,Mu,f=>f+l),this._setElementAttributes(_g,yg,f=>f-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Mu),this._resetElementAttributes(gg,Mu),this._resetElementAttributes(_g,yg)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,f,y){const N=this.getWidth();this._applyManipulationCallback(l,x=>{if(x!==this._element&&window.innerWidth>x.clientWidth+N)return;this._saveInitialAttribute(x,f);const j=window.getComputedStyle(x).getPropertyValue(f);x.style.setProperty(f,`${y(Number.parseFloat(j))}px`)})}_saveInitialAttribute(l,f){const y=l.style.getPropertyValue(f);y&&ct.setDataAttribute(l,f,y)}_resetElementAttributes(l,f){this._applyManipulationCallback(l,y=>{const N=ct.getDataAttribute(y,f);N!==null?(ct.removeDataAttribute(y,f),y.style.setProperty(f,N)):y.style.removeProperty(f)})}_applyManipulationCallback(l,f){if(u(l))f(l);else for(const y of ie.find(l,this._element))f(y)}}const In=".bs.modal",pI=`hide${In}`,mI=`hidePrevented${In}`,vg=`hidden${In}`,wg=`show${In}`,gI=`shown${In}`,_I=`resize${In}`,yI=`click.dismiss${In}`,vI=`mousedown.dismiss${In}`,wI=`keydown.dismiss${In}`,EI=`click${In}.data-api`,Eg="modal-open",Tg="show",pd="modal-static",TI={backdrop:!0,focus:!0,keyboard:!0},II={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ms extends tt{constructor(l,f){super(l,f),this._dialog=ie.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new fd,this._addEventListeners()}static get Default(){return TI}static get DefaultType(){return II}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||F.trigger(this._element,wg,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Eg),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){this._isShown&&!this._isTransitioning&&(F.trigger(this._element,pI).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Tg),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){F.off(window,In),F.off(this._dialog,In),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new fg({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new mg({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=ie.findOne(".modal-body",this._dialog);f&&(f.scrollTop=0),R(this._element),this._element.classList.add(Tg),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,F.trigger(this._element,gI,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){F.on(this._element,wI,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),F.on(window,_I,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),F.on(this._element,vI,l=>{F.one(this._element,yI,f=>{this._element===l.target&&this._element===f.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Eg),this._resetAdjustments(),this._scrollBar.reset(),F.trigger(this._element,vg)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(F.trigger(this._element,mI).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;f==="hidden"||this._element.classList.contains(pd)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(pd),this._queueCallback(()=>{this._element.classList.remove(pd),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),y=f>0;if(y&&!l){const N=M()?"paddingLeft":"paddingRight";this._element.style[N]=`${f}px`}if(!y&&l){const N=M()?"paddingRight":"paddingLeft";this._element.style[N]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,f){return this.each(function(){const y=ms.getOrCreateInstance(this,l);if(typeof l=="string"){if(y[l]===void 0)throw new TypeError(`No method named "${l}"`);y[l](f)}})}}F.on(document,EI,'[data-bs-toggle="modal"]',function(m){const l=ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&m.preventDefault(),F.one(l,wg,y=>{y.defaultPrevented||F.one(l,vg,()=>{d(this)&&this.focus()})});const f=ie.findOne(".modal.show");f&&ms.getInstance(f).hide(),ms.getOrCreateInstance(l).toggle(this)}),Gs(ms),A(ms);const Lr=".bs.offcanvas",Ig=".data-api",SI=`load${Lr}${Ig}`,Sg="show",Ag="showing",Cg="hiding",kg=".offcanvas.show",AI=`show${Lr}`,CI=`shown${Lr}`,kI=`hide${Lr}`,Pg=`hidePrevented${Lr}`,Rg=`hidden${Lr}`,PI=`resize${Lr}`,RI=`click${Lr}${Ig}`,bI=`keydown.dismiss${Lr}`,NI={backdrop:!0,keyboard:!0,scroll:!1},xI={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Vr extends tt{constructor(l,f){super(l,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return NI}static get DefaultType(){return xI}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||F.trigger(this._element,AI,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new fd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ag),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Sg),this._element.classList.remove(Ag),F.trigger(this._element,CI,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&(F.trigger(this._element,kI).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Cg),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Sg,Cg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new fd().reset(),F.trigger(this._element,Rg)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new fg({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{this._config.backdrop!=="static"?this.hide():F.trigger(this._element,Pg)}:null})}_initializeFocusTrap(){return new mg({trapElement:this._element})}_addEventListeners(){F.on(this._element,bI,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():F.trigger(this._element,Pg))})}static jQueryInterface(l){return this.each(function(){const f=Vr.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l](this)}})}}F.on(document,RI,'[data-bs-toggle="offcanvas"]',function(m){const l=ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),g(this))return;F.one(l,Rg,()=>{d(this)&&this.focus()});const f=ie.findOne(kg);f&&f!==l&&Vr.getInstance(f).hide(),Vr.getOrCreateInstance(l).toggle(this)}),F.on(window,SI,()=>{for(const m of ie.find(kg))Vr.getOrCreateInstance(m).show()}),F.on(window,PI,()=>{for(const m of ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(m).position!=="fixed"&&Vr.getOrCreateInstance(m).hide()}),Gs(Vr),A(Vr);const bg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},OI=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),DI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,LI=(m,l)=>{const f=m.nodeName.toLowerCase();return l.includes(f)?!OI.has(f)||!!DI.test(m.nodeValue):l.filter(y=>y instanceof RegExp).some(y=>y.test(f))},VI={allowList:bg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},MI={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},FI={entry:"(string|element|function|null)",selector:"(string|element)"};class UI extends Bt{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return VI}static get DefaultType(){return MI}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[N,x]of Object.entries(this._config.content))this._setContent(l,x,N);const f=l.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&f.classList.add(...y.split(" ")),f}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[f,y]of Object.entries(l))super._typeCheckConfig({selector:f,entry:y},FI)}_setContent(l,f,y){const N=ie.findOne(y,l);N&&((f=this._resolvePossibleFunction(f))?u(f)?this._putElementInTemplate(c(f),N):this._config.html?N.innerHTML=this._maybeSanitize(f):N.textContent=f:N.remove())}_maybeSanitize(l){return this._config.sanitize?function(f,y,N){if(!f.length)return f;if(N&&typeof N=="function")return N(f);const x=new window.DOMParser().parseFromString(f,"text/html"),j=[].concat(...x.body.querySelectorAll("*"));for(const z of j){const G=z.nodeName.toLowerCase();if(!Object.keys(y).includes(G)){z.remove();continue}const ee=[].concat(...z.attributes),ne=[].concat(y["*"]||[],y[G]||[]);for(const J of ee)LI(J,ne)||z.removeAttribute(J.nodeName)}return x.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return T(l,[this])}_putElementInTemplate(l,f){if(this._config.html)return f.innerHTML="",void f.append(l);f.textContent=l.textContent}}const jI=new Set(["sanitize","allowList","sanitizeFn"]),md="fade",Fu="show",Ng=".modal",xg="hide.bs.modal",za="hover",gd="focus",$I={AUTO:"auto",TOP:"top",RIGHT:M()?"left":"right",BOTTOM:"bottom",LEFT:M()?"right":"left"},zI={allowList:bg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},BI={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class gs extends tt{constructor(l,f){if(ho===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return zI}static get DefaultType(){return BI}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),F.off(this._element.closest(Ng),xg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=F.trigger(this._element,this.constructor.eventName("show")),f=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!f)return;this._disposePopper();const y=this._getTipElement();this._element.setAttribute("aria-describedby",y.getAttribute("id"));const{container:N}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(N.append(y),F.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(y),y.classList.add(Fu),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))F.on(x,"mouseover",E);this._queueCallback(()=>{F.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!F.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Fu),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))F.off(l,"mouseover",E);this._activeTrigger.click=!1,this._activeTrigger[gd]=!1,this._activeTrigger[za]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),F.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const f=this._getTemplateFactory(l).toHtml();if(!f)return null;f.classList.remove(md,Fu),f.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(N=>{do N+=Math.floor(1e6*Math.random());while(document.getElementById(N));return N})(this.constructor.NAME).toString();return f.setAttribute("id",y),this._isAnimated()&&f.classList.add(md),f}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new UI({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(md)}_isShown(){return this.tip&&this.tip.classList.contains(Fu)}_createPopper(l){const f=T(this._config.placement,[this,l,this._element]),y=$I[f.toUpperCase()];return fs(this._element,l,this._getPopperConfig(y))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(f=>Number.parseInt(f,10)):typeof l=="function"?f=>l(f,this._element):l}_resolvePossibleFunction(l){return T(l,[this._element])}_getPopperConfig(l){const f={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...f,...T(this._config.popperConfig,[f])}}_setListeners(){const l=this._config.trigger.split(" ");for(const f of l)if(f==="click")F.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if(f!=="manual"){const y=f===za?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),N=f===za?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");F.on(this._element,y,this._config.selector,x=>{const j=this._initializeOnDelegatedTarget(x);j._activeTrigger[x.type==="focusin"?gd:za]=!0,j._enter()}),F.on(this._element,N,this._config.selector,x=>{const j=this._initializeOnDelegatedTarget(x);j._activeTrigger[x.type==="focusout"?gd:za]=j._element.contains(x.relatedTarget),j._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},F.on(this._element.closest(Ng),xg,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,f){clearTimeout(this._timeout),this._timeout=setTimeout(l,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const f=ct.getDataAttributes(this._element);for(const y of Object.keys(f))jI.has(y)&&delete f[y];return l={...f,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:c(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[f,y]of Object.entries(this._config))this.constructor.Default[f]!==y&&(l[f]=y);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const f=gs.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0)throw new TypeError(`No method named "${l}"`);f[l]()}})}}A(gs);const HI={...gs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},WI={...gs.DefaultType,content:"(null|string|element|function)"};class Uu extends gs{static get Default(){return HI}static get DefaultType(){return WI}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const f=Uu.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0)throw new TypeError(`No method named "${l}"`);f[l]()}})}}A(Uu);const _d=".bs.scrollspy",qI=`activate${_d}`,Og=`click${_d}`,KI=`load${_d}.data-api`,mo="active",yd="[href]",Dg=".nav-link",GI=`${Dg}, .nav-item > ${Dg}, .list-group-item`,QI={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},XI={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ba extends tt{constructor(l,f){super(l,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return QI}static get DefaultType(){return XI}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=c(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(f=>Number.parseFloat(f))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(F.off(this._config.target,Og),F.on(this._config.target,Og,yd,l=>{const f=this._observableSections.get(l.target.hash);if(f){l.preventDefault();const y=this._rootElement||window,N=f.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:N,behavior:"smooth"});y.scrollTop=N}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),l)}_observerCallback(l){const f=j=>this._targetLinks.get(`#${j.target.id}`),y=j=>{this._previousScrollData.visibleEntryTop=j.target.offsetTop,this._process(f(j))},N=(this._rootElement||document.documentElement).scrollTop,x=N>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=N;for(const j of l){if(!j.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(j));continue}const z=j.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(x&&z){if(y(j),!N)return}else x||z||y(j)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=ie.find(yd,this._config.target);for(const f of l){if(!f.hash||g(f))continue;const y=ie.findOne(decodeURI(f.hash),this._element);d(y)&&(this._targetLinks.set(decodeURI(f.hash),f),this._observableSections.set(f.hash,y))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(mo),this._activateParents(l),F.trigger(this._element,qI,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))ie.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(mo);else for(const f of ie.parents(l,".nav, .list-group"))for(const y of ie.prev(f,GI))y.classList.add(mo)}_clearActiveClass(l){l.classList.remove(mo);const f=ie.find(`${yd}.${mo}`,l);for(const y of f)y.classList.remove(mo)}static jQueryInterface(l){return this.each(function(){const f=Ba.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l]()}})}}F.on(window,KI,()=>{for(const m of ie.find('[data-bs-spy="scroll"]'))Ba.getOrCreateInstance(m)}),A(Ba);const _s=".bs.tab",YI=`hide${_s}`,JI=`hidden${_s}`,ZI=`show${_s}`,e1=`shown${_s}`,t1=`click${_s}`,n1=`keydown${_s}`,r1=`load${_s}`,i1="ArrowLeft",Lg="ArrowRight",s1="ArrowUp",Vg="ArrowDown",vd="Home",Mg="End",ys="active",Fg="fade",wd="show",Ug=".dropdown-toggle",Ed=`:not(${Ug})`,jg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Td=`.nav-link${Ed}, .list-group-item${Ed}, [role="tab"]${Ed}, ${jg}`,o1=`.${ys}[data-bs-toggle="tab"], .${ys}[data-bs-toggle="pill"], .${ys}[data-bs-toggle="list"]`;class vs extends tt{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),F.on(this._element,n1,f=>this._keydown(f)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const f=this._getActiveElem(),y=f?F.trigger(f,YI,{relatedTarget:l}):null;F.trigger(l,ZI,{relatedTarget:f}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(f,l),this._activate(l,f))}_activate(l,f){l&&(l.classList.add(ys),this._activate(ie.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),F.trigger(l,e1,{relatedTarget:f})):l.classList.add(wd)},l,l.classList.contains(Fg)))}_deactivate(l,f){l&&(l.classList.remove(ys),l.blur(),this._deactivate(ie.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),F.trigger(l,JI,{relatedTarget:f})):l.classList.remove(wd)},l,l.classList.contains(Fg)))}_keydown(l){if(![i1,Lg,s1,Vg,vd,Mg].includes(l.key))return;l.stopPropagation(),l.preventDefault();const f=this._getChildren().filter(N=>!g(N));let y;if([vd,Mg].includes(l.key))y=f[l.key===vd?0:f.length-1];else{const N=[Lg,Vg].includes(l.key);y=$(f,l.target,N,!0)}y&&(y.focus({preventScroll:!0}),vs.getOrCreateInstance(y).show())}_getChildren(){return ie.find(Td,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,f){this._setAttributeIfNotExists(l,"role","tablist");for(const y of f)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const f=this._elemIsActive(l),y=this._getOuterElement(l);l.setAttribute("aria-selected",f),y!==l&&this._setAttributeIfNotExists(y,"role","presentation"),f||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const f=ie.getElementFromSelector(l);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,f){const y=this._getOuterElement(l);if(!y.classList.contains("dropdown"))return;const N=(x,j)=>{const z=ie.findOne(x,y);z&&z.classList.toggle(j,f)};N(Ug,ys),N(".dropdown-menu",wd),y.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(l,f,y){l.hasAttribute(f)||l.setAttribute(f,y)}_elemIsActive(l){return l.classList.contains(ys)}_getInnerElement(l){return l.matches(Td)?l:ie.findOne(Td,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const f=vs.getOrCreateInstance(this);if(typeof l=="string"){if(f[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);f[l]()}})}}F.on(document,t1,jg,function(m){["A","AREA"].includes(this.tagName)&&m.preventDefault(),g(this)||vs.getOrCreateInstance(this).show()}),F.on(window,r1,()=>{for(const m of ie.find(o1))vs.getOrCreateInstance(m)}),A(vs);const gi=".bs.toast",a1=`mouseover${gi}`,l1=`mouseout${gi}`,u1=`focusin${gi}`,c1=`focusout${gi}`,h1=`hide${gi}`,d1=`hidden${gi}`,f1=`show${gi}`,p1=`shown${gi}`,$g="hide",ju="show",$u="showing",m1={animation:"boolean",autohide:"boolean",delay:"number"},g1={animation:!0,autohide:!0,delay:5e3};class Ha extends tt{constructor(l,f){super(l,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return g1}static get DefaultType(){return m1}static get NAME(){return"toast"}show(){F.trigger(this._element,f1).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove($g),R(this._element),this._element.classList.add(ju,$u),this._queueCallback(()=>{this._element.classList.remove($u),F.trigger(this._element,p1),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(F.trigger(this._element,h1).defaultPrevented||(this._element.classList.add($u),this._queueCallback(()=>{this._element.classList.add($g),this._element.classList.remove($u,ju),F.trigger(this._element,d1)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ju),super.dispose()}isShown(){return this._element.classList.contains(ju)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,f){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=f;break;case"focusin":case"focusout":this._hasKeyboardInteraction=f}if(f)return void this._clearTimeout();const y=l.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){F.on(this._element,a1,l=>this._onInteraction(l,!0)),F.on(this._element,l1,l=>this._onInteraction(l,!1)),F.on(this._element,u1,l=>this._onInteraction(l,!0)),F.on(this._element,c1,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const f=Ha.getOrCreateInstance(this,l);if(typeof l=="string"){if(f[l]===void 0)throw new TypeError(`No method named "${l}"`);f[l](this)}})}}return Gs(Ha),A(Ha),{Alert:Er,Button:Tr,Carousel:kr,Collapse:tr,Dropdown:De,Modal:ms,Offcanvas:Vr,Popover:Uu,ScrollSpy:Ba,Tab:vs,Toast:Ha,Tooltip:gs}})})(XO);function YO(){const[t,e]=X.useState(!1);X.useEffect(()=>{const r=gR(Pp,i=>{e(!!i)});return()=>r()},[]);const n=async()=>{try{await _R(Pp),e(!1),console.log("Logout successful")}catch(r){console.error("Error signing out:",r)}};return Z.jsx(GC,{children:Z.jsx("div",{className:"App",children:Z.jsx("header",{className:"App-header",children:t?Z.jsxs(Z.Fragment,{children:[Z.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Z.jsxs("div",{className:"container",children:[Z.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Z.jsx("span",{className:"navbar-toggler-icon"})}),Z.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Z.jsxs("ul",{className:"navbar-nav",children:[Z.jsx("li",{className:"nav-item",children:Z.jsx(_y,{className:"nav-link",to:"/form",children:"Formulario de Registro"})}),Z.jsx("li",{className:"nav-item",children:Z.jsx(_y,{className:"nav-link",to:"/list",children:"Lista de Rutas"})}),Z.jsx("li",{className:"nav-item",children:Z.jsx("button",{className:"nav-link btn btn-link",onClick:n,children:"Cerrar Sesin"})})]})})]})}),Z.jsxs(my,{children:[Z.jsx(yo,{path:"/form",element:Z.jsx(GO,{})}),Z.jsx(yo,{path:"/list",element:Z.jsx(QO,{})}),Z.jsx(yo,{path:"/",element:Z.jsx(py,{to:"/form"})})]})]}):Z.jsxs(my,{children:[Z.jsx(yo,{path:"/",element:Z.jsx(KO,{onLoginSuccess:()=>e(!0)})}),Z.jsx(yo,{path:"*",element:Z.jsx(py,{to:"/"})})]})})})})}const JO=hf.createRoot(document.getElementById("root"));JO.render(Z.jsx(Uv.StrictMode,{children:Z.jsx(YO,{})}));
